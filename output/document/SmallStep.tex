%
\begin{isabellebody}%
\setisabellecontext{SmallStep}%
%
\isamarkupsection{Small-Step Semantics and Infinite Computations%
}
\isamarkuptrue%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ SmallStep\ \isakeyword{imports}\ Termination\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\begin{isamarkuptext}%
The redex of a statement is the substatement, which is actually altered
by the next step in the small-step semantics.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{primrec}\isamarkupfalse%
\ redex{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}com\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}com{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
{\isachardoublequoteopen}redex\ Skip\ {\isacharequal}\ Skip{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redex\ {\isacharparenleft}Basic\ f{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Basic\ f{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redex\ {\isacharparenleft}Spec\ r{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Spec\ r{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redex\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ redex\ c\isactrlsub {\isadigit{1}}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redex\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redex\ {\isacharparenleft}While\ b\ c{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redex\ {\isacharparenleft}Call\ p{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Call\ p{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redex\ {\isacharparenleft}DynCom\ d{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}DynCom\ d{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redex\ {\isacharparenleft}Guard\ f\ b\ c{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Guard\ f\ b\ c{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redex\ {\isacharparenleft}Throw{\isacharparenright}\ {\isacharequal}\ Throw{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redex\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ redex\ c\isactrlsub {\isadigit{1}}{\isachardoublequoteclose}%
\isamarkupsubsection{Small-Step Computation: \isa{{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}}%
}
\isamarkuptrue%
\isacommand{type{\isacharunderscore}synonym}\isamarkupfalse%
\ {\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ config\ {\isacharequal}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}com\ \ {\isasymtimes}\ {\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}f{\isacharparenright}\ xstate{\isachardoublequoteclose}\isanewline
\isacommand{inductive}\isamarkupfalse%
\ {\isachardoublequoteopen}step{\isachardoublequoteclose}{\isacharcolon}{\isacharcolon}{\isachardoublequoteopen}{\isacharbrackleft}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ body{\isacharcomma}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ config{\isacharcomma}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ config{\isacharbrackright}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}{\isasymturnstile}\ {\isacharparenleft}{\isacharunderscore}\ {\isasymrightarrow}{\isacharslash}\ {\isacharunderscore}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{8}}{\isadigit{1}}{\isacharcomma}{\isadigit{8}}{\isadigit{1}}{\isacharcomma}{\isadigit{8}}{\isadigit{1}}{\isacharbrackright}\ {\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isacharparenright}\isanewline
\ \ \isakeyword{for}\ {\isasymGamma}{\isacharcolon}{\isacharcolon}{\isachardoublequoteopen}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ body{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
\isanewline
\ \ Basic{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Basic\ f{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}Normal\ {\isacharparenleft}f\ s{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
{\isacharbar}\ Spec{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}s{\isacharcomma}t{\isacharparenright}\ {\isasymin}\ r\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Spec\ r{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}Normal\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
{\isacharbar}\ SpecStuck{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}t{\isachardot}\ {\isacharparenleft}s{\isacharcomma}t{\isacharparenright}\ {\isasymnotin}\ r\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Spec\ r{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}Stuck{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
{\isacharbar}\ Guard{\isacharcolon}\ {\isachardoublequoteopen}s{\isasymin}g\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Guard\ f\ g\ c{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isanewline
{\isacharbar}\ GuardFault{\isacharcolon}\ {\isachardoublequoteopen}s{\isasymnotin}g\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Guard\ f\ g\ c{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}Fault\ f{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
{\isacharbar}\ Seq{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
{\isacharbar}\ SeqSkip{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Seq\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
{\isacharbar}\ SeqThrow{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Seq\ Throw\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Throw{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
{\isacharbar}\ CondTrue{\isacharcolon}\ \ {\isachardoublequoteopen}s{\isasymin}b\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
{\isacharbar}\ CondFalse{\isacharcolon}\ {\isachardoublequoteopen}s{\isasymnotin}b\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
{\isacharbar}\ WhileTrue{\isacharcolon}\ {\isachardoublequoteopen}{\isasymlbrakk}s{\isasymin}b{\isasymrbrakk}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
{\isacharbar}\ WhileFalse{\isacharcolon}\ {\isachardoublequoteopen}{\isasymlbrakk}s{\isasymnotin}b{\isasymrbrakk}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
{\isacharbar}\ Call{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p{\isacharequal}Some\ bdy\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}bdy{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
{\isacharbar}\ CallUndefined{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p{\isacharequal}None\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}Stuck{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
{\isacharbar}\ DynCom{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}DynCom\ c{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\ s{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
{\isacharbar}\ Catch{\isacharcolon}\ {\isachardoublequoteopen}{\isasymlbrakk}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isasymrbrakk}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
{\isacharbar}\ CatchThrow{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Catch\ Throw\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
{\isacharbar}\ CatchSkip{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Catch\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
{\isacharbar}\ FaultProp{\isacharcolon}\ \ {\isachardoublequoteopen}{\isasymlbrakk}c{\isasymnoteq}Skip{\isacharsemicolon}\ redex\ c\ {\isacharequal}\ c{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}Fault\ f{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}Fault\ f{\isacharparenright}{\isachardoublequoteclose}\isanewline
{\isacharbar}\ StuckProp{\isacharcolon}\ \ {\isachardoublequoteopen}{\isasymlbrakk}c{\isasymnoteq}Skip{\isacharsemicolon}\ redex\ c\ {\isacharequal}\ c{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}Stuck{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}Stuck{\isacharparenright}{\isachardoublequoteclose}\isanewline
{\isacharbar}\ AbruptProp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymlbrakk}c{\isasymnoteq}Skip{\isacharsemicolon}\ redex\ c\ {\isacharequal}\ c{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}Abrupt\ f{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}Abrupt\ f{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{lemmas}\isamarkupfalse%
\ step{\isacharunderscore}induct\ {\isacharequal}\ step{\isachardot}induct\ {\isacharbrackleft}of\ {\isacharunderscore}\ {\isachardoublequoteopen}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}{\isacharcomma}\ split{\isacharunderscore}format\ {\isacharparenleft}complete{\isacharparenright}{\isacharcomma}\ case{\isacharunderscore}names\isanewline
Basic\ Spec\ SpecStuck\ Guard\ GuardFault\ Seq\ SeqSkip\ SeqThrow\ CondTrue\ CondFalse\isanewline
WhileTrue\ WhileFalse\ Call\ CallUndefined\ DynCom\ Catch\ CatchThrow\ CatchSkip\isanewline
FaultProp\ StuckProp\ AbruptProp{\isacharcomma}\ induct\ set{\isacharbrackright}\isanewline
\isanewline
\isanewline
\isacommand{inductive{\isacharunderscore}cases}\isamarkupfalse%
\ step{\isacharunderscore}elim{\isacharunderscore}cases\ {\isacharbrackleft}cases\ set{\isacharbrackright}{\isacharcolon}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Skip{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Guard\ f\ g\ c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Basic\ f{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Spec\ r{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}DynCom\ c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Throw{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Catch\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{inductive{\isacharunderscore}cases}\isamarkupfalse%
\ step{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\ {\isacharbrackleft}cases\ set{\isacharbrackright}{\isacharcolon}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Skip{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Guard\ f\ g\ c{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Basic\ f{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Spec\ r{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}DynCom\ c{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Throw{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}\isanewline
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Catch\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ u{\isachardoublequoteclose}%
\begin{isamarkuptext}%
The final configuration is either of the form \isa{{\isacharparenleft}Skip{\isacharcomma}{\isacharunderscore}{\isacharparenright}} for normal
termination, or \isa{{\isacharparenleft}Throw{\isacharcomma}\ Normal\ s{\isacharparenright}} in case the program was started in 
a \isa{Normal} state and terminated abruptly. The \isa{Abrupt} state is not used to
model abrupt termination, in contrast to the big-step semantics. Only if the
program starts in an \isa{Abrupt} states it ends in the same \isa{Abrupt}
state.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ final{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ config\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
{\isachardoublequoteopen}final\ cfg\ {\isacharequal}\ {\isacharparenleft}fst\ cfg{\isacharequal}Skip\ {\isasymor}\ {\isacharparenleft}fst\ cfg{\isacharequal}Throw\ {\isasymand}\ {\isacharparenleft}{\isasymexists}s{\isachardot}\ snd\ cfg{\isacharequal}Normal\ s{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ \isanewline
\ {\isachardoublequoteopen}step{\isacharunderscore}rtrancl{\isachardoublequoteclose}\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbrackleft}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ body{\isacharcomma}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ config{\isacharcomma}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ config{\isacharbrackright}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}{\isasymturnstile}\ {\isacharparenleft}{\isacharunderscore}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}{\isacharslash}\ {\isacharunderscore}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{8}}{\isadigit{1}}{\isacharcomma}{\isadigit{8}}{\isadigit{1}}{\isacharcomma}{\isadigit{8}}{\isadigit{1}}{\isacharbrackright}\ {\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isacharparenright}\isanewline
\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}cf{\isadigit{0}}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ cf{\isadigit{1}}\ {\isasymequiv}\ {\isacharparenleft}CONST\ step\ {\isasymGamma}{\isacharparenright}\isactrlsup {\isacharasterisk}\isactrlsup {\isacharasterisk}\ cf{\isadigit{0}}\ cf{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\isacommand{abbreviation}\isamarkupfalse%
\ \isanewline
\ {\isachardoublequoteopen}step{\isacharunderscore}trancl{\isachardoublequoteclose}\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbrackleft}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ body{\isacharcomma}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ config{\isacharcomma}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ config{\isacharbrackright}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}{\isasymturnstile}\ {\isacharparenleft}{\isacharunderscore}\ {\isasymrightarrow}\isactrlsup {\isacharplus}{\isacharslash}\ {\isacharunderscore}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{8}}{\isadigit{1}}{\isacharcomma}{\isadigit{8}}{\isadigit{1}}{\isacharcomma}{\isadigit{8}}{\isadigit{1}}{\isacharbrackright}\ {\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isacharparenright}\isanewline
\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}cf{\isadigit{0}}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ cf{\isadigit{1}}\ {\isasymequiv}\ {\isacharparenleft}CONST\ step\ {\isasymGamma}{\isacharparenright}\isactrlsup {\isacharplus}\isactrlsup {\isacharplus}\ cf{\isadigit{0}}\ cf{\isadigit{1}}{\isachardoublequoteclose}%
\isamarkupsubsection{Structural Properties of Small Step Computations%
}
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ redex{\isacharunderscore}not{\isacharunderscore}Seq{\isacharcolon}\ {\isachardoublequoteopen}redex\ c\ {\isacharequal}\ Seq\ c{\isadigit{1}}\ c{\isadigit{2}}\ {\isasymLongrightarrow}\ P{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ no{\isacharunderscore}step{\isacharunderscore}final{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}final\ {\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymLongrightarrow}\ P{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{by}\isamarkupfalse%
\ induct\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ no{\isacharunderscore}step{\isacharunderscore}final{\isacharprime}{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}cfg\ {\isasymrightarrow}\ cfg{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}final\ cfg\ {\isasymLongrightarrow}\ P{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ cfg{\isacharcomma}\ cases\ cfg{\isacharprime}{\isacharparenright}\ {\isacharparenleft}auto\ intro{\isacharcolon}\ no{\isacharunderscore}step{\isacharunderscore}final{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}Abrupt{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}\ s{\isacharequal}Abrupt\ x\ {\isasymLongrightarrow}\ s{\isacharprime}{\isacharequal}Abrupt\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}Fault{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}f{\isachardot}\ s{\isacharequal}Fault\ f\ {\isasymLongrightarrow}\ s{\isacharprime}{\isacharequal}Fault\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}Stuck{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}f{\isachardot}\ s{\isacharequal}Stuck\ {\isasymLongrightarrow}\ s{\isacharprime}{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ SeqSteps{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}cfg\isactrlsub {\isadigit{1}}{\isasymrightarrow}\isactrlsup {\isacharasterisk}\ cfg\isactrlsub {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}\ c\isactrlsub {\isadigit{1}}\ s\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymlbrakk}cfg\isactrlsub {\isadigit{1}}\ {\isacharequal}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}{\isacharsemicolon}cfg\isactrlsub {\isadigit{2}}{\isacharequal}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isasymrbrakk}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtranclp{\isacharunderscore}induct\ {\isacharbrackleft}case{\isacharunderscore}names\ Refl\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Refl\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ cfg\isactrlsub {\isadigit{1}}\ cfg{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ cfg\isactrlsub {\isadigit{1}}\ {\isasymrightarrow}\ cfg{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ cfg{\isacharprime}{\isacharprime}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ cfg\isactrlsub {\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ cfg\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}cfg\isactrlsub {\isadigit{1}}\ {\isacharequal}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ s{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ cfg\isactrlsub {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}cfg\isactrlsub {\isadigit{2}}\ {\isacharequal}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \ \isacommand{by}\isamarkupfalse%
\ fact{\isacharplus}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}\ \isakeyword{where}\ cfg{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}cfg{\isacharprime}{\isacharprime}{\isacharequal}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ cfg{\isacharprime}{\isacharprime}{\isacharparenright}\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step\ cfg\isactrlsub {\isadigit{1}}\ cfg{\isacharprime}{\isacharprime}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}Seq{\isacharparenright}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ Trans{\isachardot}hyps\ {\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ {\isacharbrackleft}OF\ cfg{\isacharprime}{\isacharprime}\ cfg\isactrlsub {\isadigit{2}}{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ CatchSteps{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}cfg\isactrlsub {\isadigit{1}}{\isasymrightarrow}\isactrlsup {\isacharasterisk}\ cfg\isactrlsub {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}\ c\isactrlsub {\isadigit{1}}\ s\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymlbrakk}cfg\isactrlsub {\isadigit{1}}\ {\isacharequal}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}{\isacharsemicolon}\ cfg\isactrlsub {\isadigit{2}}{\isacharequal}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isasymrbrakk}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtranclp{\isacharunderscore}induct\ {\isacharbrackleft}case{\isacharunderscore}names\ Refl\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Refl\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ cfg\isactrlsub {\isadigit{1}}\ cfg{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ cfg\isactrlsub {\isadigit{1}}\ {\isasymrightarrow}\ cfg{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ cfg{\isacharprime}{\isacharprime}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ cfg\isactrlsub {\isadigit{2}}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ cfg\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}cfg\isactrlsub {\isadigit{1}}\ {\isacharequal}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ s{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ cfg\isactrlsub {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}cfg\isactrlsub {\isadigit{2}}\ {\isacharequal}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \ \isacommand{by}\isamarkupfalse%
\ fact{\isacharplus}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}\ \isakeyword{where}\ cfg{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}cfg{\isacharprime}{\isacharprime}{\isacharequal}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ cfg{\isacharprime}{\isacharprime}{\isacharparenright}\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step\ cfg\isactrlsub {\isadigit{1}}\ cfg{\isacharprime}{\isacharprime}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ s{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}Catch{\isacharparenright}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ Trans{\isachardot}hyps\ {\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ {\isacharbrackleft}OF\ cfg{\isacharprime}{\isacharprime}\ cfg\isactrlsub {\isadigit{2}}{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{{\isachardot}}\isamarkupfalse%
\ \ \ \ \ \ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}Fault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Fault\ f{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Fault\ f{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Fault\ f{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Fault\ f{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Fault\ f{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Fault\ f{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ SeqSteps\ {\isacharbrackleft}OF\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}\ refl\ refl{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Fault\ f{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Seq\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Fault\ f{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Fault\ f{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Fault\ f{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ SeqSkip{\isacharparenright}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{2}}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Fault\ f{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Fault\ f{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ CatchSteps\ {\isacharbrackleft}OF\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}\ refl\ refl{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Fault\ f{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Catch\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Fault\ f{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Fault\ f{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}\ Fault\ f{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ CatchSkip{\isacharparenright}\ \isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}{\isacharplus}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}Stuck{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Stuck{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Stuck{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Stuck{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ SeqSteps\ {\isacharbrackleft}OF\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}\ refl\ refl{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Stuck{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Seq\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Stuck{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ SeqSkip{\isacharparenright}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{2}}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Stuck{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ CatchSteps\ {\isacharbrackleft}OF\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}\ refl\ refl{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Stuck{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Catch\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Stuck{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ CatchSkip{\isacharparenright}\ \isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}{\isacharplus}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}Abrupt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Abrupt\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Abrupt\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Abrupt\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ SeqSteps\ {\isacharbrackleft}OF\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}\ refl\ refl{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Abrupt\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Seq\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Abrupt\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ SeqSkip{\isacharparenright}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{2}}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Abrupt\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ CatchSteps\ {\isacharbrackleft}OF\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}\ refl\ refl{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Abrupt\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Catch\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Abrupt\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ CatchSkip{\isacharparenright}\ \isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}{\isacharplus}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}Fault{\isacharunderscore}prop{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}f{\isachardot}\ s{\isacharequal}Fault\ f\ {\isasymLongrightarrow}\ s{\isacharprime}{\isacharequal}Fault\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}Abrupt{\isacharunderscore}prop{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}\ s{\isacharequal}Abrupt\ x\ {\isasymLongrightarrow}\ s{\isacharprime}{\isacharequal}Abrupt\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}Stuck{\isacharunderscore}prop{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}s{\isacharequal}Stuck\ {\isasymLongrightarrow}\ s{\isacharprime}{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}Fault{\isacharunderscore}prop{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}s{\isacharequal}Fault\ f\ {\isasymLongrightarrow}\ s{\isacharprime}{\isacharequal}Fault\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}case{\isacharunderscore}names\ Refl\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Refl\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ c\ s\ c{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ step{\isacharunderscore}Fault{\isacharunderscore}prop{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}Abrupt{\isacharunderscore}prop{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}s{\isacharequal}Abrupt\ t\ {\isasymLongrightarrow}\ s{\isacharprime}{\isacharequal}Abrupt\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}case{\isacharunderscore}names\ Refl\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Refl\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ c\ s\ c{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ step{\isacharunderscore}Abrupt{\isacharunderscore}prop{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}Stuck{\isacharunderscore}prop{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}s{\isacharequal}Stuck\ {\isasymLongrightarrow}\ s{\isacharprime}{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}case{\isacharunderscore}names\ Refl\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Refl\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ c\ s\ c{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ step{\isacharunderscore}Stuck{\isacharunderscore}prop{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsection{Equivalence between Small-Step and Big-Step Semantics%
}
\isamarkuptrue%
\isacommand{theorem}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}\ t{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}t{\isacharprime}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}case\ t\ of\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Abrupt\ x\ {\isasymRightarrow}\ if\ s{\isacharequal}t\ then\ c{\isacharprime}{\isacharequal}Skip\ {\isasymand}\ t{\isacharprime}{\isacharequal}t\ else\ c{\isacharprime}{\isacharequal}Throw\ {\isasymand}\ t{\isacharprime}{\isacharequal}Normal\ x\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbar}\ {\isacharunderscore}\ {\isasymRightarrow}\ c{\isacharprime}{\isacharequal}Skip\ {\isasymand}\ t{\isacharprime}{\isacharequal}t{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ exec\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Skip\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Guard\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ step{\isachardot}Guard\ rtranclp{\isacharunderscore}trans{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ GuardFault\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}GuardFault\ rtranclp{\isacharunderscore}trans{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ FaultProp\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ steps{\isacharunderscore}Fault{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Basic\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}Basic\ rtranclp{\isacharunderscore}trans{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Spec\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}Spec\ rtranclp{\isacharunderscore}trans{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ SpecStuck\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}SpecStuck\ rtranclp{\isacharunderscore}trans{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ s\ s{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ t{\isacharparenright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ s{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ exec{\isacharunderscore}c\isactrlsub {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}{\isasymexists}x{\isachardot}\ s{\isacharprime}{\isacharequal}Abrupt\ x{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ False\ Seq{\isachardot}hyps\ {\isacharparenleft}{\isadigit{2}}{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharprime}{\isacharparenright}\ auto\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ seq{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Seq\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ SeqSteps{\isacharparenright}\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Seq{\isachardot}hyps\ {\isacharparenleft}{\isadigit{4}}{\isacharparenright}\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ t{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ steps{\isacharunderscore}c\isactrlsub {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ t{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}case\ t\ of\isanewline
\ \ \ \ \ \ \ \ \ \ \ Abrupt\ x\ {\isasymRightarrow}\ if\ s{\isacharprime}\ {\isacharequal}\ t\ then\ c{\isacharprime}\ {\isacharequal}\ Skip\ {\isasymand}\ t{\isacharprime}\ {\isacharequal}\ t\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ c{\isacharprime}\ {\isacharequal}\ Throw\ {\isasymand}\ t{\isacharprime}\ {\isacharequal}\ Normal\ x\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharbar}\ {\isacharunderscore}\ {\isasymRightarrow}\ c{\isacharprime}\ {\isacharequal}\ Skip\ {\isasymand}\ t{\isacharprime}\ {\isacharequal}\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ seq{\isacharunderscore}c\isactrlsub {\isadigit{1}}\ \isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}SeqSkip{\isacharparenright}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ t\ False\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ t{\isacharparenright}\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ s{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Abrupt\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ s{\isacharprime}\ Seq{\isachardot}hyps\ {\isacharparenleft}{\isadigit{2}}{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Throw{\isacharcomma}\ Normal\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ seq{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Seq\ Throw\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ SeqSteps{\isacharparenright}\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ Throw\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ x{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Throw{\isacharcomma}\ Normal\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ SeqThrow{\isacharparenright}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Throw{\isacharcomma}\ Normal\ x{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}c\isactrlsub {\isadigit{2}}\ s{\isacharprime}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Abrupt\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Abrupt{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ CondTrue\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ step{\isachardot}CondTrue\ rtranclp{\isacharunderscore}trans{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ CondFalse\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ step{\isachardot}CondFalse\ rtranclp{\isacharunderscore}trans{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}WhileTrue\ s\ b\ c\ s{\isacharprime}\ t{\isacharparenright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ s{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ exec{\isacharunderscore}w{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}While\ b\ c{\isacharcomma}s{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}While\ b\ c{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}WhileTrue{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}{\isasymexists}x{\isachardot}\ s{\isacharprime}{\isacharequal}Abrupt\ x{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ False\ WhileTrue{\isachardot}hyps\ {\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharprime}{\isacharparenright}\ auto\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ seq{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Seq\ Skip\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ SeqSteps{\isacharparenright}\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ WhileTrue{\isachardot}hyps\ {\isacharparenleft}{\isadigit{5}}{\isacharparenright}\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ t{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ steps{\isacharunderscore}c\isactrlsub {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}While\ b\ c{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ t{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}case\ t\ of\isanewline
\ \ \ \ \ \ \ \ \ \ \ Abrupt\ x\ {\isasymRightarrow}\ if\ s{\isacharprime}\ {\isacharequal}\ t\ then\ c{\isacharprime}\ {\isacharequal}\ Skip\ {\isasymand}\ t{\isacharprime}\ {\isacharequal}\ t\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ c{\isacharprime}\ {\isacharequal}\ Throw\ {\isasymand}\ t{\isacharprime}\ {\isacharequal}\ Normal\ x\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharbar}\ {\isacharunderscore}\ {\isasymRightarrow}\ c{\isacharprime}\ {\isacharequal}\ Skip\ {\isasymand}\ t{\isacharprime}\ {\isacharequal}\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ step\ \isacommand{also}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ seq{\isacharunderscore}c\ \isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ Skip\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}While\ b\ c{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}SeqSkip{\isacharparenright}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{2}}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}While\ b\ c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ t\ False\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ t{\isacharparenright}\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ s{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Abrupt\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ step\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ s{\isacharprime}\ WhileTrue{\isachardot}hyps\ {\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Throw{\isacharcomma}\ Normal\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ seq{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Seq\ Throw\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ Normal\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ SeqSteps{\isacharparenright}\ auto\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ Throw\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ Normal\ x{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Throw{\isacharcomma}\ Normal\ x{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ SeqThrow{\isacharparenright}\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}While\ b\ c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Throw{\isacharcomma}\ Normal\ x{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}w\ s{\isacharprime}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Abrupt\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Abrupt{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ WhileFalse\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}WhileFalse\ rtrancl{\isacharunderscore}trans{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Call\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ step{\isachardot}Call\ rtranclp{\isacharunderscore}trans{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ CallUndefined\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}CallUndefined\ rtranclp{\isacharunderscore}trans{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ StuckProp\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ steps{\isacharunderscore}Stuck{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ DynCom\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ step{\isachardot}DynCom\ rtranclp{\isacharunderscore}trans{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \isacommand{case}\isamarkupfalse%
\ Throw\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\ \isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ AbruptProp\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ steps{\isacharunderscore}Abrupt{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}CatchMatch\ c\isactrlsub {\isadigit{1}}\ s\ s{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ t{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ CatchMatch{\isachardot}hyps\ {\isacharparenleft}{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Throw{\isacharcomma}\ Normal\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Catch\ Throw\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ CatchSteps{\isacharparenright}\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ Throw\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}CatchThrow{\isacharparenright}\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ CatchMatch{\isachardot}hyps\ {\isacharparenleft}{\isadigit{4}}{\isacharparenright}\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ t{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ steps{\isacharunderscore}c\isactrlsub {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ t{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}case\ t\ of\isanewline
\ \ \ \ \ \ \ \ \ \ \ Abrupt\ x\ {\isasymRightarrow}\ if\ Normal\ s{\isacharprime}\ {\isacharequal}\ t\ then\ c{\isacharprime}\ {\isacharequal}\ Skip\ {\isasymand}\ t{\isacharprime}\ {\isacharequal}\ t\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ else\ c{\isacharprime}\ {\isacharequal}\ Throw\ {\isasymand}\ t{\isacharprime}\ {\isacharequal}\ Normal\ x\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharbar}\ {\isacharunderscore}\ {\isasymRightarrow}\ c{\isacharprime}\ {\isacharequal}\ Skip\ {\isasymand}\ t{\isacharprime}\ {\isacharequal}\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ steps{\isacharunderscore}c\isactrlsub {\isadigit{2}}\ \ \isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ split{\isacharcolon}\ xstate{\isachardot}splits{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}CatchMiss\ c\isactrlsub {\isadigit{1}}\ s\ t\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ t{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ isAbr\ t{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ CatchMiss{\isachardot}hyps\ {\isacharparenleft}{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ t{\isacharparenright}\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Catch\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ CatchSteps{\isacharparenright}\ auto\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ t{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}CatchSkip{\isacharparenright}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ split{\isacharcolon}\ xstate{\isachardot}splits{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps{\isacharunderscore}Normal{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}s{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Normal\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps\ {\isacharbrackleft}OF\ exec{\isacharbrackright}\ \ \isanewline
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps{\isacharunderscore}Normal{\isacharunderscore}Abrupt{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Throw{\isacharcomma}\ Normal\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps\ {\isacharbrackleft}OF\ exec{\isacharbrackright}\ \ \isanewline
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps{\isacharunderscore}Abrupt{\isacharunderscore}Abrupt{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Abrupt\ t{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}Abrupt\ t{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Abrupt\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps\ {\isacharbrackleft}OF\ exec{\isacharbrackright}\ \ \isanewline
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps{\isacharunderscore}Fault{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}s{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Fault\ f{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps\ {\isacharbrackleft}OF\ exec{\isacharbrackright}\ \ \isanewline
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps{\isacharunderscore}Stuck{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}s{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps\ {\isacharbrackleft}OF\ exec{\isacharbrackright}\ \ \isanewline
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}Abrupt{\isacharunderscore}end{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Abrupt\ x\ {\isasymLongrightarrow}\ s{\isacharequal}Abrupt\ x{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{by}\isamarkupfalse%
\ induct\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}Stuck{\isacharunderscore}end{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Stuck\ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ s{\isacharequal}Stuck\ {\isasymor}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}r\ x{\isachardot}\ redex\ c\isactrlsub {\isadigit{1}}\ {\isacharequal}\ Spec\ r\ {\isasymand}\ s{\isacharequal}Normal\ x\ {\isasymand}\ {\isacharparenleft}{\isasymforall}t{\isachardot}\ {\isacharparenleft}x{\isacharcomma}t{\isacharparenright}{\isasymnotin}r{\isacharparenright}{\isacharparenright}\ {\isasymor}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}p\ x{\isachardot}\ redex\ c\isactrlsub {\isadigit{1}}{\isacharequal}Call\ p\ {\isasymand}\ s{\isacharequal}Normal\ x\ {\isasymand}\ {\isasymGamma}\ p\ {\isacharequal}\ None{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{by}\isamarkupfalse%
\ induct\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}Fault{\isacharunderscore}end{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Fault\ f\ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ s{\isacharequal}Fault\ f\ {\isasymor}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}g\ c\ x{\isachardot}\ redex\ c\isactrlsub {\isadigit{1}}\ {\isacharequal}\ Guard\ f\ g\ c\ {\isasymand}\ s{\isacharequal}Normal\ x\ {\isasymand}\ x\ {\isasymnotin}\ g{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{by}\isamarkupfalse%
\ induct\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ exec{\isacharunderscore}redex{\isacharunderscore}Stuck{\isacharcolon}\isanewline
{\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}redex\ c{\isacharcomma}s{\isasymrangle}\ {\isasymRightarrow}\ Stuck\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}s{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Seq\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharparenright}\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}exec{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Catch\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharparenright}\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}exec{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
\ simp{\isacharunderscore}all%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ exec{\isacharunderscore}redex{\isacharunderscore}Fault{\isacharcolon}\isanewline
{\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}redex\ c{\isacharcomma}s{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}s{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Seq\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharparenright}\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}exec{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Catch\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharparenright}\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}exec{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
\ simp{\isacharunderscore}all%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}extend{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ t\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Basic\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Spec\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ SpecStuck\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Guard\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\ \ \isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ GuardFault\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ s\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ s{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ exec{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}Seq\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Normal\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ s{\isacharunderscore}Normal\ {\isacharequal}\ this\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Normal\ x{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharprime}\ {\isacharbrackleft}simplified\ Normal{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\ s{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}Normal\ x{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ s{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ exec{\isacharunderscore}c\isactrlsub {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Seq{\isachardot}hyps\ {\isacharparenleft}{\isadigit{2}}{\isacharparenright}\ Normal\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharprime}\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ s{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isachardot}Seq\ {\isacharbrackleft}OF\ this\ exec{\isacharunderscore}c\isactrlsub {\isadigit{2}}{\isacharbrackright}\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Abrupt\ x{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharprime}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Abrupt\ x{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}Abrupt{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step\ Abrupt\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharequal}Abrupt\ x{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ step{\isacharunderscore}Abrupt{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Fault\ f{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}Fault{\isacharunderscore}end\ {\isacharbrackleft}OF\ step\ this{\isacharbrackright}\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ g\ c\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ \ \ redex{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}redex\ c\isactrlsub {\isadigit{1}}\ {\isacharequal}\ Guard\ f\ g\ c{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ fail{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}redex\ c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}redex{\isacharunderscore}Fault\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ Fault\ exec{\isacharprime}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Fault{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ Stuck\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}Stuck{\isacharunderscore}end\ {\isacharbrackleft}OF\ step\ this{\isacharbrackright}\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}r{\isachardot}\ redex\ c\isactrlsub {\isadigit{1}}\ {\isacharequal}\ Spec\ r\ {\isasymand}\ {\isacharparenleft}{\isasymforall}t{\isachardot}\ {\isacharparenleft}x{\isacharcomma}\ t{\isacharparenright}\ {\isasymnotin}\ r{\isacharparenright}{\isacharparenright}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}p{\isachardot}\ redex\ c\isactrlsub {\isadigit{1}}\ {\isacharequal}\ Call\ p\ {\isasymand}\ {\isasymGamma}\ p\ {\isacharequal}\ None{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ r\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}redex\ c\isactrlsub {\isadigit{1}}\ {\isacharequal}\ Spec\ r{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymforall}t{\isachardot}\ {\isacharparenleft}x{\isacharcomma}\ t{\isacharparenright}\ {\isasymnotin}\ r{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}redex\ c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}redex{\isacharunderscore}Stuck\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ Stuck\ exec{\isacharprime}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Stuck{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ p\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}redex\ c\isactrlsub {\isadigit{1}}\ {\isacharequal}\ Call\ p{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}redex\ c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}redex{\isacharunderscore}Stuck\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ Stuck\ exec{\isacharprime}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Stuck{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Abrupt\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}Abrupt\ {\isacharbrackleft}OF\ step\ this{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Abrupt\ x{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharprime}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Abrupt\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Abrupt{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Abrupt\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Fault\ f{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}Fault\ {\isacharbrackleft}OF\ step\ this{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Fault\ f{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharprime}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Fault{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Fault\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ Stuck\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}Stuck\ {\isacharbrackleft}OF\ step\ this{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Stuck{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharprime}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Stuck{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Stuck\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}SeqSkip\ c\isactrlsub {\isadigit{2}}\ s\ t{\isacharparenright}\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}{\isacharplus}\ \ \ \ \ \ \isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}SeqThrow\ c\isactrlsub {\isadigit{2}}\ s\ t{\isacharparenright}\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}{\isacharplus}\ \ \ \ \ \ \isanewline
\isacommand{next}\isamarkupfalse%
\ \ \ \ \ \ \isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ CondTrue\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\ \ \ \ \ \ \isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ CondFalse\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ WhileTrue\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ WhileFalse\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Call\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ CallUndefined\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ DynCom\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ s\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ s{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ t{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ exec{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Normal\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ s{\isacharunderscore}Normal\ {\isacharequal}\ this\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Normal\ x{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharprime}\ {\isacharbrackleft}simplified\ Normal{\isacharbrackright}\ \isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s{\isacharprime}{\isacharprime}\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}Normal\ x{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ s{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c\isactrlsub {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isacharprime}{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Catch{\isachardot}hyps\ {\isacharparenleft}{\isadigit{2}}{\isacharparenright}\ Normal\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharprime}\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ s{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isachardot}CatchMatch\ {\isacharbrackleft}OF\ this\ exec{\isacharunderscore}c\isactrlsub {\isadigit{2}}{\isacharbrackright}\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharprime}{\isacharcomma}Normal\ x{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ isAbr\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Catch{\isachardot}hyps\ {\isacharparenleft}{\isadigit{2}}{\isacharparenright}\ Normal\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharprime}\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isachardot}CatchMiss\ {\isacharbrackleft}OF\ this\ t{\isacharbrackright}\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Abrupt\ x{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharprime}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Abrupt\ x{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}Abrupt{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step\ Abrupt\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharequal}Abrupt\ x{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ step{\isacharunderscore}Abrupt{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Fault\ f{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}Fault{\isacharunderscore}end\ {\isacharbrackleft}OF\ step\ this{\isacharbrackright}\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ g\ c\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ \ \ redex{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}redex\ c\isactrlsub {\isadigit{1}}\ {\isacharequal}\ Guard\ f\ g\ c{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ fail{\isacharcolon}\ {\isachardoublequoteopen}x\ {\isasymnotin}\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}redex\ c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}redex{\isacharunderscore}Fault\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ Fault\ exec{\isacharprime}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Fault{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ Stuck\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}Stuck{\isacharunderscore}end\ {\isacharbrackleft}OF\ step\ this{\isacharbrackright}\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}r{\isachardot}\ redex\ c\isactrlsub {\isadigit{1}}\ {\isacharequal}\ Spec\ r\ {\isasymand}\ {\isacharparenleft}{\isasymforall}t{\isachardot}\ {\isacharparenleft}x{\isacharcomma}\ t{\isacharparenright}\ {\isasymnotin}\ r{\isacharparenright}{\isacharparenright}\ {\isasymor}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}p{\isachardot}\ redex\ c\isactrlsub {\isadigit{1}}\ {\isacharequal}\ Call\ p\ {\isasymand}\ {\isasymGamma}\ p\ {\isacharequal}\ None{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ r\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}redex\ c\isactrlsub {\isadigit{1}}\ {\isacharequal}\ Spec\ r{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymforall}t{\isachardot}\ {\isacharparenleft}x{\isacharcomma}\ t{\isacharparenright}\ {\isasymnotin}\ r{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}redex\ c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}redex{\isacharunderscore}Stuck\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ Stuck\ exec{\isacharprime}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Stuck{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ p\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}redex\ c\isactrlsub {\isadigit{1}}\ {\isacharequal}\ Call\ p{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}redex\ c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}redex{\isacharunderscore}Stuck\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ Stuck\ exec{\isacharprime}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Stuck{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharunderscore}Normal\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Abrupt\ x{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}Abrupt\ {\isacharbrackleft}OF\ step\ this{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Abrupt\ x{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharprime}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Abrupt\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Abrupt{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Abrupt\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Fault\ f{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}Fault\ {\isacharbrackleft}OF\ step\ this{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Fault\ f{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharprime}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Fault{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Fault\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ Stuck\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}Stuck\ {\isacharbrackleft}OF\ step\ this{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Stuck{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharprime}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ Stuck{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Stuck\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ CatchThrow\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ CatchSkip\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ FaultProp\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ StuckProp\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ AbruptProp\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ elim{\isacharcolon}\ exec{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ steps{\isacharunderscore}Skip{\isacharunderscore}impl{\isacharunderscore}exec{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}case{\isacharunderscore}names\ Refl\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Refl\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ t{\isacharparenright}\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ c\ s\ c{\isacharprime}\ s{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact{\isacharplus}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isacharunderscore}extend{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ steps{\isacharunderscore}Throw{\isacharunderscore}impl{\isacharunderscore}exec{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Throw{\isacharcomma}Normal\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}s{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}case{\isacharunderscore}names\ Refl\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Refl\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ c\ s\ c{\isacharprime}\ s{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact{\isacharplus}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isacharunderscore}extend{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsection{Infinite Computations: \isa{{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}}%
}
\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ inf{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ body\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ config\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ {\isacharparenleft}{\isachardoublequoteopen}{\isacharunderscore}{\isasymturnstile}\ {\isacharunderscore}\ {\isasymrightarrow}\ {\isasymdots}{\isacharprime}{\isacharparenleft}{\isasyminfinity}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isacharbrackleft}{\isadigit{6}}{\isadigit{0}}{\isacharcomma}{\isadigit{8}}{\isadigit{0}}{\isacharbrackright}\ {\isadigit{1}}{\isadigit{0}}{\isadigit{0}}{\isacharparenright}\ \isakeyword{where}\isanewline
{\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ cfg\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}\ {\isasymequiv}\ {\isacharparenleft}{\isasymexists}f{\isachardot}\ f\ {\isacharparenleft}{\isadigit{0}}{\isacharcolon}{\isacharcolon}nat{\isacharparenright}\ {\isacharequal}\ cfg\ {\isasymand}\ {\isacharparenleft}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}infI{\isacharcolon}\ {\isachardoublequoteopen}{\isasymlbrakk}{\isasymAnd}f{\isachardot}\ {\isasymlbrakk}f\ {\isadigit{0}}\ {\isacharequal}\ cfg{\isacharsemicolon}\ {\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isasymrbrakk}\ {\isasymLongrightarrow}\ False{\isasymrbrakk}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ {\isasymnot}{\isasymGamma}{\isasymturnstile}\ cfg\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsection{Equivalence between Termination and the Absence of Infinite Computations%
}
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}preserves{\isacharunderscore}termination{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isasymdown}s\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isacharprime}{\isasymdown}s{\isacharprime}{\isachardoublequoteclose}\ \ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ step\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Basic\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Spec\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ SpecStuck\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Guard\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ GuardFault\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ s\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ s{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ \ \ \ \ {\isacharparenleft}cases\ s{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ \ \ \ \ \ \ \ \ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ step{\isacharunderscore}extend\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ dest{\isacharcolon}\ step{\isacharunderscore}Abrupt{\isacharunderscore}prop\ \isanewline
\ \ \ \ \ \ step{\isacharunderscore}Fault{\isacharunderscore}prop\ step{\isacharunderscore}Stuck{\isacharunderscore}prop{\isacharparenright}{\isacharplus}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}SeqSkip\ c\isactrlsub {\isadigit{2}}\ s{\isacharparenright}\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ exec{\isachardot}intros\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\ {\isacharparenright}{\isacharplus}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}SeqThrow\ c\isactrlsub {\isadigit{2}}\ s{\isacharparenright}\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ exec{\isachardot}intros\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\ {\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ CondTrue\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ exec{\isachardot}intros\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\ {\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ CondFalse\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\ {\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ WhileTrue\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\ {\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ WhileFalse\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\ {\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Call\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\ {\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ CallUndefined\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\ {\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ DynCom\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\ {\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ s\ c\isactrlsub {\isadigit{1}}{\isacharprime}\ s{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ \ \ \ \ {\isacharparenleft}cases\ s{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ \ \ \ \ \ \ \ \ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ step{\isacharunderscore}extend\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ dest{\isacharcolon}\ step{\isacharunderscore}Abrupt{\isacharunderscore}prop\ \isanewline
\ \ \ \ \ \ step{\isacharunderscore}Fault{\isacharunderscore}prop\ step{\isacharunderscore}Stuck{\isacharunderscore}prop{\isacharparenright}{\isacharplus}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ CatchThrow\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ exec{\isachardot}intros\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\ {\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}CatchSkip\ c\isactrlsub {\isadigit{2}}\ s{\isacharparenright}\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}{\isacharplus}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ FaultProp\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ StuckProp\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ AbruptProp\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}preserves{\isacharunderscore}termination{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isasymdown}s\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isacharprime}{\isasymdown}s{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ rtranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}consumes\ {\isadigit{1}}{\isacharcomma}\ case{\isacharunderscore}names\ Refl\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Refl\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Trans\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ dest{\isacharcolon}\ step{\isacharunderscore}preserves{\isacharunderscore}termination{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimML
\isanewline
%
\endisadelimML
%
\isatagML
\isacommand{ML}\isamarkupfalse%
\ {\isacartoucheopen}\isanewline
\ \ ML{\isacharunderscore}Thms{\isachardot}bind{\isacharunderscore}thm\ {\isacharparenleft}{\isachardoublequote}tranclp{\isacharunderscore}induct{\isadigit{2}}{\isachardoublequote}{\isacharcomma}\ Split{\isacharunderscore}Rule{\isachardot}split{\isacharunderscore}rule\ {\isacharat}{\isacharbraceleft}context{\isacharbraceright}\isanewline
\ \ \ \ {\isacharparenleft}Rule{\isacharunderscore}Insts{\isachardot}read{\isacharunderscore}instantiate\ {\isacharat}{\isacharbraceleft}context{\isacharbraceright}\isanewline
\ \ \ \ \ \ {\isacharbrackleft}{\isacharparenleft}{\isacharparenleft}{\isacharparenleft}{\isachardoublequote}a{\isachardoublequote}{\isacharcomma}\ {\isadigit{0}}{\isacharparenright}{\isacharcomma}\ Position{\isachardot}none{\isacharparenright}{\isacharcomma}\ {\isachardoublequote}{\isacharparenleft}aa{\isacharcomma}ab{\isacharparenright}{\isachardoublequote}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}{\isacharparenleft}{\isacharparenleft}{\isachardoublequote}b{\isachardoublequote}{\isacharcomma}\ {\isadigit{0}}{\isacharparenright}{\isacharcomma}\ Position{\isachardot}none{\isacharparenright}{\isacharcomma}\ {\isachardoublequote}{\isacharparenleft}ba{\isacharcomma}bb{\isacharparenright}{\isachardoublequote}{\isacharparenright}{\isacharbrackright}\ {\isacharbrackleft}{\isacharbrackright}\isanewline
\ \ \ \ \ \ {\isacharat}{\isacharbraceleft}thm\ tranclp{\isacharunderscore}induct{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isacharsemicolon}\isanewline
{\isacartoucheclose}%
\endisatagML
{\isafoldML}%
%
\isadelimML
\isanewline
%
\endisadelimML
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}preserves{\isacharunderscore}termination{\isacharprime}{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isasymdown}s\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isacharprime}{\isasymdown}s{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ tranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}consumes\ {\isadigit{1}}{\isacharcomma}\ case{\isacharunderscore}names\ Step\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Step\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ step{\isacharunderscore}preserves{\isacharunderscore}termination{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Trans\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ dest{\isacharcolon}\ step{\isacharunderscore}preserves{\isacharunderscore}termination{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ head{\isacharunderscore}com{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ com\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ com{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
{\isachardoublequoteopen}head{\isacharunderscore}com\ c\ {\isacharequal}\isanewline
\ \ {\isacharparenleft}case\ c\ of\isanewline
\ \ \ \ \ Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\ {\isasymRightarrow}\ c\isactrlsub {\isadigit{1}}\isanewline
\ \ \ {\isacharbar}\ Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\ {\isasymRightarrow}\ c\isactrlsub {\isadigit{1}}\isanewline
\ \ \ {\isacharbar}\ {\isacharunderscore}\ {\isasymRightarrow}\ c{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \isanewline
\isacommand{definition}\isamarkupfalse%
\ head{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ config\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ config{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ {\isachardoublequoteopen}head\ cfg\ {\isacharequal}\ {\isacharparenleft}head{\isacharunderscore}com\ {\isacharparenleft}fst\ cfg{\isacharparenright}{\isacharcomma}\ snd\ cfg{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ le{\isacharunderscore}Suc{\isacharunderscore}cases{\isacharcolon}\ {\isachardoublequoteopen}{\isasymlbrakk}{\isasymAnd}i{\isachardot}\ {\isasymlbrakk}i\ {\isacharless}\ k{\isasymrbrakk}\ {\isasymLongrightarrow}\ P\ i{\isacharsemicolon}\ P\ k{\isasymrbrakk}\ {\isasymLongrightarrow}\ {\isasymforall}i{\isacharless}{\isacharparenleft}Suc\ k{\isacharparenright}{\isachardot}\ P\ i{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}i{\isacharequal}k{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ redex{\isacharunderscore}Seq{\isacharunderscore}False{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}c{\isacharprime}\ c{\isacharprime}{\isacharprime}{\isachardot}\ {\isacharparenleft}redex\ c\ {\isacharequal}\ Seq\ c{\isacharprime}{\isacharprime}\ c{\isacharprime}{\isacharparenright}\ {\isacharequal}\ False{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ redex{\isacharunderscore}Catch{\isacharunderscore}False{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}c{\isacharprime}\ c{\isacharprime}{\isacharprime}{\isachardot}\ {\isacharparenleft}redex\ c\ {\isacharequal}\ Catch\ c{\isacharprime}{\isacharprime}\ c{\isacharprime}{\isacharparenright}\ {\isacharequal}\ False{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ infinite{\isacharunderscore}computation{\isacharunderscore}extract{\isacharunderscore}head{\isacharunderscore}Seq{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ inf{\isacharunderscore}comp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\isacharcolon}nat{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}fin{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isasymnot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isacharparenleft}{\isasymexists}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Seq\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}head\ {\isacharparenleft}f\ i{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isacharquery}P\ i{\isachardoublequoteclose}{\isacharparenright}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}fin\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ k{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Suc\ k{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ not{\isacharunderscore}fin{\isacharunderscore}Suc{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}Suc\ k{\isachardot}\ {\isasymnot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ this{\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}\ \isacommand{have}\isamarkupfalse%
\ not{\isacharunderscore}fin{\isacharunderscore}k{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isasymnot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subgoal{\isacharunderscore}tac\ {\isachardoublequoteopen}i\ {\isacharless}\ Suc\ k{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Suc{\isachardot}hyps\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isacharparenleft}{\isasymexists}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Seq\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ i{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ le{\isacharunderscore}Suc{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}i\ {\isacharless}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}P\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hyp\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}P\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}k\ {\isacharminus}\ {\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ fs{\isacharprime}\ L{\isacharprime}\ s{\isacharprime}\ \isakeyword{where}\ \ f{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}f\ k\ {\isacharequal}\ {\isacharparenleft}Seq\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ k{\isacharparenright}\ auto\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ inf{\isacharunderscore}comp\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ k{\isacharbrackright}\ f{\isacharunderscore}k\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Seq\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ f\ {\isacharparenleft}k\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ not{\isacharunderscore}fin{\isacharunderscore}Suc\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ k{\isacharbrackright}\ f{\isacharunderscore}k\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ final\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ final{\isacharunderscore}def\ head{\isacharunderscore}def\ head{\isacharunderscore}com{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}f\ {\isacharparenleft}k\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Seq\ c{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ redex{\isacharunderscore}Seq{\isacharunderscore}False\ final{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ f{\isacharunderscore}k\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ head{\isacharunderscore}def\ head{\isacharunderscore}com{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ infinite{\isacharunderscore}computation{\isacharunderscore}extract{\isacharunderscore}head{\isacharunderscore}Catch{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ inf{\isacharunderscore}comp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\isacharcolon}nat{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}fin{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isasymnot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isacharparenleft}{\isasymexists}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Catch\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}head\ {\isacharparenleft}f\ i{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isacharquery}P\ i{\isachardoublequoteclose}{\isacharparenright}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}fin\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ k{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Suc\ k{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ not{\isacharunderscore}fin{\isacharunderscore}Suc{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}Suc\ k{\isachardot}\ {\isasymnot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ this{\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}\ \isacommand{have}\isamarkupfalse%
\ not{\isacharunderscore}fin{\isacharunderscore}k{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isasymnot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}subgoal{\isacharunderscore}tac\ {\isachardoublequoteopen}i\ {\isacharless}\ Suc\ k{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Suc{\isachardot}hyps\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isacharparenleft}{\isasymexists}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Catch\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ i{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ le{\isacharunderscore}Suc{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}i\ {\isacharless}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}P\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hyp\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}P\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}k\ {\isacharminus}\ {\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ fs{\isacharprime}\ L{\isacharprime}\ s{\isacharprime}\ \isakeyword{where}\ \ f{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}f\ k\ {\isacharequal}\ {\isacharparenleft}Catch\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ k{\isacharparenright}\ auto\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ inf{\isacharunderscore}comp\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ k{\isacharbrackright}\ f{\isacharunderscore}k\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Catch\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ f\ {\isacharparenleft}k\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ not{\isacharunderscore}fin{\isacharunderscore}Suc\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ k{\isacharbrackright}\ f{\isacharunderscore}k\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ final\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ final{\isacharunderscore}def\ head{\isacharunderscore}def\ head{\isacharunderscore}com{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}f\ {\isacharparenleft}k\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Catch\ c{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ redex{\isacharunderscore}Catch{\isacharunderscore}False\ final{\isacharunderscore}def{\isacharparenright}{\isacharplus}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ f{\isacharunderscore}k\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ head{\isacharunderscore}def\ head{\isacharunderscore}com{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ no{\isacharunderscore}inf{\isacharunderscore}Throw{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Throw{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Throw{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\isanewline
\ \ \ \ step\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\isacharcolon}nat{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Throw{\isacharcomma}\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharcomma}\ simplified\ f{\isacharunderscore}{\isadigit{0}}{\isacharbrackright}\ step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ {\isacharparenleft}auto\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ split{\isacharunderscore}inf{\isacharunderscore}Seq{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ inf{\isacharunderscore}comp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}\ {\isasymor}\ \isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ inf{\isacharunderscore}comp\ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\isanewline
\ \ \ \ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\isacharcolon}nat{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\ head{\isacharunderscore}f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}head\ {\isacharparenleft}f\ {\isadigit{0}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ head{\isacharunderscore}def\ head{\isacharunderscore}com{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}{\isasymexists}i{\isachardot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ k\ \isakeyword{where}\ {\isachardoublequoteopen}k\ {\isacharequal}\ {\isacharparenleft}LEAST\ i{\isachardot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ less{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isasymnot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ allI\ impI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ k{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}drule\ not{\isacharunderscore}less{\isacharunderscore}Least{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ infinite{\isacharunderscore}computation{\isacharunderscore}extract{\isacharunderscore}head{\isacharunderscore}Seq\ {\isacharbrackleft}OF\ step\ f{\isacharunderscore}{\isadigit{0}}\ this{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ step{\isacharunderscore}head{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ i{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ \ conf{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isacharparenleft}{\isasymexists}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Seq\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ final{\isacharunderscore}f{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}final\ {\isacharparenleft}head\ {\isacharparenleft}f\ k{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}erule\ exE{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}drule\ LeastI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ k{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}\ conf\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}k\ {\isacharminus}\ {\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ s{\isacharprime}\ \isakeyword{where}\ f{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}f\ k\ {\isacharequal}\ {\isacharparenleft}Seq\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ k{\isacharparenright}\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}head\ \isacommand{have}\isamarkupfalse%
\ steps{\isacharunderscore}head{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}head\ {\isacharparenleft}f\ {\isadigit{0}}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ head\ {\isacharparenleft}f\ k{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ k{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Suc\ m{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}Suc\ m{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ i{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}m{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ i{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ {\isadigit{0}}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ \ head\ {\isacharparenleft}f\ m{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ Suc{\isachardot}hyps{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ step\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ m{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ m{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}m\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}f\ k\ {\isacharequal}\ {\isacharparenleft}Seq\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ steps{\isacharunderscore}head\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ head{\isacharunderscore}f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ head{\isacharunderscore}def\ head{\isacharunderscore}com{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ k{\isacharbrackright}\ f{\isacharunderscore}k\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Seq\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ f{\isacharunderscore}Suc{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isacharparenleft}k\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ step{\isachardot}cases\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ g\ \isakeyword{where}\ {\isachardoublequoteopen}g\ i\ {\isacharequal}\ f\ {\isacharparenleft}i\ {\isacharplus}\ {\isacharparenleft}k\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{for}\ i\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}Suc{\isacharunderscore}k\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ g{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}g\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ g{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}g\ i\ {\isasymrightarrow}\ g\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ g{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ g{\isacharunderscore}{\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ s{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Normal\ x{\isachardoublequoteclose}\ \isakeyword{and}\ f{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}f\ k\ {\isacharequal}\ {\isacharparenleft}Seq\ Throw\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ k{\isacharbrackright}\ f{\isacharunderscore}k\ s{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Seq\ Throw\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Throw{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ f{\isacharunderscore}Suc{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isacharparenleft}k\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Throw{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ g\ \isakeyword{where}\ {\isachardoublequoteopen}g\ i\ {\isacharequal}\ f\ {\isacharparenleft}i\ {\isacharplus}\ {\isacharparenleft}k\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{for}\ i\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}Suc{\isacharunderscore}k\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ g{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}g\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Throw{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ g{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}g\ i\ {\isasymrightarrow}\ g\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ g{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ g{\isacharunderscore}{\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Throw{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ no{\isacharunderscore}inf{\isacharunderscore}Throw\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def\ head{\isacharunderscore}def\ head{\isacharunderscore}com{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ not{\isacharunderscore}fin{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymnot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}head\ {\isacharparenleft}f\ i{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ k\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ not{\isacharunderscore}fin\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}{\isacharparenleft}Suc\ k{\isacharparenright}{\isachardot}\ {\isasymnot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ infinite{\isacharunderscore}computation{\isacharunderscore}extract{\isacharunderscore}head{\isacharunderscore}Seq\ {\isacharbrackleft}OF\ step\ f{\isacharunderscore}{\isadigit{0}}\ this\ {\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ k{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}k\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ head{\isacharunderscore}f{\isacharunderscore}{\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ split{\isacharunderscore}inf{\isacharunderscore}Catch{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ inf{\isacharunderscore}comp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}\ {\isasymor}\ \isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Throw{\isacharcomma}Normal\ s{\isacharprime}{\isacharparenright}\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ inf{\isacharunderscore}comp\ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\isanewline
\ \ \ \ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharcolon}{\isacharcolon}nat{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\ head{\isacharunderscore}f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}head\ {\isacharparenleft}f\ {\isadigit{0}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ head{\isacharunderscore}def\ head{\isacharunderscore}com{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}{\isasymexists}i{\isachardot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ k\ \isakeyword{where}\ {\isachardoublequoteopen}k\ {\isacharequal}\ {\isacharparenleft}LEAST\ i{\isachardot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ less{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isasymnot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ allI\ impI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}unfold\ k{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}drule\ not{\isacharunderscore}less{\isacharunderscore}Least{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ infinite{\isacharunderscore}computation{\isacharunderscore}extract{\isacharunderscore}head{\isacharunderscore}Catch\ {\isacharbrackleft}OF\ step\ f{\isacharunderscore}{\isadigit{0}}\ this{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ step{\isacharunderscore}head{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ i{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ \ conf{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}k{\isachardot}\ {\isacharparenleft}{\isasymexists}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Catch\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ final{\isacharunderscore}f{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}final\ {\isacharparenleft}head\ {\isacharparenleft}f\ k{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}erule\ exE{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}drule\ LeastI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ k{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}\ conf\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}k\ {\isacharminus}\ {\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ s{\isacharprime}\ \isakeyword{where}\ f{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}f\ k\ {\isacharequal}\ {\isacharparenleft}Catch\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ k{\isacharparenright}\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}head\ \isacommand{have}\isamarkupfalse%
\ steps{\isacharunderscore}head{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}head\ {\isacharparenleft}f\ {\isadigit{0}}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ head\ {\isacharparenleft}f\ k{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ k{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Suc\ m{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}Suc\ m{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ i{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}m{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ i{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ {\isadigit{0}}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ \ head\ {\isacharparenleft}f\ m{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ Suc{\isachardot}hyps{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ step\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ m{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ m{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}m\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}f\ k\ {\isacharequal}\ {\isacharparenleft}Catch\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ steps{\isacharunderscore}head\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ head{\isacharunderscore}f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ head{\isacharunderscore}def\ head{\isacharunderscore}com{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ k{\isacharbrackright}\ f{\isacharunderscore}k\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Catch\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Skip{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ f{\isacharunderscore}Suc{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isacharparenleft}k\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}Skip{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ step{\isachardot}cases\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}k{\isacharplus}{\isadigit{1}}{\isachardoublequoteclose}{\isacharcomma}\ simplified\ f{\isacharunderscore}Suc{\isacharunderscore}k{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ no{\isacharunderscore}step{\isacharunderscore}final{\isacharprime}{\isacharparenright}\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ s{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Normal\ x{\isachardoublequoteclose}\ \isakeyword{and}\ f{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}f\ k\ {\isacharequal}\ {\isacharparenleft}Catch\ Throw\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ steps{\isacharunderscore}head\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Throw{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ head{\isacharunderscore}f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ head{\isacharunderscore}def\ head{\isacharunderscore}com{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ k{\isacharbrackright}\ f{\isacharunderscore}k\ s{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Catch\ Throw\ c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ f{\isacharunderscore}Suc{\isacharunderscore}k{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isacharparenleft}k\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{define}\isamarkupfalse%
\ g\ \isakeyword{where}\ {\isachardoublequoteopen}g\ i\ {\isacharequal}\ f\ {\isacharparenleft}i\ {\isacharplus}\ {\isacharparenleft}k\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{for}\ i\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}Suc{\isacharunderscore}k\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ g{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}g\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ g{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}g\ i\ {\isasymrightarrow}\ g\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ g{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ g{\isacharunderscore}{\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ s{\isacharprime}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def\ head{\isacharunderscore}def\ head{\isacharunderscore}com{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ not{\isacharunderscore}fin{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymnot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}head\ {\isacharparenleft}f\ i{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ k\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ not{\isacharunderscore}fin\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isacharless}{\isacharparenleft}Suc\ k{\isacharparenright}{\isachardot}\ {\isasymnot}\ final\ {\isacharparenleft}head\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ infinite{\isacharunderscore}computation{\isacharunderscore}extract{\isacharunderscore}head{\isacharunderscore}Catch\ {\isacharbrackleft}OF\ step\ f{\isacharunderscore}{\isadigit{0}}\ this\ {\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ head\ {\isacharparenleft}f\ k{\isacharparenright}\ {\isasymrightarrow}\ head\ {\isacharparenleft}f\ {\isacharparenleft}k\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ head{\isacharunderscore}f{\isacharunderscore}{\isadigit{0}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Skip{\isacharunderscore}no{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Skip{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ cfg\ {\isasymLongrightarrow}\ P{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}erule\ no{\isacharunderscore}step{\isacharunderscore}final{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ final{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}inf{\isacharunderscore}Stuck{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}Stuck{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Skip\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Skip{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Basic\ g{\isacharparenright}\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Basic\ g{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Spec\ r{\isacharparenright}\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Spec\ r{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Stuck{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ split{\isacharunderscore}inf{\isacharunderscore}Seq\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ Seq{\isachardot}hyps\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ steps{\isacharunderscore}Stuck{\isacharunderscore}prop{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}While\ b\ c{\isacharparenright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}While\ b\ c{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Call\ p{\isacharparenright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}DynCom\ d{\isacharparenright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}DynCom\ d{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Guard\ m\ g\ c{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Guard\ m\ g\ c{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Throw\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Throw{\isacharcomma}\ Stuck{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Stuck{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ split{\isacharunderscore}inf{\isacharunderscore}Catch\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ Catch{\isachardot}hyps\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ steps{\isacharunderscore}Stuck{\isacharunderscore}prop{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}inf{\isacharunderscore}Fault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}Fault\ x{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Skip\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Skip{\isacharcomma}\ Fault\ x{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Basic\ g{\isacharparenright}\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Basic\ g{\isacharcomma}\ Fault\ x{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Spec\ r{\isacharparenright}\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Spec\ r{\isacharcomma}\ Fault\ x{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Fault\ x{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ split{\isacharunderscore}inf{\isacharunderscore}Seq\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ Seq{\isachardot}hyps\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ steps{\isacharunderscore}Fault{\isacharunderscore}prop{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Fault\ x{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}While\ b\ c{\isacharparenright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}While\ b\ c{\isacharcomma}\ Fault\ x{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Call\ p{\isacharparenright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Fault\ x{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}DynCom\ d{\isacharparenright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}DynCom\ d{\isacharcomma}\ Fault\ x{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Guard\ m\ g\ c{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Guard\ m\ g\ c{\isacharcomma}\ Fault\ x{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Throw\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Throw{\isacharcomma}\ Fault\ x{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Fault\ x{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ split{\isacharunderscore}inf{\isacharunderscore}Catch\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ Catch{\isachardot}hyps\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ steps{\isacharunderscore}Fault{\isacharunderscore}prop{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}inf{\isacharunderscore}Abrupt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}Abrupt\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Skip\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Skip{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Basic\ g{\isacharparenright}\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Basic\ g{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Spec\ r{\isacharparenright}\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Spec\ r{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Abrupt\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ split{\isacharunderscore}inf{\isacharunderscore}Seq\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ Seq{\isachardot}hyps\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ steps{\isacharunderscore}Abrupt{\isacharunderscore}prop{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}While\ b\ c{\isacharparenright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}While\ b\ c{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Call\ p{\isacharparenright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}DynCom\ d{\isacharparenright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}DynCom\ d{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Guard\ m\ g\ c{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Guard\ m\ g\ c{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Throw\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Throw{\isacharcomma}\ Abrupt\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Abrupt\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ split{\isacharunderscore}inf{\isacharunderscore}Catch\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ Catch{\isachardot}hyps\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ steps{\isacharunderscore}Abrupt{\isacharunderscore}prop{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ terminates{\isacharunderscore}impl{\isacharunderscore}no{\isacharunderscore}infinite{\isacharunderscore}computation{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ termi{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ termi\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Skip\ s{\isacharparenright}\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Skip{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Basic\ g\ s{\isacharparenright}\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Basic\ g{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Spec\ r\ s{\isacharparenright}\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Spec\ r{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Guard\ s\ g\ c\ m{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ g{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ g{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Guard\ m\ g\ c{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ \ g\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isadigit{1}}\ {\isacharequal}\ {\isacharparenleft}c{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ f{\isacharunderscore}step\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}i{\isachardot}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ hyp\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}GuardFault\ s\ g\ m\ c{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ g{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymnotin}\ g{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Guard\ m\ g\ c{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ g\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Fault\ c\ m{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}inf{\isacharunderscore}Fault{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ s\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ split{\isacharunderscore}inf{\isacharunderscore}Seq\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ Seq{\isachardot}hyps\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ steps{\isacharunderscore}Skip{\isacharunderscore}impl{\isacharunderscore}exec{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}CondTrue\ s\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isadigit{1}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ b\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isadigit{1}}\ {\isacharequal}\ {\isacharparenleft}c{\isadigit{1}}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ step{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ f{\isacharunderscore}step\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isadigit{1}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}i{\isachardot}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isadigit{1}}\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \ \ \ \isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}CondFalse\ s\ b\ c{\isadigit{2}}\ c{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymnotin}\ b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ b\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isadigit{1}}\ {\isacharequal}\ {\isacharparenleft}c{\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ step{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ f{\isacharunderscore}step\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}i{\isachardot}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isadigit{2}}\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\ \ \ \ \isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}WhileTrue\ s\ b\ c{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}w{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ s{\isacharprime}\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}While\ b\ c\ {\isasymdown}\ s{\isacharprime}\ {\isasymand}\ {\isasymnot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}While\ b\ c{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ not{\isacharunderscore}inf{\isacharunderscore}Seq{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ split{\isacharunderscore}inf{\isacharunderscore}Seq\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ hyp{\isacharunderscore}c\ hyp{\isacharunderscore}w\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ steps{\isacharunderscore}Skip{\isacharunderscore}impl{\isacharunderscore}exec{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}While\ b\ c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\isanewline
\ \ \ \ \ \ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}While\ b\ c{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ b\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isadigit{1}}\ {\isacharequal}\ {\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ step{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ f{\isacharunderscore}step\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}i{\isachardot}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ not{\isacharunderscore}inf{\isacharunderscore}Seq\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}WhileFalse\ s\ b\ c{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ b{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymnotin}\ b{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}While\ b\ c{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ b\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Call\ p\ bdy\ s{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}bdy{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ bdy\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isadigit{1}}\ {\isacharequal}\ {\isacharparenleft}bdy{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ step{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ f{\isacharunderscore}step\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}bdy{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}i{\isachardot}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ hyp\ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \ \ \ \isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}CallUndefined\ p\ s{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ no{\isacharunderscore}bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ None{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ no{\isacharunderscore}bdy\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ Skip{\isacharunderscore}no{\isacharunderscore}step\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Stuck\ c{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}inf{\isacharunderscore}Stuck{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}DynCom\ c\ s{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\ s{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}DynCom\ c{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharparenleft}Suc\ {\isadigit{0}}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}c\ s{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ f{\isacharunderscore}step\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\ s{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}i{\isachardot}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ hyp\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Throw\ s{\isacharparenright}\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}infI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ f{\isacharunderscore}{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Throw{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ f{\isacharunderscore}step\ {\isacharbrackleft}of\ {\isadigit{0}}{\isacharbrackright}\ f{\isacharunderscore}{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ \ \isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Abrupt\ c{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ not{\isacharunderscore}inf{\isacharunderscore}Abrupt{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ s\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ split{\isacharunderscore}inf{\isacharunderscore}Catch\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ Catch{\isachardot}hyps\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ steps{\isacharunderscore}Throw{\isacharunderscore}impl{\isacharunderscore}exec{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\isanewline
\ termi{\isacharunderscore}call{\isacharunderscore}steps\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}\ body\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharparenleft}{\isacharprime}s\ {\isasymtimes}\ {\isacharprime}p{\isacharparenright}\ {\isasymtimes}\ {\isacharparenleft}{\isacharprime}s\ {\isasymtimes}\ {\isacharprime}p{\isacharparenright}{\isacharparenright}set{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
{\isachardoublequoteopen}termi{\isacharunderscore}call{\isacharunderscore}steps\ {\isasymGamma}\ {\isacharequal}\isanewline
\ {\isacharbraceleft}{\isacharparenleft}{\isacharparenleft}t{\isacharcomma}q{\isacharparenright}{\isacharcomma}{\isacharparenleft}s{\isacharcomma}p{\isacharparenright}{\isacharparenright}{\isachardot}\ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ s\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharcomma}Normal\ t{\isacharparenright}\ {\isasymand}\ redex\ c\ {\isacharequal}\ Call\ q{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{primrec}\isamarkupfalse%
\ subst{\isacharunderscore}redex{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}com\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}com\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}com{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
{\isachardoublequoteopen}subst{\isacharunderscore}redex\ Skip\ c\ {\isacharequal}\ c{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}subst{\isacharunderscore}redex\ {\isacharparenleft}Basic\ f{\isacharparenright}\ c\ {\isacharequal}\ c{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}subst{\isacharunderscore}redex\ {\isacharparenleft}Spec\ r{\isacharparenright}\ c\ {\isacharequal}\ c{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}subst{\isacharunderscore}redex\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ c\ \ {\isacharequal}\ Seq\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\isactrlsub {\isadigit{1}}\ c{\isacharparenright}\ c\isactrlsub {\isadigit{2}}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}subst{\isacharunderscore}redex\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ c\ {\isacharequal}\ c{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}subst{\isacharunderscore}redex\ {\isacharparenleft}While\ b\ c{\isacharprime}{\isacharparenright}\ c\ {\isacharequal}\ c{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}subst{\isacharunderscore}redex\ {\isacharparenleft}Call\ p{\isacharparenright}\ c\ {\isacharequal}\ c{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}subst{\isacharunderscore}redex\ {\isacharparenleft}DynCom\ d{\isacharparenright}\ c\ {\isacharequal}\ c{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}subst{\isacharunderscore}redex\ {\isacharparenleft}Guard\ f\ b\ c{\isacharprime}{\isacharparenright}\ c\ {\isacharequal}\ c{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}subst{\isacharunderscore}redex\ {\isacharparenleft}Throw{\isacharparenright}\ c\ {\isacharequal}\ c{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}subst{\isacharunderscore}redex\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ c\ {\isacharequal}\ Catch\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\isactrlsub {\isadigit{1}}\ c{\isacharparenright}\ c\isactrlsub {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ subst{\isacharunderscore}redex{\isacharunderscore}redex{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}subst{\isacharunderscore}redex\ c\ {\isacharparenleft}redex\ c{\isacharparenright}\ {\isacharequal}\ c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ redex{\isacharunderscore}subst{\isacharunderscore}redex{\isacharcolon}\ {\isachardoublequoteopen}redex\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharparenright}\ {\isacharequal}\ redex\ r{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}redex{\isacharprime}{\isacharcolon}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}redex\ c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\ {\isacharparenleft}auto\ intro{\isacharcolon}\ step{\isachardot}Seq\ step{\isachardot}Catch{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}redex{\isacharcolon}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}r{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\ {\isacharparenleft}auto\ intro{\isacharcolon}\ step{\isachardot}Seq\ step{\isachardot}Catch{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}redex{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}c{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}case{\isacharunderscore}names\ Refl\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Refl\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ r\ s\ r{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redex\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\ \ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimML
\isanewline
%
\endisadelimML
%
\isatagML
\isacommand{ML}\isamarkupfalse%
\ {\isacartoucheopen}\isanewline
\ \ ML{\isacharunderscore}Thms{\isachardot}bind{\isacharunderscore}thm\ {\isacharparenleft}{\isachardoublequote}trancl{\isacharunderscore}induct{\isadigit{2}}{\isachardoublequote}{\isacharcomma}\ Split{\isacharunderscore}Rule{\isachardot}split{\isacharunderscore}rule\ {\isacharat}{\isacharbraceleft}context{\isacharbraceright}\isanewline
\ \ \ \ {\isacharparenleft}Rule{\isacharunderscore}Insts{\isachardot}read{\isacharunderscore}instantiate\ {\isacharat}{\isacharbraceleft}context{\isacharbraceright}\isanewline
\ \ \ \ \ \ {\isacharbrackleft}{\isacharparenleft}{\isacharparenleft}{\isacharparenleft}{\isachardoublequote}a{\isachardoublequote}{\isacharcomma}\ {\isadigit{0}}{\isacharparenright}{\isacharcomma}\ Position{\isachardot}none{\isacharparenright}{\isacharcomma}\ {\isachardoublequote}{\isacharparenleft}aa{\isacharcomma}\ ab{\isacharparenright}{\isachardoublequote}{\isacharparenright}{\isacharcomma}\ {\isacharparenleft}{\isacharparenleft}{\isacharparenleft}{\isachardoublequote}b{\isachardoublequote}{\isacharcomma}\ {\isadigit{0}}{\isacharparenright}{\isacharcomma}\ Position{\isachardot}none{\isacharparenright}{\isacharcomma}\ {\isachardoublequote}{\isacharparenleft}ba{\isacharcomma}\ bb{\isacharparenright}{\isachardoublequote}{\isacharparenright}{\isacharbrackright}\ {\isacharbrackleft}{\isacharbrackright}\isanewline
\ \ \ \ \ \ {\isacharat}{\isacharbraceleft}thm\ trancl{\isacharunderscore}induct{\isacharbraceright}{\isacharparenright}{\isacharparenright}{\isacharsemicolon}\isanewline
{\isacartoucheclose}%
\endisatagML
{\isafoldML}%
%
\isadelimML
\isanewline
%
\endisadelimML
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}redex{\isacharprime}{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}c{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ tranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}consumes\ {\isadigit{1}}{\isacharcomma}case{\isacharunderscore}names\ Step\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Step\ r{\isacharprime}\ s{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isacharunderscore}redex{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ r{\isacharprime}\ s{\isacharprime}\ r{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isacharunderscore}redex{\isacharparenright}\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}subst{\isacharunderscore}redex\ c\ r{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{primrec}\isamarkupfalse%
\ seq{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}nat\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}com{\isacharparenright}\ {\isasymRightarrow}\ {\isacharprime}p\ {\isasymRightarrow}\ nat\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}com{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
{\isachardoublequoteopen}seq\ c\ p\ {\isadigit{0}}\ {\isacharequal}\ Call\ p{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}seq\ c\ p\ {\isacharparenleft}Suc\ i{\isacharparenright}\ {\isacharequal}\ subst{\isacharunderscore}redex\ {\isacharparenleft}seq\ c\ p\ i{\isacharparenright}\ {\isacharparenleft}c\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ renumber{\isacharprime}{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ f{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isacharparenleft}a{\isacharcomma}f\ i{\isacharparenright}\ {\isasymin}\ r\isactrlsup {\isacharasterisk}\ {\isasymand}\ {\isacharparenleft}f\ i{\isacharcomma}f{\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}\ {\isasymin}\ r{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ a{\isacharunderscore}b{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}a{\isacharcomma}b{\isacharparenright}\ {\isasymin}\ r\isactrlsup {\isacharasterisk}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}b\ {\isacharequal}\ f\ {\isadigit{0}}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\isasymexists}f{\isachardot}\ f\ {\isadigit{0}}\ {\isacharequal}\ a\ {\isasymand}\ {\isacharparenleft}{\isasymforall}i{\isachardot}\ {\isacharparenleft}f\ i{\isacharcomma}\ f{\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}\ {\isasymin}\ r{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}b\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtrancl{\isacharunderscore}induct\ {\isacharbrackleft}consumes\ {\isadigit{1}}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isacharequal}\ f\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ f\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}\ f\ {\isadigit{0}}\ {\isacharequal}\ b\ {\isasymand}\ {\isacharparenleft}{\isasymforall}i{\isachardot}\ {\isacharparenleft}f\ i{\isacharcomma}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}\ {\isasymin}\ r{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ a\ z\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ a{\isacharunderscore}z{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}a{\isacharcomma}\ z{\isacharparenright}\ {\isasymin}\ r{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isacharparenleft}z{\isacharcomma}\ b{\isacharparenright}\ {\isasymin}\ r\isactrlsup {\isacharasterisk}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isacharequal}\ f\ {\isadigit{0}}\ {\isasymLongrightarrow}\ {\isasymexists}f{\isachardot}\ f\ {\isadigit{0}}\ {\isacharequal}\ z\ {\isasymand}\ {\isacharparenleft}{\isasymforall}i{\isachardot}\ {\isacharparenleft}f\ i{\isacharcomma}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}\ {\isasymin}\ r{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}b\ {\isacharequal}\ f\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\ f{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ z{\isachardoublequoteclose}\ \isakeyword{and}\ seq{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isacharparenleft}f\ i{\isacharcomma}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}\ {\isasymin}\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharparenleft}{\isasymlambda}i{\isachardot}\ case\ i\ of\ {\isadigit{0}}\ {\isasymRightarrow}\ a\ {\isacharbar}\ Suc\ i\ {\isasymRightarrow}\ f\ i{\isacharparenright}\ i{\isacharcomma}\ f\ i{\isacharparenright}\ {\isasymin}\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ seq\ a{\isacharunderscore}z\ f{\isadigit{0}}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ i{\isacharparenright}\ auto\isanewline
\ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}\ f\ {\isadigit{0}}\ {\isacharequal}\ a\ {\isasymand}\ {\isacharparenleft}{\isasymforall}i{\isachardot}\ {\isacharparenleft}f\ i{\isacharcomma}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}\ {\isasymin}\ r{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharminus}\ {\isacharparenleft}rule\ exI\ {\isacharbrackleft}\isakeyword{where}\ x{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}i{\isachardot}\ case\ i\ of\ {\isadigit{0}}\ {\isasymRightarrow}\ a\ {\isacharbar}\ Suc\ i\ {\isasymRightarrow}\ f\ i{\isachardoublequoteclose}{\isacharbrackright}{\isacharcomma}simp{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ renumber{\isacharcolon}\isanewline
\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isacharparenleft}a{\isacharcomma}f\ i{\isacharparenright}\ {\isasymin}\ r\isactrlsup {\isacharasterisk}\ {\isasymand}\ {\isacharparenleft}f\ i{\isacharcomma}f{\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}\ {\isasymin}\ r\ \isanewline
\ {\isasymLongrightarrow}\ {\isasymexists}f{\isachardot}\ f\ {\isadigit{0}}\ {\isacharequal}\ a\ {\isasymand}\ {\isacharparenleft}{\isasymforall}i{\isachardot}\ {\isacharparenleft}f\ i{\isacharcomma}\ f{\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}\ {\isasymin}\ r{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ dest{\isacharcolon}renumber{\isacharprime}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ lem{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}y{\isachardot}\ r\isactrlsup {\isacharplus}\isactrlsup {\isacharplus}\ a\ y\ {\isasymlongrightarrow}\ P\ a\ {\isasymlongrightarrow}\ P\ y\ \isanewline
\ \ \ {\isasymLongrightarrow}\ {\isacharparenleft}{\isacharparenleft}b{\isacharcomma}a{\isacharparenright}\ {\isasymin}\ {\isacharbraceleft}{\isacharparenleft}y{\isacharcomma}x{\isacharparenright}{\isachardot}\ P\ x\ {\isasymand}\ r\ x\ y{\isacharbraceright}\isactrlsup {\isacharplus}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}{\isacharparenleft}b{\isacharcomma}a{\isacharparenright}\ {\isasymin}\ {\isacharbraceleft}{\isacharparenleft}y{\isacharcomma}x{\isacharparenright}{\isachardot}\ P\ x\ {\isasymand}\ r\isactrlsup {\isacharplus}\isactrlsup {\isacharplus}\ x\ y{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}rule\ iffI{\isacharparenright}\isanewline
\ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}erule\ trancl{\isacharunderscore}induct{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\ \isacommand{apply}\isamarkupfalse%
{\isacharparenleft}blast\ intro{\isacharcolon}tranclp{\isacharunderscore}trans{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}erule\ tranclp{\isacharunderscore}induct{\isacharparenright}\isanewline
\ \isacommand{apply}\isamarkupfalse%
\ blast\isanewline
\isacommand{apply}\isamarkupfalse%
{\isacharparenleft}blast\ intro{\isacharcolon}trancl{\isacharunderscore}trans{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ terminates{\isacharunderscore}impl{\isacharunderscore}no{\isacharunderscore}infinite{\isacharunderscore}trans{\isacharunderscore}computation{\isacharcolon}\isanewline
\ \isakeyword{assumes}\ terminates{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isasymdown}s{\isachardoublequoteclose}\isanewline
\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymnot}{\isacharparenleft}{\isasymexists}f{\isachardot}\ f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ f{\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}wf{\isacharparenleft}{\isacharbraceleft}{\isacharparenleft}y{\isacharcomma}x{\isacharparenright}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ x\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}x\ {\isasymrightarrow}\ y{\isacharbraceright}\isactrlsup {\isacharplus}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ wf{\isacharunderscore}trancl{\isacharparenright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}wf\ {\isacharbraceleft}{\isacharparenleft}y{\isacharcomma}\ x{\isacharparenright}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ x\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}x\ {\isasymrightarrow}\ y{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ wf{\isacharunderscore}iff{\isacharunderscore}no{\isacharunderscore}infinite{\isacharunderscore}down{\isacharunderscore}chain{\isacharcomma}clarify{\isacharcomma}simp{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ f\ i\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}\ f\ {\isacharparenleft}{\isadigit{0}}{\isacharcolon}{\isacharcolon}nat{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ renumber\ {\isacharbrackleft}to{\isacharunderscore}pred{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ terminates{\isacharunderscore}impl{\isacharunderscore}no{\isacharunderscore}infinite{\isacharunderscore}computation\ {\isacharbrackleft}OF\ terminates{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\isasymexists}f{\isachardot}\ f\ {\isacharparenleft}{\isadigit{0}}{\isacharcolon}{\isacharcolon}nat{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\isasymexists}f{\isachardot}\ {\isasymforall}i{\isachardot}\ {\isacharparenleft}f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharcomma}\ f\ i{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymin}\ {\isacharbraceleft}{\isacharparenleft}y{\isacharcomma}\ x{\isacharparenright}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ x\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}x\ {\isasymrightarrow}\ y{\isacharbraceright}\isactrlsup {\isacharplus}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ wf{\isacharunderscore}iff{\isacharunderscore}no{\isacharunderscore}infinite{\isacharunderscore}down{\isacharunderscore}chain{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ contrapos{\isacharunderscore}nn{\isacharparenright}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}\ f\ {\isacharparenleft}{\isadigit{0}}{\isacharcolon}{\isacharcolon}nat{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ f\ \isakeyword{where}\isanewline
\ \ \ \ \ \ f{\isadigit{0}}{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ seq{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}\ {\isasymforall}i{\isachardot}\ {\isacharparenleft}f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharcomma}\ f\ i{\isacharparenright}\ {\isasymin}\ {\isacharbraceleft}{\isacharparenleft}y{\isacharcomma}\ x{\isacharparenright}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ x\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}x\ {\isasymrightarrow}\ y{\isacharbraceright}\isactrlsup {\isacharplus}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ exI\ {\isacharbrackleft}\isakeyword{where}\ x{\isacharequal}f{\isacharbrackright}{\isacharcomma}rule\ allI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharcomma}\ f\ i{\isacharparenright}\ {\isasymin}\ {\isacharbraceleft}{\isacharparenleft}y{\isacharcomma}\ x{\isacharparenright}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ x\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}x\ {\isasymrightarrow}\ y{\isacharbraceright}\isactrlsup {\isacharplus}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\ \ \ \isanewline
\ \ \ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ f\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ i{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isadigit{0}}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ f\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ f{\isadigit{0}}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Suc\ n{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ f\ n{\isachardoublequoteclose}\ \ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ seq\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ f\ {\isacharparenleft}Suc\ n{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ tranclp{\isacharunderscore}into{\isacharunderscore}rtranclp\ rtranclp{\isacharunderscore}trans{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ f\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ seq\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharcomma}\ f\ i{\isacharparenright}\ {\isasymin}\ {\isacharbraceleft}{\isacharparenleft}y{\isacharcomma}\ x{\isacharparenright}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ x\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}x\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ y{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ clarsimp\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}y{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ y{\isasymlongrightarrow}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ f\ i{\isasymlongrightarrow}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ y{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ tranclp{\isacharunderscore}into{\isacharunderscore}rtranclp\ rtranclp{\isacharunderscore}trans{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}subst\ lem\ {\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ wf{\isacharunderscore}termi{\isacharunderscore}call{\isacharunderscore}steps{\isacharcolon}\ {\isachardoublequoteopen}wf\ {\isacharparenleft}termi{\isacharunderscore}call{\isacharunderscore}steps\ {\isasymGamma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ termi{\isacharunderscore}call{\isacharunderscore}steps{\isacharunderscore}def\ wf{\isacharunderscore}iff{\isacharunderscore}no{\isacharunderscore}infinite{\isacharunderscore}down{\isacharunderscore}chain{\isacharcomma}\isanewline
\ \ \ \ \ \ \ clarify{\isacharcomma}simp{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ inf{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}t{\isacharcomma}\ q{\isacharparenright}\ {\isacharparenleft}s{\isacharcomma}\ p{\isacharparenright}{\isachardot}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ s\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharcomma}\ Normal\ t{\isacharparenright}\ {\isasymand}\ redex\ c\ {\isacharequal}\ Call\ q{\isacharparenright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}f\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ s\ \isakeyword{where}\ {\isachardoublequoteopen}s\ i\ {\isacharequal}\ fst\ {\isacharparenleft}f\ i{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{for}\ i\ {\isacharcolon}{\isacharcolon}\ nat\isanewline
\ \ \isacommand{define}\isamarkupfalse%
\ p\ \isakeyword{where}\ {\isachardoublequoteopen}p\ i\ {\isacharequal}\ {\isacharparenleft}snd\ {\isacharparenleft}f\ i{\isacharparenright}{\isacharcolon}{\isacharcolon}{\isacharprime}b{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{for}\ i\ {\isacharcolon}{\isacharcolon}\ nat\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ inf\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ inf{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}Call\ {\isacharparenleft}p\ i{\isacharparenright}\ {\isasymdown}\ Normal\ {\isacharparenleft}s\ i{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ {\isacharparenleft}p\ i{\isacharparenright}{\isacharcomma}\ Normal\ {\isacharparenleft}s\ i{\isacharparenright}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharcomma}\ Normal\ {\isacharparenleft}s\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ redex\ c\ {\isacharequal}\ Call\ {\isacharparenleft}p\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ allI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}erule{\isacharunderscore}tac\ x{\isacharequal}i\ \isakeyword{in}\ allE{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ s{\isacharunderscore}def\ p{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ inf{\isacharprime}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}c{\isachardot}\ {\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}Call\ {\isacharparenleft}p\ i{\isacharparenright}\ {\isasymdown}\ Normal\ {\isacharparenleft}s\ i{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ {\isacharparenleft}p\ i{\isacharparenright}{\isacharcomma}\ Normal\ {\isacharparenleft}s\ i{\isacharparenright}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c\ i{\isacharcomma}\ Normal\ {\isacharparenleft}s\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ redex\ {\isacharparenleft}c\ i{\isacharparenright}\ {\isacharequal}\ Call\ {\isacharparenleft}p\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ choice{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ c\ \isakeyword{where}\isanewline
\ \ \ \ \ \ termi{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}Call\ {\isacharparenleft}p\ i{\isacharparenright}\ {\isasymdown}\ Normal\ {\isacharparenleft}s\ i{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ steps{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ {\isacharparenleft}p\ i{\isacharparenright}{\isacharcomma}\ Normal\ {\isacharparenleft}s\ i{\isacharparenright}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c\ i{\isacharcomma}\ Normal\ {\isacharparenleft}s\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ red{\isacharunderscore}c{\isacharcolon}\ \ \ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ redex\ {\isacharparenleft}c\ i{\isacharparenright}\ {\isacharequal}\ Call\ {\isacharparenleft}p\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ g\ \isakeyword{where}\ {\isachardoublequoteopen}g\ i\ {\isacharequal}\ {\isacharparenleft}seq\ c\ {\isacharparenleft}p\ {\isadigit{0}}{\isacharparenright}\ i{\isacharcomma}Normal\ {\isacharparenleft}s\ i{\isacharparenright}{\isacharcolon}{\isacharcolon}{\isacharparenleft}{\isacharprime}a{\isacharcomma}{\isacharprime}c{\isacharparenright}\ xstate{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{for}\ i\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ red{\isacharunderscore}c\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isadigit{0}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}g\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Call\ {\isacharparenleft}p\ {\isadigit{0}}{\isacharparenright}{\isacharcomma}\ Normal\ {\isacharparenleft}s\ {\isadigit{0}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ g{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}redex\ {\isacharparenleft}seq\ c\ {\isacharparenleft}p\ {\isadigit{0}}{\isacharparenright}\ i{\isacharparenright}\ {\isacharequal}\ Call\ {\isacharparenleft}p\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct\ i{\isacharparenright}\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ redex{\isacharunderscore}subst{\isacharunderscore}redex\ red{\isacharunderscore}c{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ {\isacharbrackleft}symmetric{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}subst{\isacharunderscore}redex\ {\isacharparenleft}seq\ c\ {\isacharparenleft}p\ {\isadigit{0}}{\isacharparenright}\ i{\isacharparenright}\ {\isacharparenleft}Call\ {\isacharparenleft}p\ i{\isacharparenright}{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}seq\ c\ {\isacharparenleft}p\ {\isadigit{0}}{\isacharparenright}\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ subst{\isacharunderscore}redex{\isacharunderscore}redex{\isacharparenright}\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ subst{\isacharunderscore}redex{\isacharunderscore}seq\ {\isacharequal}\ this\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}g\ i{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}g\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ i\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ steps{\isacharunderscore}c\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ i{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ {\isacharparenleft}p\ i{\isacharparenright}{\isacharcomma}\ Normal\ {\isacharparenleft}s\ i{\isacharparenright}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c\ i{\isacharcomma}\ Normal\ {\isacharparenleft}s\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ steps{\isacharunderscore}redex{\isacharprime}\ {\isacharbrackleft}OF\ this{\isacharcomma}\ of\ {\isachardoublequoteopen}{\isacharparenleft}seq\ c\ {\isacharparenleft}p\ {\isadigit{0}}{\isacharparenright}\ i{\isacharparenright}{\isachardoublequoteclose}{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}subst{\isacharunderscore}redex\ {\isacharparenleft}seq\ c\ {\isacharparenleft}p\ {\isadigit{0}}{\isacharparenright}\ i{\isacharparenright}\ {\isacharparenleft}Call\ {\isacharparenleft}p\ i{\isacharparenright}{\isacharparenright}{\isacharcomma}\ Normal\ {\isacharparenleft}s\ i{\isacharparenright}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}subst{\isacharunderscore}redex\ {\isacharparenleft}seq\ c\ {\isacharparenleft}p\ {\isadigit{0}}{\isacharparenright}\ i{\isacharparenright}\ {\isacharparenleft}c\ i{\isacharparenright}{\isacharcomma}\ Normal\ {\isacharparenleft}s\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}seq\ c\ {\isacharparenleft}p\ {\isadigit{0}}{\isacharparenright}\ i{\isacharcomma}\ Normal\ {\isacharparenleft}s\ i{\isacharparenright}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}seq\ c\ {\isacharparenleft}p\ {\isadigit{0}}{\isacharparenright}\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isacharcomma}\ Normal\ {\isacharparenleft}s\ {\isacharparenleft}i\ {\isacharplus}\ {\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ subst{\isacharunderscore}redex{\isacharunderscore}seq{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}g\ i{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}g\ {\isacharparenleft}i{\isacharplus}{\isadigit{1}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ g{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ terminates{\isacharunderscore}impl{\isacharunderscore}no{\isacharunderscore}infinite{\isacharunderscore}trans{\isacharunderscore}computation\ {\isacharbrackleft}OF\ termi{\isacharunderscore}c\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isadigit{0}}{\isacharbrackright}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\isasymexists}f{\isachardot}\ f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}Call\ {\isacharparenleft}p\ {\isadigit{0}}{\isacharparenright}{\isacharcomma}\ Normal\ {\isacharparenleft}s\ {\isadigit{0}}{\isacharparenright}{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ f\ i\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ no{\isacharunderscore}infinite{\isacharunderscore}computation{\isacharunderscore}implies{\isacharunderscore}wf{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}inf{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}wf\ {\isacharbraceleft}{\isacharparenleft}c{\isadigit{2}}{\isacharcomma}c{\isadigit{1}}{\isacharparenright}{\isachardot}\ {\isasymGamma}\ {\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ c{\isadigit{1}}\ {\isasymand}\ {\isasymGamma}\ {\isasymturnstile}\ c{\isadigit{1}}\ {\isasymrightarrow}\ c{\isadigit{2}}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ wf{\isacharunderscore}iff{\isacharunderscore}no{\isacharunderscore}infinite{\isacharunderscore}down{\isacharunderscore}chain{\isacharcomma}clarify{\isacharcomma}\ simp{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ f\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ f\ i\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}f{\isachardot}\ f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ renumber\ {\isacharbrackleft}to{\isacharunderscore}pred{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ not{\isacharunderscore}inf\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\isasymexists}f{\isachardot}\ f\ {\isadigit{0}}\ {\isacharequal}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymforall}i{\isachardot}\ {\isasymGamma}{\isasymturnstile}f\ i\ {\isasymrightarrow}\ f\ {\isacharparenleft}Suc\ i{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ inf{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}final{\isacharunderscore}Stuck{\isacharunderscore}step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ final\ {\isacharparenleft}c{\isacharcomma}Stuck{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymexists}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Stuck{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def{\isacharparenright}{\isacharplus}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}final{\isacharunderscore}Abrupt{\isacharunderscore}step{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymnot}\ final\ {\isacharparenleft}c{\isacharcomma}Abrupt\ s{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymexists}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Abrupt\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def{\isacharparenright}{\isacharplus}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}final{\isacharunderscore}Fault{\isacharunderscore}step{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymnot}\ final\ {\isacharparenleft}c{\isacharcomma}Fault\ f{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymexists}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Fault\ f{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def{\isacharparenright}{\isacharplus}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}final{\isacharunderscore}Normal{\isacharunderscore}step{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymnot}\ final\ {\isacharparenleft}c{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymexists}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\ \isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Skip\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Basic\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Spec\ r{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}{\isasymexists}t{\isachardot}\ {\isacharparenleft}s{\isacharcomma}t{\isacharparenright}\ {\isasymin}\ r{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}{\isacharplus}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}final\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def{\isacharparenright}{\isacharplus}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}s\ {\isasymin}\ b{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}{\isacharplus}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}While\ b\ c{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}s\ {\isasymin}\ b{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}{\isacharplus}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Call\ p{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}{\isasymGamma}\ p{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}{\isacharplus}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ DynCom\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Guard\ f\ g\ c{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}s\ {\isasymin}\ g{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros{\isacharparenright}{\isacharplus}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Throw\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}final\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def{\isacharparenright}{\isacharplus}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ final{\isacharunderscore}termi{\isacharcolon}\isanewline
{\isachardoublequoteopen}final\ {\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isasymdown}s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharparenright}\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def\ terminates{\isachardot}intros{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ split{\isacharunderscore}computation{\isacharcolon}\ \isanewline
\isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c\isactrlsub f{\isacharcomma}\ s\isactrlsub f{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ not{\isacharunderscore}final{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ final\ {\isacharparenleft}c{\isacharcomma}s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ final{\isacharcolon}\ {\isachardoublequoteopen}final\ {\isacharparenleft}c\isactrlsub f{\isacharcomma}s\isactrlsub f{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c\isactrlsub f{\isacharcomma}\ s\isactrlsub f{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\ not{\isacharunderscore}final\ final\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}case{\isacharunderscore}names\ Refl\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Refl\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ c\ s\ c{\isacharprime}\ s{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wf{\isacharunderscore}implies{\isacharunderscore}termi{\isacharunderscore}reach{\isacharunderscore}step{\isacharunderscore}case{\isacharcolon}\isanewline
\isakeyword{assumes}\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isacharprime}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ hyp\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Skip\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Basic\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Spec\ r{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}{\isasymexists}t{\isachardot}\ {\isacharparenleft}s{\isacharcomma}t{\isacharparenright}{\isasymin}r{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}{\isacharplus}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isacharprime}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isachardot}Seq{\isacharparenright}\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c{\isacharprime}\ s{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ step{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isacharprime}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}c\isactrlsub {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Seq\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}Seq{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Seq\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isacharprime}{\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Seq{\isachardot}hyps\ {\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{1}}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ s{\isacharprime}\ {\isasymlongrightarrow}\ {\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}intro\ allI\ impI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}final\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}c\isactrlsub {\isadigit{1}}{\isacharequal}Skip\ {\isasymor}\ c\isactrlsub {\isadigit{1}}{\isacharequal}Throw{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ final{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ Skip{\isacharcolon}\ {\isachardoublequoteopen}c\isactrlsub {\isadigit{1}}{\isacharequal}Skip{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Seq\ Skip\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}SeqSkip{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}simplified\ Skip{\isacharcomma}\ OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}\ Skip\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ Throw{\isacharcolon}\ {\isachardoublequoteopen}c\isactrlsub {\isadigit{1}}{\isacharequal}Throw{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Abrupt\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps\ {\isacharbrackleft}OF\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c\isactrlsub f\ t\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ \ \ \ \ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c\isactrlsub f{\isacharcomma}\ t{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ fin{\isacharcolon}{\isachardoublequoteopen}{\isacharparenleft}case\ s{\isacharprime}\ of\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Abrupt\ x\ {\isasymRightarrow}\ c\isactrlsub f\ {\isacharequal}\ Throw\ {\isasymand}\ t\ {\isacharequal}\ Normal\ x\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbar}\ {\isacharunderscore}\ {\isasymRightarrow}\ c\isactrlsub f\ {\isacharequal}\ Skip\ {\isasymand}\ t\ {\isacharequal}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ split{\isacharcolon}\ xstate{\isachardot}splits{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ fin\ \isacommand{have}\isamarkupfalse%
\ final{\isacharcolon}\ {\isachardoublequoteopen}final\ {\isacharparenleft}c\isactrlsub f{\isacharcomma}t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharprime}{\isacharparenright}\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ split{\isacharunderscore}computation\ {\isacharbrackleft}OF\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}\ False\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ \ \ first{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ rest{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c\isactrlsub f{\isacharcomma}\ t{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isachardot}Seq\ {\isacharbrackleft}OF\ first{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Seq\ c{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ termi{\isacharunderscore}s{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Seq\ c{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ s{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Normal\ x{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ termi{\isacharunderscore}s{\isacharprime}{\isacharprime}\ {\isacharbrackleft}simplified\ Normal{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ termi{\isacharunderscore}c\isactrlsub {\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c{\isacharprime}{\isacharprime}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ t\ {\isasymlongrightarrow}\ {\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}{\isasymexists}x{\isacharprime}{\isachardot}\ s{\isacharprime}{\isacharequal}Abrupt\ x{\isacharprime}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ fin\ \isacommand{obtain}\isamarkupfalse%
\ {\isachardoublequoteopen}c\isactrlsub f{\isacharequal}Skip{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isacharequal}s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharprime}{\isacharparenright}\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ steps{\isacharunderscore}Skip{\isacharunderscore}impl{\isacharunderscore}exec\ {\isacharbrackleft}OF\ rest\ {\isacharbrackleft}simplified\ this{\isacharbrackright}{\isacharbrackright}\ Normal\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c{\isacharprime}{\isacharprime}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ termi{\isacharunderscore}c\isactrlsub {\isadigit{2}}\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ fin\ \isacommand{obtain}\isamarkupfalse%
\ x{\isacharprime}\ \isakeyword{where}\ s{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Abrupt\ x{\isacharprime}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}c\isactrlsub f{\isacharequal}Throw{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isacharequal}Normal\ x{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ steps{\isacharunderscore}Throw{\isacharunderscore}impl{\isacharunderscore}exec\ {\isacharbrackleft}OF\ rest\ {\isacharbrackleft}simplified\ this{\isacharbrackright}{\isacharbrackright}\ Normal\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c{\isacharprime}{\isacharprime}{\isacharcomma}Normal\ x{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ x{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ termi{\isacharunderscore}c\isactrlsub {\isadigit{2}}\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ OF\ this{\isacharbrackright}\ s{\isacharprime}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Abrupt\ x{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ steps{\isacharunderscore}Abrupt{\isacharunderscore}prop\ {\isacharbrackleft}OF\ rest\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Abrupt\ x{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ fin\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Abrupt\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharprime}{\isacharparenright}\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Fault\ f{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ steps{\isacharunderscore}Fault{\isacharunderscore}prop\ {\isacharbrackleft}OF\ rest\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Fault\ f{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ fin\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharprime}{\isacharparenright}\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ Stuck\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ steps{\isacharunderscore}Stuck{\isacharunderscore}prop\ {\isacharbrackleft}OF\ rest\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Stuck{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ fin\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharprime}{\isacharparenright}\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isacharprime}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}s{\isasymin}b{\isachardoublequoteclose}{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}CondTrue{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{1}}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ True\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}CondFalse{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ False\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}While\ b\ c{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}While\ b\ c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isacharprime}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}s{\isasymin}b{\isachardoublequoteclose}{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}While\ b\ c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}WhileTrue{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharparenright}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ True\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Call\ p{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isacharprime}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}{\isasymGamma}\ p{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ None\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Some\ bdy{\isacharparenright}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}bdy{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}Call{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}bdy\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ Some\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}DynCom\ c{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}DynCom\ c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isacharprime}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}DynCom\ c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\ s{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}DynCom{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ s\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Guard\ f\ g\ c{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Guard\ f\ g\ c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isacharprime}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}s{\isasymin}g{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Guard\ f\ g\ c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}Guard{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}OF\ this{\isacharbrackright}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ True\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\ \ \isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Throw\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}c{\isacharprime}\ s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isacharprime}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isachardot}Catch{\isacharparenright}\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c{\isacharprime}\ s{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ step{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isacharprime}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}c\isactrlsub {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Catch\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}Catch{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Catch\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isacharprime}{\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Catch{\isachardot}hyps\ {\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{1}}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \ \isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}s{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ s{\isacharprime}\ {\isasymlongrightarrow}\ {\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ Normal\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}intro\ allI\ impI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ Normal\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}final\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ Throw{\isacharcolon}\ {\isachardoublequoteopen}c\isactrlsub {\isadigit{1}}{\isacharequal}Throw{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Catch\ Throw\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}CatchThrow{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}simplified\ Throw{\isacharcomma}\ OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}\ Throw\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharprime}{\isacharequal}s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ exec{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps\ {\isacharbrackleft}OF\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c\isactrlsub f\ t\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ \ \ \ \ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Throw{\isacharcomma}\ Normal\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ split{\isacharcolon}\ xstate{\isachardot}splits{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ split{\isacharunderscore}computation\ {\isacharbrackleft}OF\ steps{\isacharunderscore}c\isactrlsub {\isadigit{1}}\ False{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ \ \ first{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ rest{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Throw{\isacharcomma}\ Normal\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isachardot}Catch\ {\isacharbrackleft}OF\ first{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Catch\ c{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Catch\ c{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ s{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ steps{\isacharunderscore}Throw{\isacharunderscore}impl{\isacharunderscore}exec\ {\isacharbrackleft}OF\ rest{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c{\isacharprime}{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ s{\isacharprime}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ rest\ \isacommand{obtain}\isamarkupfalse%
\ x\ \isakeyword{where}\ {\isachardoublequoteopen}s{\isacharprime}{\isacharprime}{\isacharequal}Normal\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}auto\ dest{\isacharcolon}\ steps{\isacharunderscore}Fault{\isacharunderscore}prop\ steps{\isacharunderscore}Abrupt{\isacharunderscore}prop\ steps{\isacharunderscore}Stuck{\isacharunderscore}prop{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ terminates{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ wf{\isacharunderscore}implies{\isacharunderscore}termi{\isacharunderscore}reach{\isacharcolon}\isanewline
\isakeyword{assumes}\ wf{\isacharcolon}\ {\isachardoublequoteopen}wf\ {\isacharbraceleft}{\isacharparenleft}cfg{\isadigit{2}}{\isacharcomma}cfg{\isadigit{1}}{\isacharparenright}{\isachardot}\ {\isasymGamma}\ {\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ cfg{\isadigit{1}}\ {\isasymand}\ {\isasymGamma}\ {\isasymturnstile}\ cfg{\isadigit{1}}\ {\isasymrightarrow}\ cfg{\isadigit{2}}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}c{\isadigit{1}}\ s{\isadigit{1}}{\isachardot}\ {\isasymlbrakk}{\isasymGamma}\ {\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ cfg{\isadigit{1}}{\isacharsemicolon}\ \ cfg{\isadigit{1}}{\isacharequal}{\isacharparenleft}c{\isadigit{1}}{\isacharcomma}s{\isadigit{1}}{\isacharparenright}{\isasymrbrakk}{\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isadigit{1}}{\isasymdown}s{\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ wf\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ cfg{\isadigit{1}}{\isacharcomma}\ simp{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ c{\isadigit{1}}\ s{\isadigit{1}}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ reach{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isadigit{1}}{\isacharcomma}\ s{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ hyp{\isacharunderscore}raw{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}y\ c{\isadigit{2}}\ s{\isadigit{2}}{\isachardot}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isasymlbrakk}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isadigit{1}}{\isacharcomma}\ s{\isadigit{1}}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isadigit{2}}{\isacharcomma}\ s{\isadigit{2}}{\isacharparenright}{\isacharsemicolon}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isadigit{2}}{\isacharcomma}\ s{\isadigit{2}}{\isacharparenright}{\isacharsemicolon}\ y\ {\isacharequal}\ {\isacharparenleft}c{\isadigit{2}}{\isacharcomma}\ s{\isadigit{2}}{\isacharparenright}{\isasymrbrakk}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isadigit{2}}\ {\isasymdown}\ s{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}c{\isadigit{2}}\ s{\isadigit{2}}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isadigit{1}}{\isacharcomma}\ s{\isadigit{1}}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isadigit{2}}{\isacharcomma}\ s{\isadigit{2}}{\isacharparenright}\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isadigit{2}}\ {\isasymdown}\ s{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hyp{\isacharunderscore}raw{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ \ \ assumption\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ reach\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ \ simp\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ refl{\isacharparenright}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isadigit{1}}\ {\isasymdown}\ s{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Normal\ s{\isadigit{1}}{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ wf{\isacharunderscore}implies{\isacharunderscore}termi{\isacharunderscore}reach{\isacharunderscore}step{\isacharunderscore}case\ {\isacharbrackleft}OF\ hyp\ {\isacharbrackleft}simplified\ Normal{\isacharbrackright}{\isacharbrackright}\ \isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ no{\isacharunderscore}infinite{\isacharunderscore}computation{\isacharunderscore}impl{\isacharunderscore}terminates{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ not{\isacharunderscore}inf{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isasymdown}s{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ no{\isacharunderscore}infinite{\isacharunderscore}computation{\isacharunderscore}implies{\isacharunderscore}wf\ {\isacharbrackleft}OF\ not{\isacharunderscore}inf{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharcolon}\ {\isachardoublequoteopen}wf\ {\isacharbraceleft}{\isacharparenleft}c{\isadigit{2}}{\isacharcomma}\ c{\isadigit{1}}{\isacharparenright}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ c{\isadigit{1}}\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}c{\isadigit{1}}\ {\isasymrightarrow}\ c{\isadigit{2}}{\isacharbraceright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ wf{\isacharunderscore}implies{\isacharunderscore}termi{\isacharunderscore}reach\ {\isacharbrackleft}OF\ wf{\isacharbrackright}{\isacharparenright}\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{corollary}\isamarkupfalse%
\ terminates{\isacharunderscore}iff{\isacharunderscore}no{\isacharunderscore}infinite{\isacharunderscore}computation{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isasymdown}s\ {\isacharequal}\ {\isacharparenleft}{\isasymnot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isasymdots}{\isacharparenleft}{\isasyminfinity}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ \ {\isacharparenleft}erule\ terminates{\isacharunderscore}impl{\isacharunderscore}no{\isacharunderscore}infinite{\isacharunderscore}computation{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}erule\ no{\isacharunderscore}infinite{\isacharunderscore}computation{\isacharunderscore}impl{\isacharunderscore}terminates{\isacharparenright}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsection{Generalised Redexes%
}
\isamarkuptrue%
%
\begin{isamarkuptext}%
For an important lemma for the completeness proof of the Hoare-logic for
total correctness we need a generalisation of \isa{redex} that not only
yield the redex itself but all the enclosing statements as well.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{primrec}\isamarkupfalse%
\ redexes{\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}com\ {\isasymRightarrow}\ {\isacharparenleft}{\isacharprime}s{\isacharcomma}{\isacharprime}p{\isacharcomma}{\isacharprime}f{\isacharparenright}com\ set{\isachardoublequoteclose}\isanewline
\isakeyword{where}\isanewline
{\isachardoublequoteopen}redexes\ Skip\ {\isacharequal}\ {\isacharbraceleft}Skip{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redexes\ {\isacharparenleft}Basic\ f{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}Basic\ f{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redexes\ {\isacharparenleft}Spec\ r{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}Spec\ r{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redexes\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharbraceright}\ {\isasymunion}\ redexes\ c\isactrlsub {\isadigit{1}}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redexes\ {\isacharparenleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}Cond\ b\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redexes\ {\isacharparenleft}While\ b\ c{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}While\ b\ c{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redexes\ {\isacharparenleft}Call\ p{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}Call\ p{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redexes\ {\isacharparenleft}DynCom\ d{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}DynCom\ d{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redexes\ {\isacharparenleft}Guard\ f\ b\ c{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}Guard\ f\ b\ c{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redexes\ {\isacharparenleft}Throw{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}Throw{\isacharbraceright}{\isachardoublequoteclose}\ {\isacharbar}\isanewline
{\isachardoublequoteopen}redexes\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ {\isacharbraceleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharbraceright}\ {\isasymunion}\ redexes\ c\isactrlsub {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharcolon}\ {\isachardoublequoteopen}c\ {\isasymin}\ redexes\ c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ redex{\isacharunderscore}in{\isacharunderscore}redexes{\isacharcolon}\ {\isachardoublequoteopen}redex\ c\ {\isasymin}\ redexes\ c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ redex{\isacharunderscore}redexes{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}c{\isacharprime}{\isachardot}\ {\isasymlbrakk}c{\isacharprime}\ {\isasymin}\ redexes\ c{\isacharsemicolon}\ redex\ c{\isacharprime}\ {\isacharequal}\ c{\isacharprime}{\isasymrbrakk}\ {\isasymLongrightarrow}\ redex\ c\ {\isacharequal}\ c{\isacharprime}{\isachardoublequoteclose}\ \isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}redexes{\isacharcolon}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}r\ r{\isacharprime}{\isachardot}\ {\isasymlbrakk}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}r{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isacharsemicolon}\ r\ {\isasymin}\ redexes\ c{\isasymrbrakk}\ \isanewline
\ \ {\isasymLongrightarrow}\ {\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymand}\ r{\isacharprime}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Skip\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Basic\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Spec\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}r\ {\isasymin}\ redexes\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ r{\isacharcolon}\ {\isachardoublequoteopen}r\ {\isacharequal}\ Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\ {\isasymor}\ r\ {\isasymin}\ redexes\ c\isactrlsub {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ step{\isacharunderscore}r{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ r\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}r\ {\isacharequal}\ Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ step{\isacharunderscore}r\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ r{\isacharcolon}\ {\isachardoublequoteopen}r\ {\isasymin}\ redexes\ c\isactrlsub {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Seq{\isachardot}hyps\ {\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ {\isacharbrackleft}OF\ step{\isacharunderscore}r\ this{\isacharbrackright}\ \isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ step{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ r{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}r{\isacharprime}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isachardot}Seq\ {\isacharbrackleft}OF\ step{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Seq\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ r{\isacharprime}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Cond\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases\ simp\ add{\isacharcolon}\ root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ While\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases\ simp\ add{\isacharcolon}\ root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Call\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases\ simp\ add{\isacharcolon}\ root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ DynCom\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases\ simp\ add{\isacharcolon}\ root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Guard\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases\ simp\ add{\isacharcolon}\ root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Throw\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ step{\isachardot}intros\ elim{\isacharcolon}\ step{\isacharunderscore}elim{\isacharunderscore}cases\ simp\ add{\isacharcolon}\ root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}r\ {\isasymin}\ redexes\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ r{\isacharcolon}\ {\isachardoublequoteopen}r\ {\isacharequal}\ Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\ {\isasymor}\ r\ {\isasymin}\ redexes\ c\isactrlsub {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ step{\isacharunderscore}r{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ r\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}r\ {\isacharequal}\ Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ step{\isacharunderscore}r\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ r{\isacharcolon}\ {\isachardoublequoteopen}r\ {\isasymin}\ redexes\ c\isactrlsub {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Catch{\isachardot}hyps\ {\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ {\isacharbrackleft}OF\ step{\isacharunderscore}r\ this{\isacharbrackright}\ \isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ step{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ r{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}r{\isacharprime}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isachardot}Catch\ {\isacharbrackleft}OF\ step{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Catch\ c{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ r{\isacharprime}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}redexes{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}c{\isachardot}\ r\ {\isasymin}\ redexes\ c\ {\isasymLongrightarrow}\ {\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymand}\ r{\isacharprime}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}case{\isacharunderscore}names\ Refl\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Refl\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymand}\ r{\isacharprime}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ r\ s\ r{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}r\ {\isasymin}\ redexes\ c{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact{\isacharplus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}r{\isacharprime}{\isacharprime}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ step\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Trans{\isachardot}hyps\ {\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ {\isacharbrackleft}OF\ r{\isacharprime}{\isacharprime}{\isacharbrackright}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}r{\isacharprime}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ steps\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ r{\isacharprime}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}redexes{\isacharprime}{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}c{\isachardot}\ r\ {\isasymin}\ redexes\ c\ {\isasymLongrightarrow}\ {\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymand}\ r{\isacharprime}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ tranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}consumes\ {\isadigit{1}}{\isacharcomma}\ case{\isacharunderscore}names\ Step\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Step\ r{\isacharprime}\ s{\isacharprime}\ c{\isacharprime}{\isacharparenright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}r\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact{\isacharplus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ r{\isacharunderscore}into{\isacharunderscore}trancl{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ r{\isacharprime}\ s{\isacharprime}\ r{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Trans\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}r{\isacharprime}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ steps\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ this\ r{\isacharprime}{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}r{\isacharprime}{\isacharprime}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ step\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ r{\isacharprime}{\isacharprime}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}redexes{\isacharunderscore}Seq{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}r{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ Seq{\isacharcolon}\ {\isachardoublequoteopen}Seq\ r\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymand}\ Seq\ r{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isachardot}Seq\ {\isacharbrackleft}OF\ step{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ r\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Seq\ r{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ this\ Seq{\isacharbrackright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}redexes{\isacharunderscore}Seq{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}c{\isachardot}\ Seq\ r\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c\ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymand}\ Seq\ r{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}case{\isacharunderscore}names\ Refl\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Refl\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto{\isacharparenright}\isanewline
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ r\ s\ r{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Seq\ r\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact{\isacharplus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes{\isacharunderscore}Seq\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Seq\ r{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ step\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Trans{\isachardot}hyps\ {\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ {\isacharbrackleft}OF\ r{\isacharprime}{\isacharprime}{\isacharbrackright}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Seq\ r{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ steps\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ r{\isacharprime}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}redexes{\isacharunderscore}Seq{\isacharprime}{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}c{\isachardot}\ Seq\ r\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ {\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymand}\ Seq\ r{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ tranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}consumes\ {\isadigit{1}}{\isacharcomma}\ case{\isacharunderscore}names\ Step\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Step\ r{\isacharprime}\ s{\isacharprime}\ c{\isacharprime}{\isacharparenright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Seq\ r\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact{\isacharplus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes{\isacharunderscore}Seq\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ r{\isacharunderscore}into{\isacharunderscore}trancl{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ r{\isacharprime}\ s{\isacharprime}\ r{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Trans\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Seq\ r{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ steps\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes{\isacharunderscore}Seq\ {\isacharbrackleft}OF\ this\ r{\isacharprime}{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Seq\ r{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ step\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ r{\isacharprime}{\isacharprime}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ step{\isacharunderscore}redexes{\isacharunderscore}Catch{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}r{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ Catch{\isacharcolon}\ {\isachardoublequoteopen}Catch\ r\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymand}\ Catch\ r{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isachardot}Catch\ {\isacharbrackleft}OF\ step{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ r\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Catch\ r{\isacharprime}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ this\ Catch{\isacharbrackright}\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}redexes{\isacharunderscore}Catch{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}c{\isachardot}\ Catch\ r\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c\ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymand}\ Catch\ r{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}case{\isacharunderscore}names\ Refl\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Refl\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto{\isacharparenright}\isanewline
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ r\ s\ r{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Catch\ r\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact{\isacharplus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes{\isacharunderscore}Catch\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Catch\ r{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ step\isanewline
\ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Trans{\isachardot}hyps\ {\isacharparenleft}{\isadigit{3}}{\isacharparenright}\ {\isacharbrackleft}OF\ r{\isacharprime}{\isacharprime}{\isacharbrackright}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Catch\ r{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ steps\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ r{\isacharprime}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ steps{\isacharunderscore}redexes{\isacharunderscore}Catch{\isacharprime}{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}c{\isachardot}\ Catch\ r\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ {\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}c{\isacharcomma}s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}s{\isacharprime}{\isacharparenright}\ {\isasymand}\ Catch\ r{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ steps\ \isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ tranclp{\isacharunderscore}induct{\isadigit{2}}\ {\isacharbrackleft}consumes\ {\isadigit{1}}{\isacharcomma}\ case{\isacharunderscore}names\ Step\ Trans{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Step\ r{\isacharprime}\ s{\isacharprime}\ c{\isacharprime}{\isacharparenright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Catch\ r\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact{\isacharplus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes{\isacharunderscore}Catch\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ r{\isacharunderscore}into{\isacharunderscore}trancl{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Trans\ r{\isacharprime}\ s{\isacharprime}\ r{\isacharprime}{\isacharprime}\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Trans\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Catch\ r{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ steps\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}r{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}r{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes{\isacharunderscore}Catch\ {\isacharbrackleft}OF\ this\ r{\isacharprime}{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ s{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Catch\ r{\isacharprime}{\isacharprime}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{note}\isamarkupfalse%
\ step\isanewline
\ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ r{\isacharprime}{\isacharprime}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ redexes{\isacharunderscore}subset{\isacharcolon}{\isachardoublequoteopen}{\isasymAnd}c{\isacharprime}{\isachardot}\ c{\isacharprime}\ {\isasymin}\ redexes\ c\ {\isasymLongrightarrow}\ redexes\ c{\isacharprime}\ {\isasymsubseteq}\ redexes\ c{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ redexes{\isacharunderscore}preserves{\isacharunderscore}termination{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ termi{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isasymdown}s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}c{\isacharprime}{\isachardot}\ c{\isacharprime}\ {\isasymin}\ redexes\ c\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}c{\isacharprime}{\isasymdown}s{\isachardoublequoteclose}\ \ \isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ termi\isanewline
\isacommand{by}\isamarkupfalse%
\ induct\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "root"
%%% End:
