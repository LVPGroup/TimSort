%
\begin{isabellebody}%
\setisabellecontext{HoareTotalProps}%
%
\isamarkupsection{Properties of Total Correctness Hoare Logic%
}
\isamarkuptrue%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ HoareTotalProps\ \isakeyword{imports}\ SmallStep\ HoareTotalDef\ HoarePartialProps\ \isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isamarkupsubsection{Soundness%
}
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ hoaret{\isacharunderscore}sound{\isacharcolon}\ \isanewline
\ \isakeyword{assumes}\ hoare{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ hoare\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Skip\ {\isasymTheta}\ F\ P\ A{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ Skip\ P{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Skip{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ P\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Skip\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Basic\ {\isasymTheta}\ F\ f\ P\ A{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ f\ s\ {\isasymin}\ P{\isacharbraceright}\ {\isacharparenleft}Basic\ f{\isacharparenright}\ P{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Basic\ f{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharbraceleft}s{\isachardot}\ f\ s\ {\isasymin}\ P{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ P\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Basic\ f\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Spec\ {\isasymTheta}\ F\ r\ Q\ A{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ {\isacharparenleft}{\isasymforall}t{\isachardot}\ {\isacharparenleft}s{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ r\ {\isasymlongrightarrow}\ t\ {\isasymin}\ Q{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymexists}t{\isachardot}\ {\isacharparenleft}s{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ r{\isacharparenright}{\isacharbraceright}\ Spec\ r\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Spec\ r\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharbraceleft}s{\isachardot}\ {\isacharparenleft}{\isasymforall}t{\isachardot}\ {\isacharparenleft}s{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ r\ {\isasymlongrightarrow}\ t\ {\isasymin}\ Q{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymexists}t{\isachardot}\ {\isacharparenleft}s{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ r{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Spec\ r\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ {\isasymTheta}\ F\ P\ c{\isadigit{1}}\ R\ A\ c{\isadigit{2}}\ Q{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c{\isadigit{1}}\ R{\isacharcomma}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ R\ c{\isadigit{2}}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ Seq\ c{\isadigit{1}}\ c{\isadigit{2}}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec\ P\ \isacommand{obtain}\isamarkupfalse%
\ r\ \isakeyword{where}\isanewline
\ \ \ \ \ \ exec{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ r{\isachardoublequoteclose}\ \isakeyword{and}\ exec{\isacharunderscore}c{\isadigit{2}}{\isacharcolon}\ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}r{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}r\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ Fault{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt\ exec{\isacharunderscore}c{\isadigit{1}}\ P\ this\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ r{\isacharcolon}\ {\isachardoublequoteopen}r\ {\isasymin}\ Normal\ {\isacharbackquote}\ R\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isasymin}Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ r{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Normal\ r{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isadigit{2}}\ r\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isasymin}Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{2}}\ ctxt\ {\isacharunderscore}\ {\isacharunderscore}\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Abrupt\ r{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}Abrupt\ r{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ exec{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ Abrupt\ r\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ Fault\ \isacommand{with}\isamarkupfalse%
\ r\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ Stuck\ \isacommand{with}\isamarkupfalse%
\ r\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s{\isasymin}P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt\ P\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isadigit{1}}{\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}termD{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ r\ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isadigit{2}}\ {\isasymdown}\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ r{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Normal\ r{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt\ exec{\isacharunderscore}c{\isadigit{1}}\ P{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ r{\isacharcolon}\ {\isachardoublequoteopen}r{\isasymin}Normal\ {\isacharbackquote}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{2}}\ ctxt{\isacharbrackright}\ exec{\isacharunderscore}c{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isadigit{2}}\ {\isasymdown}\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\ auto\ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Cond\ {\isasymTheta}\ F\ P\ b\ c{\isadigit{1}}\ Q\ A\ c{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}P\ {\isasyminter}\ b{\isacharparenright}\ c{\isadigit{1}}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}P\ {\isasyminter}\ {\isacharminus}\ b{\isacharparenright}\ c{\isadigit{2}}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}s{\isasymin}b{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ P\ True\ \isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharminus}\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt\ {\isacharunderscore}\ {\isacharunderscore}\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharbrackright}{\isacharcomma}auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec\ P\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ P\ False\ \isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharminus}\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{2}}\ ctxt\ {\isacharunderscore}\ {\isacharunderscore}\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharbrackright}{\isacharcomma}auto{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt{\isacharbrackright}\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{2}}\ ctxt{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}s\ {\isasymin}\ b{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}While\ r\ {\isasymTheta}\ F\ P\ b\ c\ A{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ wf{\isacharcolon}\ {\isachardoublequoteopen}wf\ r{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isasymsigma}{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isasyminter}\ P\ {\isasyminter}\ b{\isacharparenright}\ c\ {\isacharparenleft}{\isacharbraceleft}t{\isachardot}\ {\isacharparenleft}t{\isacharcomma}\ {\isasymsigma}{\isacharparenright}\ {\isasymin}\ r{\isacharbraceright}\ {\isasyminter}\ P{\isacharparenright}{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ While{\isachardot}hyps\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}While\ b\ c{\isacharparenright}\ {\isacharparenleft}P\ {\isasyminter}\ {\isacharminus}\ b{\isacharparenright}{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ wprems{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}t{\isachardot}\ {\isasymlbrakk}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isacharsemicolon}\ s\ {\isasymin}\ P{\isacharsemicolon}\ t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isasymrbrakk}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ t\ {\isasymin}\ Normal\ {\isacharbackquote}\ {\isacharparenleft}P\ {\isasyminter}\ {\isacharminus}\ b{\isacharparenright}\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ hyp{\isacharcolon}\ \isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}s{\isacharprime}\ t{\isachardot}\ {\isasymlbrakk}{\isacharparenleft}s{\isacharprime}{\isacharcomma}s{\isacharparenright}{\isasymin}r{\isacharsemicolon}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ s{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ t{\isacharsemicolon}\ s{\isacharprime}\ {\isasymin}\ P{\isacharsemicolon}\ t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isasymrbrakk}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ t\ {\isasymin}\ Normal\ {\isacharbackquote}\ {\isacharparenleft}P\ {\isasyminter}\ {\isacharminus}\ b{\isacharparenright}\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ {\isacharparenleft}P\ {\isasyminter}\ {\isacharminus}\ b{\isacharparenright}\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s{\isacharprime}\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ b{\isacharcolon}\ {\isachardoublequoteopen}s{\isasymin}b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ s{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}w{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}s{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}w\ t{\isacharunderscore}notin{\isacharunderscore}F\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isacharprime}\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ Fault{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}c\ P\ b\ valid{\isacharunderscore}c\ ctxt\ this\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ s{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}s{\isacharprime}\ {\isasymin}\ Normal\ {\isacharbackquote}\ {\isacharparenleft}{\isacharbraceleft}s{\isacharprime}{\isachardot}\ {\isacharparenleft}s{\isacharprime}{\isacharcomma}\ s{\isacharparenright}\ {\isasymin}\ r{\isacharbraceright}\ {\isasyminter}\ P{\isacharparenright}\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def\ validt{\isacharunderscore}def\ valid{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ Normal\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}w\ s{\isacharprime}\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharminus}\ {\isacharparenleft}rule\ hyp{\isacharcomma}auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ Abrupt\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}w\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ Abrupt{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ Abrupt\ s{\isacharprime}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ Fault\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}w\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ Fault{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ Fault\ s{\isacharprime}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ Stuck\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}w\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharequal}s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ dest{\isacharcolon}\ Stuck{\isacharunderscore}end{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ Stuck\ s{\isacharprime}\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}s{\isasymnotin}b{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isacharequal}Normal\ s{\isachardoublequoteclose}\ \isacommand{with}\isamarkupfalse%
\ P\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ wprems\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ {\isacharparenleft}P\ {\isasyminter}\ {\isacharminus}\ b{\isacharparenright}\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ wf\ \isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}While\ b\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}s{\isacharprime}{\isachardot}\ {\isasymlbrakk}{\isacharparenleft}s{\isacharprime}{\isacharcomma}s{\isacharparenright}{\isasymin}r{\isacharsemicolon}\ s{\isacharprime}\ {\isasymin}\ P{\isasymrbrakk}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymturnstile}While\ b\ c\ {\isasymdown}\ Normal\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}While\ b\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}s\ {\isasymin}\ b{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\ \isacommand{with}\isamarkupfalse%
\ P\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ valid{\isacharunderscore}c\ P\ ctxt\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s{\isacharprime}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}While\ b\ c\ {\isasymdown}\ s{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ s{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Normal\ s{\isacharprime}{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}c\ P\ True\ valid{\isacharunderscore}c\ ctxt\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ s{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}s{\isacharprime}\ {\isasymin}\ Normal\ {\isacharbackquote}\ {\isacharparenleft}{\isacharbraceleft}s{\isacharprime}{\isachardot}\ {\isacharparenleft}s{\isacharprime}{\isacharcomma}\ s{\isacharparenright}\ {\isasymin}\ r{\isacharbraceright}\ {\isasyminter}\ P{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def\ validt{\isacharunderscore}def\ valid{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ hyp{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Guard\ {\isasymTheta}\ F\ g\ P\ c\ Q\ A\ \ f{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}g\ {\isasyminter}\ P{\isacharparenright}\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}g\ {\isasyminter}\ P{\isacharparenright}\ Guard\ f\ g\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}{\isachardoublequoteopen}s\ {\isasymin}\ {\isacharparenleft}g\ {\isasyminter}\ P{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec\ P\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}c\ ctxt\ this\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}{\isachardoublequoteopen}s\ {\isasymin}\ {\isacharparenleft}g\ {\isasyminter}\ P{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Guard\ f\ g\ c\ \ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c\ ctxt{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Guarantee\ f\ F\ {\isasymTheta}\ g\ P\ c\ Q\ A{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}g\ {\isasyminter}\ P{\isacharparenright}\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ f{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isasymin}\ F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ Guard\ f\ g\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}{\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec\ f{\isacharunderscore}F\ t{\isacharunderscore}notin{\isacharunderscore}F\ \isacommand{have}\isamarkupfalse%
\ g{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ P\ \isacommand{have}\isamarkupfalse%
\ P{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ g\ {\isasyminter}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec\ g\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}c\ ctxt\ this\ P{\isacharprime}\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}{\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Guard\ f\ g\ c\ \ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isachardot}intros\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c\ ctxt{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}CallRec\ P\ p\ Q\ A\ Specs\ r\ Specs{\isacharunderscore}wf\ {\isasymTheta}\ \ F{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ p{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}P{\isacharcomma}p{\isacharcomma}Q{\isacharcomma}A{\isacharparenright}\ {\isasymin}\ Specs{\isachardoublequoteclose}\ \ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharcolon}\ {\isachardoublequoteopen}wf\ r{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ Specs{\isacharunderscore}wf{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}Specs{\isacharunderscore}wf\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}p\ {\isasymtau}{\isachardot}\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}P{\isacharcomma}q{\isacharcomma}Q{\isacharcomma}A{\isacharparenright}{\isachardot}\ {\isacharparenleft}P\ {\isasyminter}\ {\isacharbraceleft}s{\isachardot}\ {\isacharparenleft}{\isacharparenleft}s{\isacharcomma}\ q{\isacharparenright}{\isacharcomma}{\isasymtau}{\isacharcomma}p{\isacharparenright}\ {\isasymin}\ r{\isacharbraceright}{\isacharcomma}q{\isacharcomma}Q{\isacharcomma}A{\isacharparenright}{\isacharparenright}\ {\isacharbackquote}\ Specs{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ CallRec{\isachardot}hyps\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}body{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}Specs{\isachardot}\ p\ {\isasymin}\ dom\ {\isasymGamma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}{\isasymtau}{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymunion}\ Specs{\isacharunderscore}wf\ p\ {\isasymtau}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharbraceleft}{\isasymtau}{\isacharbraceright}\ {\isasyminter}\ P{\isacharparenright}\ the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}\ Q{\isacharcomma}A{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymtau}p\ \isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ wf\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}{\isasymtau}\ p\ P\ Q\ A{\isachardot}\ \ {\isasymlbrakk}{\isasymtau}p\ {\isacharequal}\ {\isacharparenleft}{\isasymtau}{\isacharcomma}p{\isacharparenright}{\isacharsemicolon}\ {\isacharparenleft}P{\isacharcomma}p{\isacharcomma}Q{\isacharcomma}A{\isacharparenright}\ {\isasymin}\ Specs{\isasymrbrakk}\ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharbraceleft}{\isasymtau}{\isacharbraceright}\ {\isasyminter}\ P{\isacharparenright}\ {\isacharparenleft}the\ {\isacharparenleft}{\isasymGamma}\ {\isacharparenleft}p{\isacharparenright}{\isacharparenright}{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ {\isasymtau}p\ rule{\isacharcolon}\ wf{\isacharunderscore}induct\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ consumes\ {\isadigit{1}}{\isacharcomma}\ case{\isacharunderscore}names\ WF{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}WF\ {\isasymtau}p\ {\isasymtau}\ p\ P\ Q\ A{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isasymtau}p{\isacharcolon}\ {\isachardoublequoteopen}{\isasymtau}p\ {\isacharequal}\ {\isacharparenleft}{\isasymtau}{\isacharcomma}\ p{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ p{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}\ {\isasymin}\ Specs{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ q\ P{\isacharprime}\ Q{\isacharprime}\ A{\isacharprime}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ q{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}P{\isacharprime}{\isacharcomma}q{\isacharcomma}Q{\isacharprime}{\isacharcomma}A{\isacharprime}{\isacharparenright}\ {\isasymin}\ Specs{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}P{\isacharprime}\ {\isasyminter}\ {\isacharbraceleft}s{\isachardot}\ {\isacharparenleft}{\isacharparenleft}s{\isacharcomma}q{\isacharparenright}{\isacharcomma}\ {\isasymtau}{\isacharcomma}p{\isacharparenright}\ {\isasymin}\ r{\isacharbraceright}{\isacharparenright}\ {\isacharparenleft}Call\ q{\isacharparenright}\ Q{\isacharprime}{\isacharcomma}A{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ validtI{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}q{\isacharcolon}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ Pre{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isacharprime}\ {\isasyminter}\ {\isacharbraceleft}s{\isachardot}\ {\isacharparenleft}{\isacharparenleft}s{\isacharcomma}q{\isacharparenright}{\isacharcomma}\ {\isasymtau}{\isacharcomma}p{\isacharparenright}\ {\isasymin}\ r{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Pre\ q\ {\isasymtau}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}bdy{\isacharcolon}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharbraceleft}s{\isacharbraceright}\ {\isasyminter}\ P{\isacharprime}{\isacharparenright}\ the\ {\isacharparenleft}{\isasymGamma}\ q{\isacharparenright}\ Q{\isacharprime}{\isacharcomma}A{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharminus}\ {\isacharparenleft}rule\ WF{\isachardot}hyps{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Pre\ q\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ Pre{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharbraceleft}s{\isacharbraceright}\ {\isasyminter}\ P{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}q\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q{\isacharprime}\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ q\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}bdy\ {\isacharbrackleft}simplified\ bdy\ option{\isachardot}sel{\isacharbrackright}\ \ t{\isacharunderscore}notin{\isacharunderscore}F\ exec{\isacharunderscore}bdy\ Pre{\isacharprime}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q{\isacharprime}\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def\ valid{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ Pre\ q\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}\ q\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ q\ valid{\isacharunderscore}body\ \isacommand{have}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ Pre{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isacharprime}\ {\isasyminter}\ {\isacharbraceleft}s{\isachardot}\ {\isacharparenleft}{\isacharparenleft}s{\isacharcomma}q{\isacharparenright}{\isacharcomma}\ {\isasymtau}{\isacharcomma}p{\isacharparenright}\ {\isasymin}\ r{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Pre\ q\ {\isasymtau}p\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}bdy{\isacharcolon}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharbraceleft}s{\isacharbraceright}\ {\isasyminter}\ P{\isacharprime}{\isacharparenright}\ {\isacharparenleft}the\ {\isacharparenleft}{\isasymGamma}\ q{\isacharparenright}{\isacharparenright}\ Q{\isacharprime}{\isacharcomma}A{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharminus}\ {\isacharparenleft}rule\ WF{\isachardot}hyps{\isacharcomma}\ auto{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Pre\ q\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ Pre{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharbraceleft}s{\isacharbraceright}\ {\isasyminter}\ P{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}bdy\ ctxt\ Pre{\isacharprime}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}the\ {\isacharparenleft}{\isasymGamma}\ q{\isacharparenright}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ valid{\isacharunderscore}body\ q\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Call\ q{\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}Call{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}Specs{\isacharunderscore}wf\ p\ {\isasymtau}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ Call\ p\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def\ Specs{\isacharunderscore}wf{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ ctxt\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}\ {\isasymunion}\ Specs{\isacharunderscore}wf\ p\ {\isasymtau}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ Call\ p\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ p\ valid{\isacharunderscore}body\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharbraceleft}{\isasymtau}{\isacharbraceright}\ {\isasyminter}\ P{\isacharparenright}\ {\isacharparenleft}the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def{\isacharparenright}\ blast\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ lem\ {\isacharequal}\ this\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}body{\isacharprime}{\isacharcolon}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymAnd}{\isasymtau}{\isachardot}\ {\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A\ {\isasymLongrightarrow}\ \isanewline
\ \ \ \ \ \ {\isasymforall}{\isacharparenleft}P{\isacharcomma}p{\isacharcomma}Q{\isacharcomma}A{\isacharparenright}{\isasymin}Specs{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharbraceleft}{\isasymtau}{\isacharbraceright}\ {\isasyminter}\ P{\isacharparenright}\ {\isacharparenleft}the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ lem{\isacharparenright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}call{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}call\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}body{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}body\ bdy\ p\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\ \isanewline
\ \ \ \ \ \ \ \ \ \ valid{\isacharunderscore}body{\isacharprime}\ {\isacharbrackleft}of\ {\isachardoublequoteopen}s{\isachardoublequoteclose}{\isacharcomma}\ OF\ ctxt{\isacharbrackright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ ctxt\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ cvalidt{\isacharunderscore}def\ validt{\isacharunderscore}def\ valid{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}drule\ {\isacharparenleft}{\isadigit{1}}{\isacharparenright}\ bspec{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ p\ P\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ None{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ p\ valid{\isacharunderscore}body\ \isacommand{have}\isamarkupfalse%
\ False\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ ctxt\ P\ p\ valid{\isacharunderscore}body{\isacharprime}\ {\isacharbrackleft}of\ {\isachardoublequoteopen}s{\isachardoublequoteclose}{\isacharcomma}OF\ ctxt{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}{\isacharparenright}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ valid{\isacharunderscore}body\ p\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}Call{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}DynCom\ P\ {\isasymTheta}\ F\ c\ Q\ A{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}s{\isasymin}P{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}c\ s{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ DynCom\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}DynCom\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ s{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ OF\ P{\isacharbrackright}\ ctxt\ this\ P\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}DynCom\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ OF\ P{\isacharbrackright}\ ctxt\ P{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ s\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Throw\ {\isasymTheta}\ F\ A\ Q{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ A\ Throw\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Throw{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}s\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Throw\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ {\isasymTheta}\ F\ P\ c\isactrlsub {\isadigit{1}}\ Q\ R\ c\isactrlsub {\isadigit{2}}\ A{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\isactrlsub {\isadigit{1}}\ Q{\isacharcomma}R{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ R\ c\isactrlsub {\isadigit{2}}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fact\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ s{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isacharprime}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt\ exec{\isacharunderscore}c{\isadigit{1}}\ P{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Abrupt\ s{\isacharprime}\ {\isasymin}\ Abrupt\ {\isacharbackquote}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{2}}\ ctxt{\isacharbrackright}\ exec{\isacharunderscore}c{\isadigit{2}}\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ notAbr{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ isAbr\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt\ exec{\isacharunderscore}c{\isadigit{1}}\ P{\isacharbrackright}\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ R{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ notAbr\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt\ P\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{1}}{\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}termD{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ r\ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt\ exec{\isacharunderscore}c{\isadigit{1}}\ P{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ r{\isacharcolon}\ {\isachardoublequoteopen}Abrupt\ r{\isasymin}Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ R{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}Abrupt\ r{\isasymin}Abrupt\ {\isacharbackquote}\ R{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{2}}\ ctxt{\isacharbrackright}\ exec{\isacharunderscore}c{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ Normal\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Conseq\ P\ {\isasymTheta}\ F\ c\ Q\ A{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ adapt{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}s\ {\isasymin}\ P{\isachardot}\ {\isacharparenleft}{\isasymexists}P{\isacharprime}\ Q{\isacharprime}\ A{\isacharprime}{\isachardot}\ {\isacharparenleft}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P{\isacharprime}\ c\ Q{\isacharprime}{\isacharcomma}A{\isacharprime}{\isacharparenright}\ {\isasymand}\ s\ {\isasymin}\ P{\isacharprime}{\isasymand}\ Q{\isacharprime}\ {\isasymsubseteq}\ Q\ {\isasymand}\ A{\isacharprime}\ {\isasymsubseteq}\ A{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ adapt\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ OF\ P{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ P{\isacharprime}\ \isakeyword{and}\ Q{\isacharprime}\ \isakeyword{and}\ A{\isacharprime}\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ \ \ valid{\isacharunderscore}P{\isacharprime}{\isacharunderscore}Q{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P{\isacharprime}\ c\ Q{\isacharprime}{\isacharcomma}A{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{and}\ weaken{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isacharprime}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Q{\isacharprime}\ {\isasymsubseteq}\ \ Q{\isachardoublequoteclose}\ {\isachardoublequoteopen}A{\isacharprime}{\isasymsubseteq}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec\ valid{\isacharunderscore}P{\isacharprime}{\isacharunderscore}Q{\isacharprime}\ ctxt\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ P{\isacharprime}{\isacharunderscore}Q{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Normal\ s\ {\isasymin}\ Normal\ {\isacharbackquote}\ P{\isacharprime}\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q{\isacharprime}\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold\ cvalidt{\isacharunderscore}def\ validt{\isacharunderscore}def\ valid{\isacharunderscore}def{\isacharparenright}\ blast\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isacharprime}\ {\isasymlongrightarrow}\ t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q{\isacharprime}\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ weaken\ \isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ P\ adapt\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ P{\isacharprime}\ \isakeyword{and}\ Q{\isacharprime}\ \isakeyword{and}\ \ A{\isacharprime}\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P{\isacharprime}\ c\ Q{\isacharprime}{\isacharcomma}A{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ ctxt\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Asm\ P\ p\ Q\ A\ {\isasymTheta}\ F{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}\ {\isasymin}\ {\isasymTheta}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def\ {\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ ExFalso\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}case\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ hoaret{\isacharunderscore}sound{\isacharprime}{\isacharcolon}\isanewline
{\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isacharbraceleft}{\isacharbraceright}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A\ {\isasymLongrightarrow}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}drule\ hoaret{\isacharunderscore}sound{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ total{\isacharunderscore}to{\isacharunderscore}partial{\isacharcolon}\ \isanewline
\ \isakeyword{assumes}\ total{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isacharbraceleft}{\isacharbraceright}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isacharbraceleft}{\isacharbraceright}{\isasymturnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ total\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isacharbraceleft}{\isacharbraceright}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}sound{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def\ validt{\isacharunderscore}def\ cvalid{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoare{\isacharunderscore}complete{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsection{Completeness%
}
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ MGT{\isacharunderscore}valid{\isacharcolon}\isanewline
{\isachardoublequoteopen}{\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\ \isactrlesub {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}c{\isasymdown}Normal\ s{\isacharbraceright}\ c\ \isanewline
\ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ validtI{\isacharparenright}\ \isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}c{\isasymdown}Normal\ s{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}\ {\isasymunion}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Abrupt\ {\isacharbackquote}\ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}cases\ t{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}c{\isasymdown}Normal\ s{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isasymdown}Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The consequence rule where the existential \isa{Z} is instantiated
to \isa{s}. Usefull in proof of \isa{MGT{\isacharunderscore}lemma}.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ ConseqMGT{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ modif{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}Z{\isacharcolon}{\isacharcolon}{\isacharprime}a{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}P{\isacharprime}\ Z{\isacharcolon}{\isacharcolon}{\isacharprime}a\ assn{\isacharparenright}\ c\ {\isacharparenleft}Q{\isacharprime}\ Z{\isacharparenright}{\isacharcomma}{\isacharparenleft}A{\isacharprime}\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ impl{\isacharcolon}\ {\isachardoublequoteopen}{\isasymAnd}s{\isachardot}\ s\ {\isasymin}\ P\ {\isasymLongrightarrow}\ s\ {\isasymin}\ P{\isacharprime}\ s\ {\isasymand}\ {\isacharparenleft}{\isasymforall}t{\isachardot}\ t\ {\isasymin}\ Q{\isacharprime}\ s\ {\isasymlongrightarrow}\ t\ {\isasymin}\ Q{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}t{\isachardot}\ t\ {\isasymin}\ A{\isacharprime}\ s\ {\isasymlongrightarrow}\ t\ {\isasymin}\ A{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ impl\ \isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharminus}\ {\isacharparenleft}rule\ conseq\ {\isacharbrackleft}OF\ modif{\isacharbrackright}{\isacharcomma}blast{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MGT{\isacharunderscore}implies{\isacharunderscore}complete{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ MGT{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isacharbraceleft}{\isacharbraceright}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c{\isasymdown}Normal\ s{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isacharbraceleft}{\isacharbraceright}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ MGT\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT{\isacharparenright}\ \isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}insert\ valid{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def\ valid{\isacharunderscore}def\ intro{\isacharbang}{\isacharcolon}\ final{\isacharunderscore}notinI{\isacharparenright}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ conseq{\isacharunderscore}extract{\isacharunderscore}state{\isacharunderscore}indep{\isacharunderscore}prop{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ state{\isacharunderscore}indep{\isacharunderscore}prop{\isacharcolon}{\isachardoublequoteopen}{\isasymforall}s\ {\isasymin}\ P{\isachardot}\ R{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ to{\isacharunderscore}show{\isacharcolon}\ {\isachardoublequoteopen}R\ {\isasymLongrightarrow}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ Conseq{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}clarify{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}P{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}Q{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}{\isachardoublequoteopen}A{\isachardoublequoteclose}\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ state{\isacharunderscore}indep{\isacharunderscore}prop\ to{\isacharunderscore}show\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MGT{\isacharunderscore}lemma{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ MGT{\isacharunderscore}Calls{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}p\ {\isasymin}\ dom\ {\isasymGamma}{\isachardot}\ {\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ \isanewline
\ \ \ \ \ \ \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharparenright}{\isasymdown}Normal\ s{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Call\ p{\isacharparenright}\isanewline
\ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c{\isasymdown}Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}{\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Skip\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Skip{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Skip\ {\isasymdown}\ Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Skip\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Skip{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}{\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Skip{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}Skip\ {\isacharbrackleft}THEN\ conseqPre{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}auto\ elim{\isacharcolon}\ exec{\isacharunderscore}elim{\isacharunderscore}cases\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ intro{\isacharcolon}\ exec{\isachardot}intros\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Basic\ f{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\ \isactrlesub {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Basic\ f{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Basic\ f\ {\isasymdown}\ Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Basic\ f\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Basic\ f{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Basic\ f{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}Basic\ {\isacharbrackleft}THEN\ conseqPre{\isacharbrackright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ {\isacharparenleft}auto\ elim{\isacharcolon}\ exec{\isacharunderscore}elim{\isacharunderscore}cases\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ intro{\isacharcolon}\ exec{\isachardot}intros\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Spec\ r{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Spec\ r{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Spec\ r\ {\isasymdown}\ Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Spec\ r\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Spec\ r{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Spec\ r{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}Spec\ {\isacharbrackleft}THEN\ conseqPre{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}clarsimp\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}{\isasymexists}t{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}t{\isacharparenright}\ {\isasymin}\ r{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ exec{\isacharunderscore}elim{\isacharunderscore}cases\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharparenright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c{\isadigit{1}}{\isasymdown}Normal\ s{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c{\isadigit{1}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Seq{\isachardot}hyps\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}\ Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c{\isadigit{2}}{\isasymdown}Normal\ s{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c{\isadigit{2}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Seq{\isachardot}hyps\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isadigit{1}}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isasymdown}Normal\ s{\isacharbraceright}\ c{\isadigit{1}}\ \isanewline
\ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ t{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c{\isadigit{2}}{\isasymdown}Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT{\isacharparenright}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}auto\ dest{\isacharcolon}\ Seq{\isacharunderscore}NoFaultStuckD{\isadigit{1}}\ {\isacharbrackleft}simplified{\isacharbrackright}\ Seq{\isacharunderscore}NoFaultStuckD{\isadigit{2}}\ {\isacharbrackleft}simplified{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isasymdown}Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Seq\ c{\isadigit{1}}\ c{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}Seq\ {\isacharparenright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ t{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}c{\isadigit{2}}\ {\isasymdown}\ Normal\ t{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c{\isadigit{2}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT\ {\isacharbrackleft}OF\ hyp{\isacharunderscore}c{\isadigit{2}}{\isacharbrackright}{\isacharcomma}safe{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ r\ t\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ r{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ r{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ r\ t\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ r{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ r{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharparenright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c{\isadigit{1}}{\isasymdown}Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c{\isadigit{1}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cond{\isachardot}hyps\ \isacommand{by}\isamarkupfalse%
\ iprover\ \ \isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharparenright}{\isasymdown}Normal\ s{\isacharbraceright}{\isasyminter}b{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c{\isadigit{1}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT{\isacharparenright}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}fastforce\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}CondTrue\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c{\isadigit{2}}{\isasymdown}Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c{\isadigit{2}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cond{\isachardot}hyps\ \isacommand{by}\isamarkupfalse%
\ iprover\ \ \isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharparenright}{\isasymdown}Normal\ s{\isacharbraceright}{\isasyminter}{\isacharminus}b{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c{\isadigit{2}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT{\isacharparenright}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}fastforce\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}CondFalse\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharparenright}{\isasymdown}Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}Cond{\isacharparenright}\ \ \ \ \ \ \ \isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}While\ b\ c{\isacharparenright}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}unroll\ {\isacharequal}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharbraceleft}{\isacharparenleft}s{\isacharcomma}t{\isacharparenright}{\isachardot}\ s{\isasymin}b\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharparenright}\isactrlsup {\isacharasterisk}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}P{\isacharprime}\ {\isacharequal}\ {\isachardoublequoteopen}{\isasymlambda}Z{\isachardot}\ {\isacharbraceleft}t{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}t{\isacharparenright}{\isasymin}{\isacharquery}unroll\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}e{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}e{\isacharparenright}{\isasymin}{\isacharquery}unroll\ {\isasymlongrightarrow}\ e{\isasymin}b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharparenright}{\isasymdown}Normal\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}A\ {\isacharequal}\ {\isachardoublequoteopen}{\isasymlambda}Z{\isachardot}\ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}r\ {\isacharequal}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}t{\isacharcomma}s{\isacharparenright}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharparenright}{\isasymdown}Normal\ s\ {\isasymand}\ s{\isasymin}b\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharparenright}{\isasymdown}Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}While\ b\ c{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT\ {\isacharbrackleft}\isakeyword{where}\ {\isacharquery}P{\isacharprime}{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}\ Z{\isachardot}\ {\isacharquery}P{\isacharprime}\ Z{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ {\isacharquery}Q{\isacharprime}{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}\ Z{\isachardot}\ {\isacharquery}P{\isacharprime}\ Z\ {\isasyminter}\ {\isacharminus}\ b{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}r{\isacharcolon}\ {\isachardoublequoteopen}wf\ {\isacharquery}r{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ wf{\isacharunderscore}terminates{\isacharunderscore}while{\isacharparenright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharquery}P{\isacharprime}\ Z{\isacharparenright}\ {\isacharparenleft}While\ b\ c{\isacharparenright}\ {\isacharparenleft}{\isacharquery}P{\isacharprime}\ Z\ {\isasyminter}\ {\isacharminus}\ b{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isacharquery}A\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ allI{\isacharcomma}\ rule\ hoaret{\isachardot}While\ {\isacharbrackleft}OF\ wf{\isacharunderscore}r{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ Z\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ While\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c{\isasymdown}Normal\ s{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}{\isasymsigma}{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isasyminter}\ {\isacharquery}P{\isacharprime}\ Z\ \ {\isasyminter}\ b{\isacharparenright}\ c\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharbraceleft}t{\isachardot}\ {\isacharparenleft}t{\isacharcomma}\ {\isasymsigma}{\isacharparenright}\ {\isasymin}\ {\isacharquery}r{\isacharbraceright}\ {\isasyminter}\ {\isacharquery}P{\isacharprime}\ Z{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isacharquery}A\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ allI{\isacharcomma}\ rule\ ConseqMGT\ {\isacharbrackleft}OF\ hyp{\isacharunderscore}c{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymsigma}\ s\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ \ {\isachardoublequoteopen}s{\isasymin}\ {\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isasyminter}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}e{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}e{\isacharparenright}{\isasymin}{\isacharquery}unroll\ {\isasymlongrightarrow}\ e{\isasymin}b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharparenright}{\isasymdown}Normal\ t{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasyminter}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \ \ s{\isacharunderscore}eq{\isacharunderscore}{\isasymsigma}{\isacharcolon}\ {\isachardoublequoteopen}s{\isacharequal}{\isasymsigma}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ Z{\isacharunderscore}s{\isacharunderscore}unroll{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}Z{\isacharcomma}s{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ noabort{\isacharcolon}{\isachardoublequoteopen}{\isasymforall}e{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}e{\isacharparenright}{\isasymin}{\isacharquery}unroll\ {\isasymlongrightarrow}\ e{\isasymin}b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ while{\isacharunderscore}term{\isacharcolon}\ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharparenright}{\isasymdown}Normal\ s{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ s{\isacharunderscore}in{\isacharunderscore}b{\isacharcolon}\ {\isachardoublequoteopen}s{\isasymin}b{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharbraceleft}t{\isachardot}\ t\ {\isacharequal}\ s\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ t{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c{\isasymdown}Normal\ t{\isacharbraceright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}t{\isachardot}\ t\ {\isasymin}\ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ t\ {\isasymin}\ {\isacharbraceleft}t{\isachardot}\ {\isacharparenleft}t{\isacharcomma}{\isasymsigma}{\isacharparenright}\ {\isasymin}\ {\isacharquery}r{\isacharbraceright}\ {\isasyminter}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}e{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}e{\isacharparenright}{\isasymin}{\isacharquery}unroll\ {\isasymlongrightarrow}\ \ e{\isasymin}b\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharparenright}{\isasymdown}Normal\ t{\isacharbraceright}{\isacharparenright}\ \ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}t{\isachardot}\ t\ {\isasymin}\ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ t\ {\isasymin}\ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}C{\isadigit{1}}\ {\isasymand}\ {\isacharquery}C{\isadigit{2}}\ {\isasymand}\ {\isacharquery}C{\isadigit{3}}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}intro\ conjI{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Z{\isacharunderscore}s{\isacharunderscore}unroll\ noabort\ s{\isacharunderscore}in{\isacharunderscore}b\ while{\isacharunderscore}term\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}C{\isadigit{1}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ s{\isacharunderscore}t{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ s{\isacharunderscore}eq{\isacharunderscore}{\isasymsigma}\ while{\isacharunderscore}term\ s{\isacharunderscore}in{\isacharunderscore}b\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}t{\isacharcomma}{\isasymsigma}{\isacharparenright}\ {\isasymin}\ {\isacharquery}r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Z{\isacharunderscore}s{\isacharunderscore}unroll\ s{\isacharunderscore}t\ s{\isacharunderscore}in{\isacharunderscore}b\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}Z{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ rtrancl{\isacharunderscore}into{\isacharunderscore}rtrancl{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ while{\isacharunderscore}term\ s{\isacharunderscore}t\ s{\isacharunderscore}in{\isacharunderscore}b\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharparenright}{\isasymdown}Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ noabort\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}t{\isacharcomma}{\isasymsigma}{\isacharparenright}\ {\isasymin}\ {\isacharquery}r\ {\isasymand}\ {\isacharparenleft}Z{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}e{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}e{\isacharparenright}{\isasymin}{\isacharquery}unroll\ {\isasymlongrightarrow}\ e{\isasymin}b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharparenright}{\isasymdown}Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}C{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ s{\isacharunderscore}t{\isacharcolon}\ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Z{\isacharunderscore}s{\isacharunderscore}unroll\ noabort\ s{\isacharunderscore}t\ s{\isacharunderscore}in{\isacharunderscore}b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}C{\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}While\ b\ c\ {\isasymdown}\ Normal\ s{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ WhileNoFault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharquery}P{\isacharprime}\ s\ {\isasymand}\ \isanewline
\ \ \ \ \ {\isacharparenleft}{\isasymforall}t{\isachardot}\ t{\isasymin}{\isacharparenleft}{\isacharquery}P{\isacharprime}\ s\ {\isasyminter}\ {\isacharminus}\ b{\isacharparenright}{\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ t{\isasymin}{\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharparenright}{\isasymand}\isanewline
\ \ \ \ \ {\isacharparenleft}{\isasymforall}t{\isachardot}\ t{\isasymin}{\isacharquery}A\ s\ {\isasymlongrightarrow}\ t{\isasymin}{\isacharquery}A\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}intro\ conjI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ e\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}Z{\isacharcomma}e{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll{\isachardoublequoteclose}\ {\isachardoublequoteopen}e\ {\isasymin}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ WhileNoFault\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isacharparenright}{\isachardoublequoteclose}\ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}Prop\ Z\ e{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtrancl{\isacharunderscore}induct\ {\isacharbrackleft}consumes\ {\isadigit{1}}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ e{\isacharunderscore}in{\isacharunderscore}b{\isacharcolon}\ {\isachardoublequoteopen}e\ {\isasymin}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ WhileNoFault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ e{\isacharunderscore}in{\isacharunderscore}b\ WhileNoFault\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ cNoFault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ u\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ e{\isacharunderscore}in{\isacharunderscore}b\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}Prop\ e\ e{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ Z\ r\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ e{\isacharunderscore}in{\isacharunderscore}b{\isacharcolon}\ {\isachardoublequoteopen}e{\isasymin}b{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ WhileNoFault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymlbrakk}e{\isasymin}b{\isacharsemicolon}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ r{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isasymrbrakk}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ {\isacharquery}Prop\ r\ e{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ Z{\isacharunderscore}r{\isacharcolon}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}Z{\isacharcomma}\ r{\isacharparenright}\ {\isasymin}\ {\isacharbraceleft}{\isacharparenleft}Z{\isacharcomma}\ r{\isacharparenright}{\isachardot}\ Z\ {\isasymin}\ b\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ r{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ WhileNoFault\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ r{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}OF\ e{\isacharunderscore}in{\isacharunderscore}b\ this{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ cNoFault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Abrupt{\isacharunderscore}r{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ r{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ u\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ Abrupt{\isacharunderscore}r\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ r{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ \ Z{\isacharunderscore}r\ \isacommand{obtain}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Z\ {\isasymin}\ b{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ cNoFault\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}Prop\ Z\ e{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ P\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharquery}P{\isacharprime}\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}termination{\isachardoublequoteclose}{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}Z{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtrancl{\isacharunderscore}induct\ {\isacharbrackleft}consumes\ {\isadigit{1}}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isachardoublequoteopen}termination{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ t{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}WhileFalse{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ Z\ r\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ first{\isacharunderscore}body{\isacharcolon}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}Z{\isacharcomma}\ r{\isacharparenright}\ {\isasymin}\ {\isacharbraceleft}{\isacharparenleft}s{\isacharcomma}\ t{\isacharparenright}{\isachardot}\ s\ {\isasymin}\ b\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}r{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ rest{\isacharunderscore}loop{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}\ Normal\ r{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ first{\isacharunderscore}body\ \isacommand{obtain}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Z\ {\isasymin}\ b{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ rest{\isacharunderscore}loop\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ r{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isachardot}WhileTrue{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ P\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymforall}t{\isachardot}\ t{\isasymin}{\isacharparenleft}{\isacharquery}P{\isacharprime}\ s\ {\isasyminter}\ {\isacharminus}\ b{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}t{\isasymin}{\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ P\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}t{\isachardot}\ t{\isasymin}{\isacharquery}A\ s\ {\isasymlongrightarrow}\ t{\isasymin}{\isacharquery}A\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Call\ p{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ noStuck{\isacharunderscore}Call\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}s\ {\isasymin}\ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}\ Normal\ s{\isacharbraceright}{\isachardot}\isanewline
\ \ \ \ \ \ \ \ \ \ p\ {\isasymin}\ dom\ {\isasymGamma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ conseq{\isacharunderscore}extract{\isacharunderscore}state{\isacharunderscore}indep{\isacharunderscore}prop{\isacharparenright}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ p{\isacharunderscore}defined{\isacharcolon}\ {\isachardoublequoteopen}p\ {\isasymin}\ dom\ {\isasymGamma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ MGT{\isacharunderscore}Calls\ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\ \isactrlesub {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ \ p{\isasymdown}Normal\ s{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Call\ p{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}DynCom\ c{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}s{\isacharprime}{\isachardot}\ {\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ s{\isacharprime}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c\ s{\isacharprime}{\isasymdown}Normal\ s{\isacharbraceright}\ c\ s{\isacharprime}\isanewline
\ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ s{\isacharprime}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}{\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ s{\isacharprime}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ DynCom\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharprime}{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\ \isactrlesub {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}DynCom\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}DynCom\ c{\isasymdown}Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}c\ Z{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}DynCom\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}{\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}DynCom\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT\ {\isacharbrackleft}OF\ hyp{\isacharbrackright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ {\isacharparenleft}fastforce\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros\ \isanewline
\ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\ \isactrlesub {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}DynCom\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}DynCom\ c{\isasymdown}Normal\ s{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ DynCom\ c\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}DynCom\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}DynCom\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}DynCom{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}clarsimp{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hyp{\isacharprime}\ {\isacharbrackleft}simplified{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Guard\ f\ g\ c{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c{\isasymdown}Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Guard\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Guard\ f\ g\ c{\isasymdown}\ Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Guard\ f\ g\ c\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}f\ {\isasymin}\ F{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp{\isacharunderscore}c\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\ \isactrlesub {\isacharparenleft}g\ {\isasyminter}\ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}{\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Guard\ f\ g\ c{\isasymdown}\ Normal\ s{\isacharbraceright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}insert\ True{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ \ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ True\ this\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ conseqPre\ {\isacharbrackleft}OF\ Guarantee{\isacharbrackright}{\isacharparenright}\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp{\isacharunderscore}c\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\ \isactrlesub {\isacharparenleft}g\ {\isasyminter}\ {\isacharbraceleft}s{\isachardot}\ s\ {\isasymin}\ g\ {\isasymand}\ s{\isacharequal}Z\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}{\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Guard\ f\ g\ c{\isasymdown}\ Normal\ s{\isacharbraceright}\ {\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}frule\ Guard{\isacharunderscore}noFaultStuckD\ {\isacharbrackleft}OF\ {\isacharunderscore}\ False{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ \ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ conseqPre\ {\isacharbrackleft}OF\ hoaret{\isachardot}Guard{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}frule\ Guard{\isacharunderscore}noFaultStuckD\ {\isacharbrackleft}OF\ {\isacharunderscore}\ False{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Throw\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Throw{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Throw\ {\isasymdown}\ Normal\ s{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ Throw\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Throw{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Throw{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ conseqPre\ {\isacharbrackleft}OF\ hoaret{\isachardot}Throw{\isacharbrackright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}intros\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{1}}\ {\isasymdown}\ Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\isactrlsub {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Catch{\isachardot}hyps\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\isactrlsub {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ Normal\ t\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ t{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT{\isacharparenright}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ terminates{\isachardot}intros\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ elim{\isacharcolon}\ terminates{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharunderscore}cases\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ Normal\ s{\isacharbraceright}\ c\isactrlsub {\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Catch{\isachardot}hyps\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}Abrupt\ s\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ Normal\ s\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\isactrlsub {\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros\ terminates{\isachardot}intros\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ simp\ add{\isacharcolon}\ noFault{\isacharunderscore}def{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\ {\isasymdown}\ Normal\ s{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}Catch\ {\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Call{\isacharunderscore}lemma{\isacharprime}{\isacharcolon}\isanewline
\ \isakeyword{assumes}\ Call{\isacharunderscore}hyp{\isacharcolon}\ \isanewline
\ {\isachardoublequoteopen}{\isasymforall}q{\isasymin}dom\ {\isasymGamma}{\isachardot}\ {\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ q{\isasymdown}Normal\ s\ {\isasymand}\ {\isacharparenleft}{\isacharparenleft}s{\isacharcomma}q{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isasymsigma}{\isacharcomma}p{\isacharparenright}{\isacharparenright}\ {\isasymin}\ termi{\isacharunderscore}call{\isacharunderscore}steps\ {\isasymGamma}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Call\ q{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ \ \isanewline
\ \ \ \ \ \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ c\ \isanewline
\ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ c{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Skip\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Skip{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ Skip\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Skip\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Skip{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Skip{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}Skip\ {\isacharbrackleft}THEN\ conseqPre{\isacharbrackright}{\isacharparenright}\ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}Skip{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Basic\ f{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Basic\ f{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Basic\ f\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Basic\ f\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Basic\ f{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Basic\ f{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}Basic\ {\isacharbrackleft}THEN\ conseqPre{\isacharbrackright}{\isacharparenright}\ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}Basic{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Spec\ r{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Spec\ r{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Spec\ r\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Spec\ r\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Spec\ r{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Spec\ r{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}Spec\ {\isacharbrackleft}THEN\ conseqPre{\isacharbrackright}{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}clarsimp{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}case{\isacharunderscore}tac\ {\isachardoublequoteopen}{\isasymexists}t{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}t{\isacharparenright}\ {\isasymin}\ r{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}auto\ elim{\isacharcolon}\ exec{\isacharunderscore}elim{\isacharunderscore}cases\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ c{\isadigit{1}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c{\isadigit{1}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Seq{\isachardot}hyps\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isadigit{2}}{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c{\isadigit{2}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Seq{\isachardot}hyps\ {\isacharparenleft}{\isadigit{2}}{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Seq\ c{\isadigit{1}}\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ t{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ t{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT\ {\isacharbrackleft}OF\ hyp{\isacharunderscore}c{\isadigit{1}}{\isacharbrackright}{\isacharcomma}clarify{\isacharcomma}safe{\isacharparenright}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ dest{\isacharcolon}\ Seq{\isacharunderscore}NoFaultStuckD{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c{\isacharprime}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ steps{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ red{\isacharcolon}\ {\isachardoublequoteopen}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ redexes{\isacharunderscore}subset\ {\isacharbrackleft}OF\ red{\isacharbrackright}\ steps{\isacharunderscore}c{\isacharprime}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymand}\ c{\isadigit{1}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ iff{\isacharcolon}\ root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ t{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ dest{\isacharcolon}\ Seq{\isacharunderscore}NoFaultStuckD{\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c{\isacharprime}\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ steps{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ red{\isacharcolon}\ {\isachardoublequoteopen}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ t{\isacharparenright}\ {\isasymand}\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ steps{\isacharunderscore}c{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps{\isacharunderscore}Normal\ {\isacharbrackleft}OF\ exec{\isacharunderscore}c{\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isadigit{1}}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Normal\ t{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ steps{\isacharunderscore}redexes{\isacharunderscore}Seq\ {\isacharbrackleft}OF\ this\ red{\isacharbrackright}\ \isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ steps{\isacharunderscore}c{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ t{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ Skip{\isacharcolon}\ {\isachardoublequoteopen}Seq\ Skip\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ steps{\isacharunderscore}c{\isacharprime}{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ step{\isacharunderscore}Skip{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ Skip\ c{\isadigit{2}}{\isacharcomma}Normal\ t{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isadigit{2}}{\isacharcomma}Normal\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}SeqSkip{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ step{\isacharunderscore}Skip\ Skip{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ step{\isacharunderscore}c{\isacharprime}{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ t{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ t{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ c{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ step{\isacharunderscore}c{\isacharprime}{\isacharprime}{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ Seq\ c{\isadigit{1}}\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ Seq\ c{\isadigit{1}}\ c{\isadigit{2}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Seq\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}Seq\ {\isacharbrackleft}OF\ c{\isadigit{1}}\ ConseqMGT\ {\isacharbrackleft}OF\ hyp{\isacharunderscore}c{\isadigit{2}}{\isacharbrackright}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharparenright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\isanewline
\ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ c{\isadigit{1}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c{\isadigit{1}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cond{\isachardot}hyps\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isasyminter}\ b{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ c{\isadigit{1}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT\ {\isacharbrackleft}OF\ hyp{\isacharunderscore}c{\isadigit{1}}{\isacharbrackright}{\isacharcomma}safe{\isacharparenright}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isasymin}\ b{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}CondTrue{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c{\isacharprime}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ b{\isacharcolon}\ {\isachardoublequoteopen}Z\ {\isasymin}\ b{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ steps{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ redex{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymand}\ c{\isadigit{1}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ steps{\isacharunderscore}c{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ b\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isadigit{1}}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}CondTrue{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ this\ redex{\isacharunderscore}c{\isacharprime}{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ step{\isacharunderscore}c{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ \isanewline
\ \ \ \ \ \ \ \ c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}c{\isadigit{1}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ step{\isacharunderscore}c{\isacharprime}{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isasymin}\ b{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}CondTrue{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isasymin}\ b{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}CondTrue{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isadigit{2}}{\isacharcolon}\isanewline
\ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c{\isadigit{2}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Cond{\isachardot}hyps\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isasyminter}\ {\isacharminus}b{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ c{\isadigit{2}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT\ {\isacharbrackleft}OF\ hyp{\isacharunderscore}c{\isadigit{2}}{\isacharbrackright}{\isacharcomma}safe{\isacharparenright}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isasymnotin}\ b{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}CondFalse{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c{\isacharprime}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ b{\isacharcolon}\ {\isachardoublequoteopen}Z\ {\isasymnotin}\ b{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ steps{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ redex{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymand}\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ steps{\isacharunderscore}c{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ b\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isadigit{2}}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}CondFalse{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ this\ redex{\isacharunderscore}c{\isacharprime}{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ step{\isacharunderscore}c{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ \isanewline
\ \ \ \ \ \ \ \ c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ step{\isacharunderscore}c{\isacharprime}{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isasymnotin}\ b{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}CondFalse{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isasymnotin}\ b{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}CondFalse{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ \isanewline
\ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Cond\ b\ c{\isadigit{1}}\ c{\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}Cond{\isacharparenright}\ \ \ \ \ \ \ \isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}While\ b\ c{\isacharparenright}\ \isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}unroll\ {\isacharequal}\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharbraceleft}{\isacharparenleft}s{\isacharcomma}t{\isacharparenright}{\isachardot}\ s{\isasymin}b\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharparenright}\isactrlsup {\isacharasterisk}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}P{\isacharprime}\ {\isacharequal}\ {\isachardoublequoteopen}{\isasymlambda}Z{\isachardot}\ {\isacharbraceleft}t{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}t{\isacharparenright}{\isasymin}{\isacharquery}unroll\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}e{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}e{\isacharparenright}{\isasymin}{\isacharquery}unroll\ {\isasymlongrightarrow}\ e{\isasymin}b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ t{\isacharparenright}\ {\isasymand}\ While\ b\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}A\ {\isacharequal}\ {\isachardoublequoteopen}{\isasymlambda}Z{\isachardot}\ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}r\ {\isacharequal}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isacharparenleft}t{\isacharcomma}s{\isacharparenright}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharparenright}{\isasymdown}Normal\ s\ {\isasymand}\ s{\isasymin}b\ {\isasymand}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ \isanewline
\ \ \ \ \ \ \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}{\isasymrightarrow}\isactrlsup {\isacharplus}{\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ While\ b\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}While\ b\ c{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT\ {\isacharbrackleft}\isakeyword{where}\ {\isacharquery}P{\isacharprime}{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}\ Z{\isachardot}\ {\isacharquery}P{\isacharprime}\ Z{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isakeyword{and}\ {\isacharquery}Q{\isacharprime}{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}\ Z{\isachardot}\ {\isacharquery}P{\isacharprime}\ Z\ {\isasyminter}\ {\isacharminus}\ b{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ wf{\isacharunderscore}r{\isacharcolon}\ {\isachardoublequoteopen}wf\ {\isacharquery}r{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ wf{\isacharunderscore}terminates{\isacharunderscore}while{\isacharparenright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharquery}P{\isacharprime}\ Z{\isacharparenright}\ {\isacharparenleft}While\ b\ c{\isacharparenright}\ {\isacharparenleft}{\isacharquery}P{\isacharprime}\ Z\ {\isasyminter}\ {\isacharminus}\ b{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isacharquery}A\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ allI{\isacharcomma}\ rule\ hoaret{\isachardot}While\ {\isacharbrackleft}OF\ wf{\isacharunderscore}r{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ Z\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ While\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ c\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}{\isasymsigma}{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}{\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isasyminter}\ {\isacharquery}P{\isacharprime}\ Z\ \ {\isasyminter}\ b{\isacharparenright}\ c\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharbraceleft}t{\isachardot}\ {\isacharparenleft}t{\isacharcomma}\ {\isasymsigma}{\isacharparenright}\ {\isasymin}\ {\isacharquery}r{\isacharbraceright}\ {\isasyminter}\ {\isacharquery}P{\isacharprime}\ Z{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isacharquery}A\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ allI{\isacharcomma}\ rule\ ConseqMGT\ {\isacharbrackleft}OF\ hyp{\isacharunderscore}c{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymtau}\ s\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ \ asm{\isacharcolon}\ {\isachardoublequoteopen}s{\isasymin}\ {\isacharbraceleft}{\isasymtau}{\isacharbraceright}\ {\isasyminter}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}e{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}e{\isacharparenright}{\isasymin}{\isacharquery}unroll\ {\isasymlongrightarrow}\ e{\isasymin}b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}\ Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ t{\isacharparenright}\ {\isasymand}\ While\ b\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasyminter}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}\ \isakeyword{where}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ s{\isacharunderscore}eq{\isacharunderscore}{\isasymtau}{\isacharcolon}\ {\isachardoublequoteopen}s{\isacharequal}{\isasymtau}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ Z{\isacharunderscore}s{\isacharunderscore}unroll{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}Z{\isacharcomma}s{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ noabort{\isacharcolon}{\isachardoublequoteopen}{\isasymforall}e{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}e{\isacharparenright}{\isasymin}{\isacharquery}unroll\ {\isasymlongrightarrow}\ e{\isasymin}b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ termi{\isacharcolon}\ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ {\isasymsigma}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ reach{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ red{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}While\ b\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ s{\isacharunderscore}in{\isacharunderscore}b{\isacharcolon}\ {\isachardoublequoteopen}s{\isasymin}b{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ \ \ reach{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ reach\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ s{\isacharunderscore}in{\isacharunderscore}b\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}WhileTrue{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ this\ red{\isacharunderscore}c{\isacharprime}{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ s{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ red{\isacharunderscore}c{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ step\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ red{\isacharunderscore}c{\isacharprime}{\isacharprime}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ that{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ reach\ termi\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isacharprime}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ steps{\isacharunderscore}preserves{\isacharunderscore}termination{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ redexes{\isacharunderscore}preserves{\isacharunderscore}termination\ {\isacharbrackleft}OF\ this\ red{\isacharunderscore}c{\isacharprime}{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ termi{\isacharunderscore}while{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}While\ b\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharbraceleft}t{\isachardot}\ t\ {\isacharequal}\ s\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ t{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ t{\isacharparenright}\ {\isasymand}\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}t{\isachardot}\ t\ {\isasymin}\ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ t\ {\isasymin}\ {\isacharbraceleft}t{\isachardot}\ {\isacharparenleft}t{\isacharcomma}{\isasymtau}{\isacharparenright}\ {\isasymin}\ {\isacharquery}r{\isacharbraceright}\ {\isasyminter}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}e{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}e{\isacharparenright}{\isasymin}{\isacharquery}unroll\ {\isasymlongrightarrow}\ \ e{\isasymin}b\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ t{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ While\ b\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}t{\isachardot}\ t\ {\isasymin}\ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}\ {\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ t\ {\isasymin}\ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}C{\isadigit{1}}\ {\isasymand}\ {\isacharquery}C{\isadigit{2}}\ {\isasymand}\ {\isacharquery}C{\isadigit{3}}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}intro\ conjI{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Z{\isacharunderscore}s{\isacharunderscore}unroll\ noabort\ s{\isacharunderscore}in{\isacharunderscore}b\ termi\ reach{\isacharunderscore}c\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}C{\isadigit{1}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarsimp\ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}drule\ redexes{\isacharunderscore}subset{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ s{\isacharunderscore}t{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ s{\isacharunderscore}eq{\isacharunderscore}{\isasymtau}\ termi{\isacharunderscore}while\ s{\isacharunderscore}in{\isacharunderscore}b\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}t{\isacharcomma}{\isasymtau}{\isacharparenright}\ {\isasymin}\ {\isacharquery}r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Z{\isacharunderscore}s{\isacharunderscore}unroll\ s{\isacharunderscore}t\ s{\isacharunderscore}in{\isacharunderscore}b\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}Z{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ rtrancl{\isacharunderscore}into{\isacharunderscore}rtrancl{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ reach{\isacharunderscore}c{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}Normal\ t{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}While\ b\ c{\isacharparenright}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ reach{\isacharunderscore}c\ {\isacharparenleft}{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ s{\isacharunderscore}in{\isacharunderscore}b\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}While\ b\ c{\isacharcomma}Normal\ s{\isacharparenright}{\isasymrightarrow}\ {\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}Normal\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}WhileTrue{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}While\ b\ c{\isacharcomma}\ Normal\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps{\isacharunderscore}Normal\ {\isacharbrackleft}OF\ s{\isacharunderscore}t{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Skip{\isacharcomma}\ Normal\ t{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Seq\ c\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Seq\ Skip\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ Normal\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ SeqSteps{\isacharparenright}\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Seq\ Skip\ {\isacharparenleft}While\ b\ c{\isacharparenright}{\isacharcomma}\ Normal\ t{\isacharparenright}{\isasymrightarrow}{\isacharparenleft}While\ b\ c{\isacharcomma}\ Normal\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}SeqSkip{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ rtranclp{\isacharunderscore}into{\isacharunderscore}tranclp{\isadigit{1}}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ steps{\isacharunderscore}redexes{\isacharprime}\ {\isacharbrackleft}OF\ this\ reach{\isacharunderscore}c\ {\isacharparenleft}{\isadigit{2}}{\isacharparenright}{\isacharbrackright}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ s{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ t{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ red{\isacharunderscore}c{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}While\ b\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ step\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ red{\isacharunderscore}c{\isacharprime}{\isacharprime}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ that{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ noabort\ termi\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}t{\isacharcomma}{\isasymtau}{\isacharparenright}\ {\isasymin}\ {\isacharquery}r\ {\isasymand}\ {\isacharparenleft}Z{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}e{\isachardot}\ {\isacharparenleft}Z{\isacharcomma}e{\isacharparenright}{\isasymin}{\isacharquery}unroll\ {\isasymlongrightarrow}\ e{\isasymin}b\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ t{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ While\ b\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}C{\isadigit{2}}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ s{\isacharunderscore}t{\isacharcolon}\ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ Z{\isacharunderscore}s{\isacharunderscore}unroll\ noabort\ s{\isacharunderscore}t\ s{\isacharunderscore}in{\isacharunderscore}b\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}C{\isadigit{3}}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ While\ b\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ WhileNoFault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharquery}P{\isacharprime}\ s\ {\isasymand}\ \isanewline
\ \ \ \ \ {\isacharparenleft}{\isasymforall}t{\isachardot}\ t{\isasymin}{\isacharparenleft}{\isacharquery}P{\isacharprime}\ s\ {\isasyminter}\ {\isacharminus}\ b{\isacharparenright}{\isasymlongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ t{\isasymin}{\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharparenright}{\isasymand}\isanewline
\ \ \ \ \ {\isacharparenleft}{\isasymforall}t{\isachardot}\ t{\isasymin}{\isacharquery}A\ s\ {\isasymlongrightarrow}\ t{\isasymin}{\isacharquery}A\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}intro\ conjI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ e\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}Z{\isacharcomma}e{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll{\isachardoublequoteclose}\ {\isachardoublequoteopen}e\ {\isasymin}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ WhileNoFault\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isacharparenright}{\isachardoublequoteclose}\ {\isacharparenleft}\isakeyword{is}\ {\isachardoublequoteopen}{\isacharquery}Prop\ Z\ e{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtrancl{\isacharunderscore}induct\ {\isacharbrackleft}consumes\ {\isadigit{1}}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ e{\isacharunderscore}in{\isacharunderscore}b{\isacharcolon}\ {\isachardoublequoteopen}e\ {\isasymin}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ WhileNoFault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ e{\isacharunderscore}in{\isacharunderscore}b\ WhileNoFault\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ cNoFault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ u\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ e{\isacharunderscore}in{\isacharunderscore}b\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}Prop\ e\ e{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ Z\ r\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ e{\isacharunderscore}in{\isacharunderscore}b{\isacharcolon}\ {\isachardoublequoteopen}e{\isasymin}b{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ WhileNoFault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ hyp{\isacharcolon}\ {\isachardoublequoteopen}{\isasymlbrakk}e{\isasymin}b{\isacharsemicolon}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ r{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isasymrbrakk}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymLongrightarrow}\ {\isacharquery}Prop\ r\ e{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ Z{\isacharunderscore}r{\isacharcolon}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}Z{\isacharcomma}\ r{\isacharparenright}\ {\isasymin}\ {\isacharbraceleft}{\isacharparenleft}Z{\isacharcomma}\ r{\isacharparenright}{\isachardot}\ Z\ {\isasymin}\ b\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ r{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ WhileNoFault\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ r{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ hyp\ {\isacharbrackleft}OF\ e{\isacharunderscore}in{\isacharunderscore}b\ this{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ cNoFault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Abrupt{\isacharunderscore}r{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}u{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ r{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ u\ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ e{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ Abrupt{\isacharunderscore}r\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ r{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ \ Z{\isacharunderscore}r\ \isacommand{obtain}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Z\ {\isasymin}\ b{\isachardoublequoteclose}\ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ u{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ cNoFault\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}Prop\ Z\ e{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ P\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}s\ {\isasymin}\ {\isacharquery}P{\isacharprime}\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}termination{\isachardoublequoteclose}{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}Z{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}induct\ rule{\isacharcolon}\ converse{\isacharunderscore}rtrancl{\isacharunderscore}induct\ {\isacharbrackleft}consumes\ {\isadigit{1}}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ {\isachardoublequoteopen}termination{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ t{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}WhileFalse{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ Z\ r\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ first{\isacharunderscore}body{\isacharcolon}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}Z{\isacharcomma}\ r{\isacharparenright}\ {\isasymin}\ {\isacharbraceleft}{\isacharparenleft}s{\isacharcomma}\ t{\isacharparenright}{\isachardot}\ s\ {\isasymin}\ b\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}r{\isacharcomma}\ t{\isacharparenright}\ {\isasymin}\ {\isacharquery}unroll{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ rest{\isacharunderscore}loop{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}\ Normal\ r{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ first{\isacharunderscore}body\ \isacommand{obtain}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Z\ {\isasymin}\ b{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ r{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ rest{\isacharunderscore}loop\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ r{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fast\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isachardot}WhileTrue{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ P\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}t{\isachardot}\ t{\isasymin}{\isacharparenleft}{\isacharquery}P{\isacharprime}\ s\ {\isasyminter}\ {\isacharminus}\ b{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}t{\isasymin}{\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}While\ b\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ P\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}t{\isachardot}\ t{\isasymin}{\isacharquery}A\ s\ {\isasymlongrightarrow}\ t{\isasymin}{\isacharquery}A\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Call\ q{\isacharparenright}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}P\ {\isacharequal}\ {\isachardoublequoteopen}{\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ Call\ q\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ noStuck{\isacharunderscore}Call\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}s\ {\isasymin}\ {\isacharquery}P{\isachardot}\ q\ {\isasymin}\ dom\ {\isasymGamma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ conseq{\isacharunderscore}extract{\isacharunderscore}state{\isacharunderscore}indep{\isacharunderscore}prop{\isacharparenright}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ q{\isacharunderscore}defined{\isacharcolon}\ {\isachardoublequoteopen}q\ {\isasymin}\ dom\ {\isasymGamma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Call{\isacharunderscore}hyp\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymforall}q{\isasymin}dom\ {\isasymGamma}{\isachardot}\ {\isasymforall}Z{\isachardot}\ \isanewline
\ \ \ \ \ \ \ \ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ q{\isasymdown}Normal\ s\ {\isasymand}\ {\isacharparenleft}{\isacharparenleft}s{\isacharcomma}q{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isasymsigma}{\isacharcomma}p{\isacharparenright}{\isacharparenright}\ {\isasymin}\ termi{\isacharunderscore}call{\isacharunderscore}steps\ {\isasymGamma}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Call\ q{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ exec{\isacharunderscore}Call{\isacharunderscore}body{\isacharprime}\ noFaultStuck{\isacharunderscore}Call{\isacharunderscore}body{\isacharprime}\ {\isacharbrackleft}simplified{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \ terminates{\isacharunderscore}Normal{\isacharunderscore}Call{\isacharunderscore}body{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ Call{\isacharunderscore}hyp\ q{\isacharunderscore}defined\ \isacommand{have}\isamarkupfalse%
\ Call{\isacharunderscore}hyp{\isacharprime}{\isacharcolon}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ q{\isasymdown}Normal\ s\ {\isasymand}\ {\isacharparenleft}{\isacharparenleft}s{\isacharcomma}q{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isasymsigma}{\isacharcomma}p{\isacharparenright}{\isacharparenright}\ {\isasymin}\ termi{\isacharunderscore}call{\isacharunderscore}steps\ {\isasymGamma}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Call\ q{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharquery}P\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Call\ q{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT\ {\isacharbrackleft}OF\ Call{\isacharunderscore}hyp{\isacharprime}{\isacharbrackright}{\isacharcomma}safe{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ termi{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ steps{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ red{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Call\ q\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Call\ q\ {\isasymdown}\ Normal\ Z{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ steps{\isacharunderscore}preserves{\isacharunderscore}termination{\isacharprime}\ {\isacharbrackleft}OF\ steps{\isacharunderscore}c{\isacharprime}\ termi{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isacharprime}\ {\isasymdown}\ Normal\ Z{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ redexes{\isacharunderscore}preserves{\isacharunderscore}termination\ {\isacharbrackleft}OF\ this\ red{\isacharunderscore}c{\isacharprime}{\isacharbrackright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ termi{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ steps{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ red{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Call\ q\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ redex{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}redex\ c{\isacharprime}\ {\isacharequal}\ Call\ q{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ termi\ steps{\isacharunderscore}c{\isacharprime}\ \isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\isacharparenleft}Z{\isacharcomma}\ q{\isacharparenright}{\isacharcomma}\ {\isasymsigma}{\isacharcomma}\ p{\isacharparenright}\ {\isasymin}\ termi{\isacharunderscore}call{\isacharunderscore}steps\ {\isasymGamma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ termi{\isacharunderscore}call{\isacharunderscore}steps{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}DynCom\ c{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymAnd}s{\isacharprime}{\isachardot}\ {\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \isanewline
\ \ \ \ \ \ {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ s{\isacharprime}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ c\ s{\isacharprime}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}c\ s{\isacharprime}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ s{\isacharprime}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}{\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ s{\isacharprime}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ DynCom\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharprime}{\isacharcolon}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}DynCom\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ DynCom\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ {\isacharparenleft}c\ Z{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}DynCom\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}{\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}DynCom\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT\ {\isacharbrackleft}OF\ hyp{\isacharbrackright}{\isacharcomma}safe{\isacharparenright}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}DynCom\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ Z{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c{\isacharprime}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}DynCom\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}DynCom\ c{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\ Z{\isacharcomma}Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}DynCom{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ this\ c{\isacharprime}{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\ \ \isakeyword{and}\ c{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}c\ Z\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{note}\isamarkupfalse%
\ steps\ \isacommand{also}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ step\ \isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymand}\ c\ Z\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ Z{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}DynCom\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ Z{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}DynCom\ c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}DynCom{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ safe\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hyp{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Guard\ f\ g\ c{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ \isanewline
\ \ \ \ \ \ \ \ \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ c\ \isanewline
\ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Guard{\isachardot}hyps\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ Guard\ f\ g\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ Guard\ f\ g\ c\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}f\ {\isasymin}\ F{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}g\ {\isasyminter}\ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Guard\ f\ g\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ c\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT\ {\isacharbrackleft}OF\ hyp{\isacharunderscore}c{\isacharbrackright}{\isacharcomma}\ safe{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ {\isachardoublequoteopen}Z{\isasymin}g{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Guard\ f\ g\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isasymin}\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Guard\ f\ g\ c{\isacharcomma}Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharcomma}Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}Guard{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ this\ c{\isacharprime}{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\ \ \isakeyword{and}\ c{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ steps\ \isacommand{also}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ step\ \isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymand}\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}Z\ {\isasymin}\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros\ {\isacharparenright}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\ {\isachardoublequoteopen}Z\ {\isasymin}\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros\ {\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ True\ this\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ conseqPre\ {\isacharbrackleft}OF\ Guarantee{\isacharbrackright}{\isacharparenright}\ auto\ \isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharparenleft}g\ {\isasyminter}\ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Guard\ f\ g\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ c\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT\ {\isacharbrackleft}OF\ hyp{\isacharunderscore}c{\isacharbrackright}{\isacharcomma}\ safe{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}Z{\isasymin}\ g{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Guard\ f\ g\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}Z\ {\isasymin}\ g{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isacharparenleft}Guard\ f\ g\ c{\isacharcomma}Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharcomma}Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}Guard{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ this\ c{\isacharprime}{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ step{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\ \ \isakeyword{and}\ c{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}c\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ steps\ \isacommand{also}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ step\ \isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymand}\ c\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}Z{\isasymin}\ g{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros\ {\isacharparenright}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Guard\ f\ g\ c\ {\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}Z{\isasymin}\ g{\isachardoublequoteclose}{\isacharparenright}\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros\ {\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ conseqPre\ {\isacharbrackleft}OF\ hoaret{\isachardot}Guard{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}frule\ Guard{\isacharunderscore}noFaultStuckD\ {\isacharbrackleft}OF\ {\isacharunderscore}\ False{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ Throw\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Throw{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ Throw\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ Throw\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Throw{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Throw{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ conseqPre\ {\isacharbrackleft}OF\ hoaret{\isachardot}Throw{\isacharbrackright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ {\isacharparenleft}blast\ intro{\isacharcolon}\ exec{\isachardot}intros\ terminates{\isachardot}intros{\isacharparenright}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\isanewline
\ \ \ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\isactrlsub {\isadigit{1}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\isactrlsub {\isadigit{1}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}{\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Catch{\isachardot}hyps\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ hyp{\isacharunderscore}c{\isadigit{2}}{\isacharcolon}\isanewline
\ \ \ {\isachardoublequoteopen}{\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}\ Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\isactrlsub {\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}{\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Catch{\isachardot}hyps\ \isacommand{by}\isamarkupfalse%
\ iprover\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}\ Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}{\isasymrightarrow}\isactrlsup {\isacharplus}{\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ s{\isacharparenright}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ c\isactrlsub {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ t{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault{\isacharbackquote}{\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ t{\isacharparenright}\ {\isasymand}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT\ {\isacharbrackleft}OF\ hyp{\isacharunderscore}c{\isadigit{1}}{\isacharbrackright}{\isacharcomma}clarify{\isacharcomma}safe{\isacharparenright}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c{\isacharprime}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ steps{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ steps\ redexes{\isacharunderscore}subset\ {\isacharbrackleft}OF\ this{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymand}\ c\isactrlsub {\isadigit{1}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ iff{\isacharcolon}\ \ root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ t{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ c{\isacharprime}\ t\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ steps{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ red{\isacharcolon}\ {\isachardoublequoteopen}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Call\ p{\isacharcomma}\ Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ t{\isacharparenright}\ {\isasymand}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ steps{\isacharunderscore}c{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}impl{\isacharunderscore}steps{\isacharunderscore}Normal{\isacharunderscore}Abrupt\ {\isacharbrackleft}OF\ exec{\isacharunderscore}c\isactrlsub {\isadigit{1}}{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c\isactrlsub {\isadigit{1}}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}Throw{\isacharcomma}\ Normal\ t{\isacharparenright}{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ steps{\isacharunderscore}redexes{\isacharunderscore}Catch\ {\isacharbrackleft}OF\ this\ red{\isacharbrackright}\ \isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ steps{\isacharunderscore}c{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}\ Normal\ Z{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharasterisk}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ t{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ Catch{\isacharcolon}\ {\isachardoublequoteopen}Catch\ Throw\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ steps{\isacharunderscore}c{\isacharprime}{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ step{\isacharunderscore}Catch{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}Catch\ Throw\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ t{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ step{\isachardot}CatchThrow{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ step{\isacharunderscore}redexes\ {\isacharbrackleft}OF\ step{\isacharunderscore}Catch\ Catch{\isacharbrackright}\isanewline
\ \ \ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ c{\isacharprime}{\isacharprime}{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ \ \ \ \ step{\isacharunderscore}c{\isacharprime}{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ t{\isacharparenright}\ {\isasymrightarrow}\ {\isacharparenleft}c{\isacharprime}{\isacharprime}{\isacharprime}{\isacharcomma}\ Normal\ t{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ c{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{note}\isamarkupfalse%
\ step{\isacharunderscore}c{\isacharprime}{\isacharprime}{\isacharprime}\isanewline
\ \ \ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ c{\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ t{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p\ {\isasymdown}\ Normal\ {\isasymsigma}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymexists}c{\isacharprime}{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharcomma}Normal\ {\isasymsigma}{\isacharparenright}\ {\isasymrightarrow}\isactrlsup {\isacharplus}\ {\isacharparenleft}c{\isacharprime}{\isacharcomma}Normal\ t{\isacharparenright}\ {\isasymand}\ c\isactrlsub {\isadigit{2}}\ {\isasymin}\ redexes\ c{\isacharprime}{\isacharparenright}{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ c\isactrlsub {\isadigit{2}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Catch\ c\isactrlsub {\isadigit{1}}\ c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ ConseqMGT\ {\isacharbrackleft}OF\ hyp{\isacharunderscore}c{\isadigit{2}}{\isacharbrackright}{\isacharparenright}\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}case\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}Catch{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
To prove a procedure implementation correct it suffices to assume
       only the procedure specifications of procedures that actually
       occur during evaluation of the body.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ Call{\isacharunderscore}lemma{\isacharcolon}\isanewline
\ \isakeyword{assumes}\ A{\isacharcolon}\ \isanewline
\ {\isachardoublequoteopen}{\isasymforall}q\ {\isasymin}\ dom\ {\isasymGamma}{\isachardot}\ {\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ q{\isasymdown}Normal\ s\ {\isasymand}\ {\isacharparenleft}{\isacharparenleft}s{\isacharcomma}q{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isasymsigma}{\isacharcomma}p{\isacharparenright}{\isacharparenright}\ {\isasymin}\ termi{\isacharunderscore}call{\isacharunderscore}steps\ {\isasymGamma}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Call\ q{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \isakeyword{assumes}\ pdef{\isacharcolon}\ {\isachardoublequoteopen}p\ {\isasymin}\ dom\ {\isasymGamma}{\isachardoublequoteclose}\isanewline
\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isasyminter}\ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}{\isasymGamma}{\isasymturnstile}{\isasymlangle}the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}{\isasymdown}Normal\ s{\isacharbraceright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ conseqPre{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ Call{\isacharunderscore}lemma{\isacharprime}\ {\isacharbrackleft}OF\ A{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{using}\isamarkupfalse%
\ pdef\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ tranclp{\isachardot}r{\isacharunderscore}into{\isacharunderscore}trancl\ {\isacharbrackleft}of\ {\isachardoublequoteopen}{\isacharparenleft}step\ {\isasymGamma}{\isacharparenright}{\isachardoublequoteclose}{\isacharcomma}\ OF\ step{\isachardot}Call{\isacharbrackright}\ root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Call{\isacharunderscore}lemma{\isacharunderscore}switch{\isacharunderscore}Call{\isacharunderscore}body{\isacharcolon}\isanewline
\ \isakeyword{assumes}\ \isanewline
\ call{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}q\ {\isasymin}\ dom\ {\isasymGamma}{\isachardot}\ {\isasymforall}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ q{\isasymdown}Normal\ s\ {\isasymand}\ {\isacharparenleft}{\isacharparenleft}s{\isacharcomma}q{\isacharparenright}{\isacharcomma}{\isacharparenleft}{\isasymsigma}{\isacharcomma}p{\isacharparenright}{\isacharparenright}\ {\isasymin}\ termi{\isacharunderscore}call{\isacharunderscore}steps\ {\isasymGamma}{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Call\ q{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ q{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \isakeyword{assumes}\ p{\isacharunderscore}defined{\isacharcolon}\ {\isachardoublequoteopen}p\ {\isasymin}\ dom\ {\isasymGamma}{\isachardoublequoteclose}\isanewline
\ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}Z{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isasyminter}\ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ s{\isacharbraceright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ exec{\isacharunderscore}Call{\isacharunderscore}body{\isacharprime}\ {\isacharbrackleft}OF\ p{\isacharunderscore}defined{\isacharbrackright}\ noFaultStuck{\isacharunderscore}Call{\isacharunderscore}body{\isacharprime}\ {\isacharbrackleft}OF\ p{\isacharunderscore}defined{\isacharbrackright}\ terminates{\isacharunderscore}Normal{\isacharunderscore}Call{\isacharunderscore}body\ {\isacharbrackleft}OF\ p{\isacharunderscore}defined{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ conseqPre{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ Call{\isacharunderscore}lemma{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ call{\isacharparenright}\isanewline
\isacommand{using}\isamarkupfalse%
\ p{\isacharunderscore}defined\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ intro{\isacharcolon}\ terminates{\isachardot}intros\ tranclp{\isachardot}r{\isacharunderscore}into{\isacharunderscore}trancl\ {\isacharbrackleft}of\ {\isachardoublequoteopen}{\isacharparenleft}step\ {\isasymGamma}{\isacharparenright}{\isachardoublequoteclose}{\isacharcomma}\ OF\ step{\isachardot}Call{\isacharbrackright}\ \isanewline
root{\isacharunderscore}in{\isacharunderscore}redexes{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MGT{\isacharunderscore}Call{\isacharcolon}\isanewline
{\isachardoublequoteopen}{\isasymforall}p\ {\isasymin}\ dom\ {\isasymGamma}{\isachardot}\ {\isasymforall}Z{\isachardot}\ \isanewline
\ \ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharparenright}{\isasymdown}Normal\ s{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Call\ p{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ ballI\ allI{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ CallRec{\isacharprime}\ {\isacharbrackleft}\isakeyword{where}\ Procs{\isacharequal}{\isachardoublequoteopen}dom\ {\isasymGamma}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ P{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}p\ Z{\isachardot}\ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ s{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ Q{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}p\ Z{\isachardot}\ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ A{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}p\ Z{\isachardot}\ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ r{\isacharequal}{\isachardoublequoteopen}termi{\isacharunderscore}call{\isacharunderscore}steps\ {\isasymGamma}{\isachardoublequoteclose}\isanewline
\ \ \ \ {\isacharbrackright}{\isacharparenright}\ \isanewline
\isacommand{apply}\isamarkupfalse%
\ \ \ \ simp\isanewline
\isacommand{apply}\isamarkupfalse%
\ \ \ simp\isanewline
\isacommand{apply}\isamarkupfalse%
\ \ {\isacharparenleft}rule\ wf{\isacharunderscore}termi{\isacharunderscore}call{\isacharunderscore}steps{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ ballI\ allI{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ simp\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ Call{\isacharunderscore}lemma{\isacharunderscore}switch{\isacharunderscore}Call{\isacharunderscore}body\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ simplified{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ \ {\isacharparenleft}rule\ hoaret{\isachardot}Asm{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ \ fastforce\isanewline
\isacommand{apply}\isamarkupfalse%
\ assumption\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ CollInt{\isacharunderscore}iff{\isacharcolon}\ {\isachardoublequoteopen}{\isacharbraceleft}s{\isachardot}\ P\ s{\isacharbraceright}\ {\isasyminter}\ {\isacharbraceleft}s{\isachardot}\ Q\ s{\isacharbraceright}\ {\isacharequal}\ {\isacharbraceleft}s{\isachardot}\ P\ s\ {\isasymand}\ Q\ s{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ image{\isacharunderscore}Un{\isacharunderscore}conv{\isacharcolon}\ {\isachardoublequoteopen}f\ {\isacharbackquote}\ {\isacharparenleft}{\isasymUnion}p{\isasymin}dom\ {\isasymGamma}{\isachardot}\ {\isasymUnion}Z{\isachardot}\ {\isacharbraceleft}x\ p\ Z{\isacharbraceright}{\isacharparenright}\ {\isacharequal}\ \ {\isacharparenleft}{\isasymUnion}p{\isasymin}dom\ {\isasymGamma}{\isachardot}\ {\isasymUnion}Z{\isachardot}\ {\isacharbraceleft}f\ {\isacharparenleft}x\ p\ Z{\isacharparenright}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ iff{\isacharcolon}\ not{\isacharunderscore}None{\isacharunderscore}eq{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Another proof of \isa{MGT{\isacharunderscore}Call}, maybe a little more readable%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ \isanewline
{\isachardoublequoteopen}{\isasymforall}p\ {\isasymin}\ dom\ {\isasymGamma}{\isachardot}\ {\isasymforall}Z{\isachardot}\ \isanewline
\ \ {\isasymGamma}{\isacharcomma}{\isacharbraceleft}{\isacharbraceright}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isacharparenleft}Call\ p{\isacharparenright}{\isasymdown}Normal\ s{\isacharbraceright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}Call\ p{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ p\ Z\ {\isasymsigma}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ defined{\isacharcolon}\ {\isachardoublequoteopen}p\ {\isasymin}\ dom\ {\isasymGamma}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ Specs\ \isakeyword{where}\ {\isachardoublequoteopen}Specs\ {\isacharequal}\ {\isacharparenleft}{\isasymUnion}p{\isasymin}dom\ {\isasymGamma}{\isachardot}\ {\isasymUnion}Z{\isachardot}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\isacharparenleft}{\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ s{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ p{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isacharparenright}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{define}\isamarkupfalse%
\ Specs{\isacharunderscore}wf\ \isakeyword{where}\ {\isachardoublequoteopen}Specs{\isacharunderscore}wf\ p\ {\isasymsigma}\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}P{\isacharcomma}q{\isacharcomma}Q{\isacharcomma}A{\isacharparenright}{\isachardot}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}P\ {\isasyminter}\ {\isacharbraceleft}s{\isachardot}\ {\isacharparenleft}{\isacharparenleft}s{\isacharcomma}q{\isacharparenright}{\isacharcomma}{\isasymsigma}{\isacharcomma}p{\isacharparenright}\ {\isasymin}\ termi{\isacharunderscore}call{\isacharunderscore}steps\ {\isasymGamma}{\isacharbraceright}{\isacharcomma}\ q{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isacharparenright}\ {\isacharbackquote}\ Specs{\isachardoublequoteclose}\ \isakeyword{for}\ p\ {\isasymsigma}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}Specs{\isacharunderscore}wf\ p\ {\isasymsigma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub {\isacharparenleft}{\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isasyminter}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}{\isasymdown}Normal\ s{\isacharbraceright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ Call{\isacharunderscore}lemma\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ OF\ {\isacharunderscore}\ defined{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}Asm{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}clarsimp\ simp\ add{\isacharcolon}\ Specs{\isacharunderscore}wf{\isacharunderscore}def\ Specs{\isacharunderscore}def\ image{\isacharunderscore}Un{\isacharunderscore}conv{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}q\ \isakeyword{in}\ bexI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharunderscore}tac\ x{\isacharequal}Z\ \isakeyword{in}\ exI{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}clarsimp\ simp\ add{\isacharcolon}\ CollInt{\isacharunderscore}iff{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}Specs{\isacharunderscore}wf\ p\ {\isasymsigma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub {\isacharparenleft}{\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isasyminter}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}s{\isachardot}\ s\ {\isacharequal}\ Z\ {\isasymand}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ s{\isacharbraceright}{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}the\ {\isacharparenleft}{\isasymGamma}\ p{\isacharparenright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ only{\isacharcolon}\ exec{\isacharunderscore}Call{\isacharunderscore}body{\isacharprime}\ {\isacharbrackleft}OF\ defined{\isacharbrackright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ noFaultStuck{\isacharunderscore}Call{\isacharunderscore}body{\isacharprime}\ {\isacharbrackleft}OF\ defined{\isacharbrackright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ terminates{\isacharunderscore}Normal{\isacharunderscore}Call{\isacharunderscore}body\ {\isacharbrackleft}OF\ defined{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\ \isacommand{note}\isamarkupfalse%
\ bdy{\isacharequal}this\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ ballI\ allI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isachardot}CallRec\ {\isacharbrackleft}\isakeyword{where}\ Specs{\isacharequal}{\isachardoublequoteopen}{\isacharparenleft}{\isasymUnion}p{\isasymin}dom\ {\isasymGamma}{\isachardot}\ {\isasymUnion}Z{\isachardot}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\isacharparenleft}{\isacharbraceleft}s{\isachardot}\ s{\isacharequal}Z\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharparenleft}{\isacharbraceleft}Stuck{\isacharbraceright}\ {\isasymunion}\ Fault\ {\isacharbackquote}\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}{\isacharparenright}\ {\isasymand}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}Call\ p{\isasymdown}Normal\ s{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ p{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharbraceright}{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p{\isacharcomma}Normal\ Z{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharbraceright}{\isacharparenright}{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}{\isacharcomma}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ OF\ {\isacharunderscore}\ wf{\isacharunderscore}termi{\isacharunderscore}call{\isacharunderscore}steps\ {\isacharbrackleft}of\ {\isasymGamma}{\isacharbrackright}\ refl{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ clarify\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ conjI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ \ fastforce\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ allI{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ {\isacharparenleft}no{\isacharunderscore}asm{\isacharunderscore}use{\isacharparenright}\ only\ {\isacharcolon}\ Un{\isacharunderscore}empty{\isacharunderscore}left{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ bdy{\isacharparenright}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{done}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ hoaret{\isacharunderscore}complete{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A\ {\isasymLongrightarrow}\ {\isasymGamma}{\isacharcomma}{\isacharbraceleft}{\isacharbraceright}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ MGT{\isacharunderscore}implies{\isacharunderscore}complete\ MGT{\isacharunderscore}lemma\ {\isacharbrackleft}OF\ MGT{\isacharunderscore}Call{\isacharbrackright}{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ cvalid{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ \ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}{\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isacharbraceleft}{\isacharbraceright}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}augment{\isacharunderscore}context{\isacharparenright}\ simp\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ cvalid\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ ExFalso{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsection{And Now: Some Useful Rules%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{Modify Return%
}
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ ProcModifyReturn{\isacharunderscore}sound{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharunderscore}call{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ call\ init\ p\ return{\isacharprime}\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharunderscore}modif{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}{\isasymsigma}{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}UNIV\isactrlesub \ {\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isacharparenleft}Call\ p{\isacharparenright}\ {\isacharparenleft}Modif\ {\isasymsigma}{\isacharparenright}{\isacharcomma}{\isacharparenleft}ModifAbr\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ res{\isacharunderscore}modif{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ Modif\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ ret{\isacharunderscore}modifAbr{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ ModifAbr\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}call\ init\ p\ return\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}UNIV\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ valid{\isacharunderscore}augment{\isacharunderscore}Faults{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ p\ return\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ exec\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ rule{\isacharcolon}\ exec{\isacharunderscore}call{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ t{\isacharprime}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}body{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ s\ t{\isacharprime}{\isacharcomma}Normal\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}body\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}{\isacharparenleft}Call\ p\ {\isacharparenright}{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}modif\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}init\ s{\isachardoublequoteclose}{\isacharbrackright}\ ctxt{\isacharprime}\ this{\isacharbrackright}\ P\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharprime}\ {\isasymin}\ Modif\ {\isacharparenleft}init\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ res{\isacharunderscore}modif\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Normal\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharprime}{\isacharparenright}\ {\isacharequal}\ Normal\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}body\ exec{\isacharunderscore}c\ bdy\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}call{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}call\ ctxt\ this{\isacharbrackright}\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ t{\isacharprime}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}body{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isacharequal}\ Abrupt\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}body\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}{\isacharparenleft}Call\ p{\isacharparenright}{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}modif\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}init\ s{\isachardoublequoteclose}{\isacharbrackright}\ ctxt{\isacharprime}\ this{\isacharbrackright}\ P\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharprime}\ {\isasymin}\ ModifAbr\ {\isacharparenleft}init\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ ret{\isacharunderscore}modifAbr\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Abrupt\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}\ {\isacharequal}\ Abrupt\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isacharequal}\ Abrupt\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}body\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callAbrupt{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}call\ ctxt\ this{\isacharbrackright}\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\ \ \isakeyword{and}\isanewline
\ \ \ \ \ \ t{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isacharequal}\ Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ bdy\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ p\ return{\isacharprime}\ c\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callFault{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}call\ ctxt\ this\ P{\isacharbrackright}\ t\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}t\ {\isacharequal}\ Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ bdy\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ p\ return{\isacharprime}\ c\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callStuck{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}call\ ctxt\ this\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ None{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ p\ return{\isacharprime}\ c\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callUndefined{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}call\ ctxt\ this\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}UNIV\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ valid{\isacharunderscore}augment{\isacharunderscore}Faults{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}call\ ctxt\ P\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ call{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}call\ init\ p\ return{\isacharprime}\ c{\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}termD{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}call\ init\ p\ return\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}p\ {\isasymin}\ dom\ {\isasymGamma}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ call\ \isacommand{obtain}\isamarkupfalse%
\ bdy\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\ \isakeyword{and}\ termi{\isacharunderscore}bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}bdy\ {\isasymdown}\ Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ \isanewline
\ \ \ \ \ \ termi{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c\ s\ t\ {\isasymdown}\ Normal\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\ \isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ s\ t\ {\isasymdown}\ Normal\ {\isacharparenleft}return\ s\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}bdy\ bdy\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}{\isacharparenleft}Call\ p\ {\isacharparenright}{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}modif\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}init\ s{\isachardoublequoteclose}{\isacharbrackright}\ ctxt{\isacharprime}\ this{\isacharbrackright}\ P\ \isanewline
\ \ \ \ \ \ \ \ \ \ res{\isacharunderscore}modif\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ termi{\isacharunderscore}c\ exec{\isacharunderscore}bdy\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ bdy\ termi{\isacharunderscore}bdy\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ terminates{\isacharunderscore}call{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isacharunderscore}callUndefined{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ProcModifyReturn{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ spec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}call\ init\ p\ return{\isacharprime}\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ res{\isacharunderscore}modif{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ Modif\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}return\ s\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ ret{\isacharunderscore}modifAbr{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ ModifAbr\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}return\ s\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ modifies{\isacharunderscore}spec{\isacharcolon}\ \ \ \ \isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}{\isasymsigma}{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlbsub {\isacharslash}UNIV\isactrlesub \ {\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isacharparenleft}Call\ p{\isacharparenright}\ {\isacharparenleft}Modif\ {\isasymsigma}{\isacharparenright}{\isacharcomma}{\isacharparenleft}ModifAbr\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}call\ init\ p\ return\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\ \isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ ProcModifyReturn{\isacharunderscore}sound\ {\isacharbrackleft}\isakeyword{where}\ Modif{\isacharequal}Modif\ \isakeyword{and}\ ModifAbr{\isacharequal}ModifAbr{\isacharcomma}\ \isanewline
\ \ \ \ \ \ \ \ OF\ {\isacharunderscore}\ {\isacharunderscore}\ res{\isacharunderscore}modif\ ret{\isacharunderscore}modifAbr{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ spec{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{using}\isamarkupfalse%
\ modifies{\isacharunderscore}spec\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ hoare{\isacharunderscore}sound{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ProcModifyReturnSameFaults{\isacharunderscore}sound{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharunderscore}call{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ call\ init\ p\ return{\isacharprime}\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharunderscore}modif{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}{\isasymsigma}{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ Call\ p\ {\isacharparenleft}Modif\ {\isasymsigma}{\isacharparenright}{\isacharcomma}{\isacharparenleft}ModifAbr\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ res{\isacharunderscore}modif{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ Modif\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ ret{\isacharunderscore}modifAbr{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ ModifAbr\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}call\ init\ p\ return\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ p\ return\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ exec\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ rule{\isacharcolon}\ exec{\isacharunderscore}call{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ t{\isacharprime}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}body{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ s\ t{\isacharprime}{\isacharcomma}Normal\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}body\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}{\isacharparenleft}Call\ p{\isacharparenright}\ {\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}modif\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}init\ s{\isachardoublequoteclose}{\isacharbrackright}\ ctxt{\isacharprime}\ this{\isacharbrackright}\ P\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharprime}\ {\isasymin}\ Modif\ {\isacharparenleft}init\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ res{\isacharunderscore}modif\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Normal\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharprime}{\isacharparenright}\ {\isacharequal}\ Normal\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}body\ exec{\isacharunderscore}c\ bdy\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}call{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}call\ ctxt\ this{\isacharbrackright}\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ t{\isacharprime}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}body{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isacharequal}\ Abrupt\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}body\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ p\ {\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}modif\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}init\ s{\isachardoublequoteclose}{\isacharbrackright}\ ctxt{\isacharprime}\ this{\isacharbrackright}\ P\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharprime}\ {\isasymin}\ ModifAbr\ {\isacharparenleft}init\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ ret{\isacharunderscore}modifAbr\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Abrupt\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}\ {\isacharequal}\ Abrupt\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isacharequal}\ Abrupt\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}body\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callAbrupt{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}call\ ctxt\ this{\isacharbrackright}\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\ \ \isakeyword{and}\isanewline
\ \ \ \ \ \ t{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isacharequal}\ Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ bdy\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ p\ return{\isacharprime}\ c\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callFault{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}call\ ctxt\ this\ P{\isacharbrackright}\ t\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}t\ {\isacharequal}\ Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ bdy\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callStuck{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}call\ ctxt\ this\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ None{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callUndefined{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}call\ ctxt\ this\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}call\ ctxt\ P\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ call{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}call\ init\ p\ return{\isacharprime}\ c{\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}termD{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}call\ init\ p\ return\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}p\ {\isasymin}\ dom\ {\isasymGamma}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ call\ \isacommand{obtain}\isamarkupfalse%
\ bdy\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ p\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\ \isakeyword{and}\ termi{\isacharunderscore}bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}bdy\ {\isasymdown}\ Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ \isanewline
\ \ \ \ \ \ termi{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c\ s\ t\ {\isasymdown}\ Normal\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\ \isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ s\ t\ {\isasymdown}\ Normal\ {\isacharparenleft}return\ s\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}bdy\ bdy\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}{\isacharparenleft}Call\ p\ {\isacharparenright}{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}modif\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}init\ s{\isachardoublequoteclose}{\isacharbrackright}\ ctxt{\isacharprime}\ this{\isacharbrackright}\ P\ \isanewline
\ \ \ \ \ \ \ \ \ \ res{\isacharunderscore}modif\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ termi{\isacharunderscore}c\ exec{\isacharunderscore}bdy\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ bdy\ termi{\isacharunderscore}bdy\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ terminates{\isacharunderscore}call{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isacharunderscore}callUndefined{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ ProcModifyReturnSameFaults{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ spec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}call\ init\ p\ return{\isacharprime}\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ res{\isacharunderscore}modif{\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ Modif\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}return\ s\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ ret{\isacharunderscore}modifAbr{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ ModifAbr\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharparenright}\ {\isacharequal}\ {\isacharparenleft}return\ s\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ modifies{\isacharunderscore}spec{\isacharcolon}\ \ \ \ \isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}{\isasymsigma}{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isacharparenleft}Call\ p{\isacharparenright}\ {\isacharparenleft}Modif\ {\isasymsigma}{\isacharparenright}{\isacharcomma}{\isacharparenleft}ModifAbr\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}call\ init\ p\ return\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\ \isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ ProcModifyReturnSameFaults{\isacharunderscore}sound\ {\isacharbrackleft}\isakeyword{where}\ Modif{\isacharequal}Modif\ \isakeyword{and}\ ModifAbr{\isacharequal}ModifAbr{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ OF\ {\isacharunderscore}\ {\isacharunderscore}\ res{\isacharunderscore}modif\ ret{\isacharunderscore}modifAbr{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ spec{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{using}\isamarkupfalse%
\ modifies{\isacharunderscore}spec\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}\ hoare{\isacharunderscore}sound{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsubsection{DynCall%
}
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ dynProcModifyReturn{\isacharunderscore}sound{\isacharcolon}\isanewline
\isakeyword{assumes}\ valid{\isacharunderscore}call{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ dynCall\ init\ p\ return{\isacharprime}\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ valid{\isacharunderscore}modif{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}s{\isasymin}P{\isachardot}\ {\isasymforall}{\isasymsigma}{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}UNIV\isactrlesub \ {\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isacharparenleft}Call\ {\isacharparenleft}p\ s{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}Modif\ {\isasymsigma}{\isacharparenright}{\isacharcomma}{\isacharparenleft}ModifAbr\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\isakeyword{assumes}\ ret{\isacharunderscore}modif{\isacharcolon}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ Modif\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ ret{\isacharunderscore}modifAbr{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ ModifAbr\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}dynCall\ init\ p\ return\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}UNIV\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ valid{\isacharunderscore}augment{\isacharunderscore}Faults{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}dynCall\ init\ p\ return\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ valid{\isacharunderscore}modif\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}modif{\isacharprime}{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}{\isasymsigma}{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlbsub {\isacharslash}UNIV\isactrlesub \ {\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isacharparenleft}Call\ {\isacharparenleft}p\ s{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}Modif\ {\isasymsigma}{\isacharparenright}{\isacharcomma}{\isacharparenleft}ModifAbr\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ exec\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ rule{\isacharcolon}\ exec{\isacharunderscore}dynCall{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ rule{\isacharcolon}\ exec{\isacharunderscore}call{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ t{\isacharprime}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}body{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ s\ t{\isacharprime}{\isacharcomma}Normal\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}body\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ {\isacharparenleft}p\ s{\isacharparenright}{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ intro{\isacharcolon}\ exec{\isachardot}Call{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}modif{\isacharprime}\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}init\ s{\isachardoublequoteclose}{\isacharbrackright}\ ctxt{\isacharprime}\ this{\isacharbrackright}\ P\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharprime}\ {\isasymin}\ Modif\ {\isacharparenleft}init\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ ret{\isacharunderscore}modif\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Normal\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharprime}{\isacharparenright}\ {\isacharequal}\ \isanewline
\ \ \ \ \ \ Normal\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}body\ exec{\isacharunderscore}c\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}call{\isacharparenright}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}dynCall\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isacharunderscore}dynCall{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}call\ ctxt\ this{\isacharbrackright}\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ t{\isacharprime}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}body{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isacharequal}\ Abrupt\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}body\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}modif{\isacharprime}\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}init\ s{\isachardoublequoteclose}{\isacharbrackright}\ ctxt{\isacharprime}\ this{\isacharbrackright}\ P\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharprime}\ {\isasymin}\ ModifAbr\ {\isacharparenleft}init\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ ret{\isacharunderscore}modifAbr\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Abrupt\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}\ {\isacharequal}\ Abrupt\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isacharequal}\ Abrupt\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}body\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callAbrupt{\isacharparenright}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}dynCall\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isacharunderscore}dynCall{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}call\ ctxt\ this{\isacharbrackright}\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\ \ \isakeyword{and}\isanewline
\ \ \ \ \ \ t{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isacharequal}\ Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ bdy\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return{\isacharprime}\ c\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callFault{\isacharparenright}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}dynCall\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isacharunderscore}dynCall{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}call\ ctxt\ this\ P{\isacharbrackright}\ t\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}t\ {\isacharequal}\ Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ bdy\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return{\isacharprime}\ c\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callStuck{\isacharparenright}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}dynCall\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isacharunderscore}dynCall{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}call\ ctxt\ this\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharequal}\ None{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return{\isacharprime}\ c\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callUndefined{\isacharparenright}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}dynCall\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isacharunderscore}dynCall{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}call\ ctxt\ this\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}UNIV\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ valid{\isacharunderscore}augment{\isacharunderscore}Faults{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}call\ ctxt\ P\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}dynCall\ init\ p\ return{\isacharprime}\ c{\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}termD{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ call{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return{\isacharprime}\ c{\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}p\ s\ {\isasymin}\ dom\ {\isasymGamma}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ call\ \isacommand{obtain}\isamarkupfalse%
\ bdy\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\ \isakeyword{and}\ termi{\isacharunderscore}bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}bdy\ {\isasymdown}\ Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ \isanewline
\ \ \ \ \ \ termi{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c\ s\ t\ {\isasymdown}\ Normal\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\ \isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ s\ t\ {\isasymdown}\ Normal\ {\isacharparenleft}return\ s\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}bdy\ bdy\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ {\isacharparenleft}p\ s{\isacharparenright}{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}modif\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ s\ {\isachardoublequoteopen}init\ s{\isachardoublequoteclose}{\isacharbrackright}\ ctxt{\isacharprime}\ this{\isacharbrackright}\ P\ \isanewline
\ \ \ \ \ \ \ \ \ \ ret{\isacharunderscore}modif\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ termi{\isacharunderscore}c\ exec{\isacharunderscore}bdy\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ bdy\ termi{\isacharunderscore}bdy\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ terminates{\isacharunderscore}call{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isacharunderscore}callUndefined{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}dynCall\ init\ p\ return\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ terminates{\isacharunderscore}dynCall{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ dynProcModifyReturn{\isacharcolon}\isanewline
\isakeyword{assumes}\ dyn{\isacharunderscore}call{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ dynCall\ init\ p\ return{\isacharprime}\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ ret{\isacharunderscore}modif{\isacharcolon}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ Modif\ {\isacharparenleft}init\ s{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ ret{\isacharunderscore}modifAbr{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ ModifAbr\ {\isacharparenleft}init\ s{\isacharparenright}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ modif{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}s\ {\isasymin}\ P{\isachardot}\ {\isasymforall}{\isasymsigma}{\isachardot}\ \ \isanewline
\ \ \ \ \ \ \ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlbsub {\isacharslash}UNIV\isactrlesub \ {\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ Call\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharparenleft}Modif\ {\isasymsigma}{\isacharparenright}{\isacharcomma}{\isacharparenleft}ModifAbr\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}dynCall\ init\ p\ return\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ dynProcModifyReturn{\isacharunderscore}sound\ \isanewline
\ \ \ \ \ \ \ \ {\isacharbrackleft}\isakeyword{where}\ Modif{\isacharequal}Modif\ \isakeyword{and}\ ModifAbr{\isacharequal}ModifAbr{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ OF\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ dyn{\isacharunderscore}call{\isacharbrackright}\ {\isacharunderscore}\ ret{\isacharunderscore}modif\ ret{\isacharunderscore}modifAbr{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ ballI\ allI{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoare{\isacharunderscore}sound\ {\isacharbrackleft}OF\ modif\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ assumption\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ dynProcModifyReturnSameFaults{\isacharunderscore}sound{\isacharcolon}\isanewline
\isakeyword{assumes}\ valid{\isacharunderscore}call{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ dynCall\ init\ p\ return{\isacharprime}\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ valid{\isacharunderscore}modif{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}s{\isasymin}P{\isachardot}\ {\isasymforall}{\isasymsigma}{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ Call\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharparenleft}Modif\ {\isasymsigma}{\isacharparenright}{\isacharcomma}{\isacharparenleft}ModifAbr\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\isakeyword{assumes}\ ret{\isacharunderscore}modif{\isacharcolon}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ Modif\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ ret{\isacharunderscore}modifAbr{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ ModifAbr\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}dynCall\ init\ p\ return\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}dynCall\ init\ p\ return\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ valid{\isacharunderscore}modif\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}modif{\isacharprime}{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}{\isasymsigma}{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ {\isacharparenleft}Call\ {\isacharparenleft}p\ s{\isacharparenright}{\isacharparenright}\ {\isacharparenleft}Modif\ {\isasymsigma}{\isacharparenright}{\isacharcomma}{\isacharparenleft}ModifAbr\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ exec\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}cases\ rule{\isacharcolon}\ exec{\isacharunderscore}dynCall{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharparenright}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ rule{\isacharcolon}\ exec{\isacharunderscore}call{\isacharunderscore}Normal{\isacharunderscore}elim{\isacharparenright}\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ t{\isacharprime}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}body{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\ s\ t{\isacharprime}{\isacharcomma}Normal\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}body\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ {\isacharparenleft}p\ s{\isacharparenright}{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}modif{\isacharprime}\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}init\ s{\isachardoublequoteclose}{\isacharbrackright}\ ctxt{\isacharprime}\ this{\isacharbrackright}\ P\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharprime}\ {\isasymin}\ Modif\ {\isacharparenleft}init\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ ret{\isacharunderscore}modif\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Normal\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharprime}{\isacharparenright}\ {\isacharequal}\ \isanewline
\ \ \ \ \ \ Normal\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}body\ exec{\isacharunderscore}c\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}call{\isacharparenright}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}dynCall\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isacharunderscore}dynCall{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}call\ ctxt\ this{\isacharbrackright}\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ t{\isacharprime}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}body{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isacharequal}\ Abrupt\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{also}\isamarkupfalse%
\ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}body\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ {\isacharparenleft}p\ s{\isacharparenright}\ \ {\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Abrupt\ t{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}modif{\isacharprime}\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ {\isachardoublequoteopen}init\ s{\isachardoublequoteclose}{\isacharbrackright}\ ctxt{\isacharprime}\ this{\isacharbrackright}\ P\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharprime}\ {\isasymin}\ ModifAbr\ {\isacharparenleft}init\ s{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ ret{\isacharunderscore}modifAbr\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Abrupt\ {\isacharparenleft}return\ s\ t{\isacharprime}{\isacharparenright}\ {\isacharequal}\ Abrupt\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{finally}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isacharequal}\ Abrupt\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}body\ bdy\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callAbrupt{\isacharparenright}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}dynCall\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isacharunderscore}dynCall{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}call\ ctxt\ this{\isacharbrackright}\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\ f\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\ \ \isakeyword{and}\isanewline
\ \ \ \ \ \ t{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isacharequal}\ Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ bdy\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return{\isacharprime}\ c\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callFault{\isacharparenright}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}dynCall\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isacharunderscore}dynCall{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}call\ ctxt\ this\ P{\isacharbrackright}\ t\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Stuck{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ \ \ {\isachardoublequoteopen}t\ {\isacharequal}\ Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ bdy\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return{\isacharprime}\ c\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callStuck{\isacharparenright}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}dynCall\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isacharunderscore}dynCall{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}call\ ctxt\ this\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ bdy\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharequal}\ None{\isachardoublequoteclose}\ {\isachardoublequoteopen}t{\isacharequal}Stuck{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return{\isacharprime}\ c\ {\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}callUndefined{\isacharparenright}\isanewline
\ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}dynCall\ init\ p\ return{\isacharprime}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isacharunderscore}dynCall{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}call\ ctxt\ this\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}call\ ctxt\ P\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}dynCall\ init\ p\ return{\isacharprime}\ c{\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}termD{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ call{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return{\isacharprime}\ c{\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}call\ init\ {\isacharparenleft}p\ s{\isacharparenright}\ return\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}p\ s\ {\isasymin}\ dom\ {\isasymGamma}{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ call\ \isacommand{obtain}\isamarkupfalse%
\ bdy\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharequal}\ Some\ bdy{\isachardoublequoteclose}\ \isakeyword{and}\ termi{\isacharunderscore}bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}bdy\ {\isasymdown}\ Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ \isanewline
\ \ \ \ \ \ termi{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}t{\isachardot}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t\ {\isasymlongrightarrow}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymGamma}{\isasymturnstile}c\ s\ t\ {\isasymdown}\ Normal\ {\isacharparenleft}return{\isacharprime}\ s\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ cases\ auto\ \isanewline
\ \ \ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ t\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}bdy{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}bdy{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ s\ t\ {\isasymdown}\ Normal\ {\isacharparenleft}return\ s\ t{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}bdy\ bdy\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}Call\ {\isacharparenleft}p\ s{\isacharparenright}{\isacharcomma}Normal\ {\isacharparenleft}init\ s{\isacharparenright}{\isasymrangle}\ {\isasymRightarrow}\ Normal\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ intro{\isacharcolon}\ exec{\isachardot}intros{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}modif\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharcomma}\ of\ s\ {\isachardoublequoteopen}init\ s{\isachardoublequoteclose}{\isacharbrackright}\ ctxt{\isacharprime}\ this{\isacharbrackright}\ P\ \isanewline
\ \ \ \ \ \ \ \ \ \ ret{\isacharunderscore}modif\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ termi{\isacharunderscore}c\ exec{\isacharunderscore}bdy\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ bdy\ termi{\isacharunderscore}bdy\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ terminates{\isacharunderscore}call{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isacharunderscore}callUndefined{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}dynCall\ init\ p\ return\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ terminates{\isacharunderscore}dynCall{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ dynProcModifyReturnSameFaults{\isacharcolon}\isanewline
\isakeyword{assumes}\ dyn{\isacharunderscore}call{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ dynCall\ init\ p\ return{\isacharprime}\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ ret{\isacharunderscore}modif{\isacharcolon}\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ Modif\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ ret{\isacharunderscore}modifAbr{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}s\ t{\isachardot}\ t\ {\isasymin}\ ModifAbr\ {\isacharparenleft}init\ s{\isacharparenright}\ {\isasymlongrightarrow}\ return{\isacharprime}\ s\ t\ {\isacharequal}\ return\ s\ t{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ modif{\isacharcolon}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}{\isasymforall}s\ {\isasymin}\ P{\isachardot}\ {\isasymforall}{\isasymsigma}{\isachardot}\ {\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ {\isacharbraceleft}{\isasymsigma}{\isacharbraceright}\ Call\ {\isacharparenleft}p\ s{\isacharparenright}\ {\isacharparenleft}Modif\ {\isasymsigma}{\isacharparenright}{\isacharcomma}{\isacharparenleft}ModifAbr\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}dynCall\ init\ p\ return\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ dynProcModifyReturnSameFaults{\isacharunderscore}sound\ \isanewline
\ \ \ \ \ \ \ \ {\isacharbrackleft}\isakeyword{where}\ Modif{\isacharequal}Modif\ \isakeyword{and}\ ModifAbr{\isacharequal}ModifAbr{\isacharcomma}\isanewline
\ \ \ \ \ \ \ \ \ \ OF\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ dyn{\isacharunderscore}call{\isacharbrackright}\ {\isacharunderscore}\ ret{\isacharunderscore}modif\ ret{\isacharunderscore}modifAbr{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}intro\ ballI\ allI{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoare{\isacharunderscore}sound\ {\isacharbrackleft}OF\ modif\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ assumption\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsubsection{Conjunction of Postcondition%
}
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ PostConjI{\isacharunderscore}sound{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharunderscore}Q{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharunderscore}R{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ R{\isacharcomma}B{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ {\isacharparenleft}Q\ {\isasyminter}\ R{\isacharparenright}{\isacharcomma}{\isacharparenleft}A\ {\isasyminter}\ B{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}Q\ ctxt\ exec\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}R\ ctxt\ exec\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ R\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ B{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ {\isacharparenleft}Q\ {\isasyminter}\ R{\isacharparenright}\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ {\isacharparenleft}A\ {\isasyminter}\ B{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}Q\ ctxt\ P\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}termD{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ PostConjI{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharunderscore}Q{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharunderscore}R{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ R{\isacharcomma}B{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ {\isacharparenleft}Q\ {\isasyminter}\ R{\isacharparenright}{\isacharcomma}{\isacharparenleft}A\ {\isasyminter}\ B{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ PostConjI{\isacharunderscore}sound{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharunderscore}Q{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharunderscore}R{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Merge{\isacharunderscore}PostConj{\isacharunderscore}sound{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ validF{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ validG{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}G\isactrlesub \ P{\isacharprime}\ c\ R{\isacharcomma}X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ F{\isacharunderscore}G{\isacharcolon}\ {\isachardoublequoteopen}F\ {\isasymsubseteq}\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ P{\isacharunderscore}P{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}P\ {\isasymsubseteq}\ P{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ {\isacharparenleft}Q\ {\isasyminter}\ R{\isacharparenright}{\isacharcomma}{\isacharparenleft}A\ {\isasyminter}\ X{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ F{\isacharunderscore}G\ \isacommand{have}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}G\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ validt{\isacharunderscore}augment{\isacharunderscore}Faults{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ P{\isacharunderscore}P{\isacharprime}\ \isacommand{have}\isamarkupfalse%
\ P{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}noFault{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ {\isacharparenleft}Q\ {\isasyminter}\ R{\isacharparenright}\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ {\isacharparenleft}A\ {\isasyminter}\ X{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ validF\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}\ ctxt\ exec\ P\ t{\isacharunderscore}noFault{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ t{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ G{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ validG\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}\ ctxt{\isacharprime}\ exec\ P{\isacharprime}\ this{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ R\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ X{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ t\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ validF\ ctxt\ P\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}termD{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Merge{\isacharunderscore}PostConj{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ validF{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ validG{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}G\isactrlesub \ P{\isacharprime}\ c\ R{\isacharcomma}X{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ F{\isacharunderscore}G{\isacharcolon}\ {\isachardoublequoteopen}F\ {\isasymsubseteq}\ G{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ P{\isacharunderscore}P{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}P\ {\isasymsubseteq}\ P{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ {\isacharparenleft}Q\ {\isasyminter}\ R{\isacharparenright}{\isacharcomma}{\isacharparenleft}A\ {\isasyminter}\ X{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ Merge{\isacharunderscore}PostConj{\isacharunderscore}sound\ {\isacharbrackleft}OF\ {\isacharunderscore}\ {\isacharunderscore}\ F{\isacharunderscore}G\ P{\isacharunderscore}P{\isacharprime}{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{using}\isamarkupfalse%
\ validF\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}hoaret{\isacharunderscore}sound{\isacharparenright}\isanewline
\isacommand{using}\isamarkupfalse%
\ validG\ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}blast\ intro{\isacharcolon}hoaret{\isacharunderscore}sound{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsubsection{Guards and Guarantees%
}
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ SplitGuards{\isacharunderscore}sound{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\isactrlsub {\isadigit{1}}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharunderscore}c{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\isactrlsub {\isadigit{2}}\ UNIV{\isacharcomma}UNIV{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ c{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}c\isactrlsub {\isadigit{1}}\ {\isasyminter}\isactrlsub g\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ Some\ c{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ t{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ Normal\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ inter{\isacharunderscore}guards{\isacharunderscore}exec{\isacharunderscore}noFault\ {\isacharbrackleft}OF\ c\ exec{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt\ this\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ Abrupt\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ inter{\isacharunderscore}guards{\isacharunderscore}exec{\isacharunderscore}noFault\ {\isacharbrackleft}OF\ c\ exec{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt\ this\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Fault\ f{\isacharparenright}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharcolon}\ {\isachardoublequoteopen}t{\isacharequal}Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec\ inter{\isacharunderscore}guards{\isacharunderscore}exec{\isacharunderscore}Fault\ {\isacharbrackleft}OF\ c{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f\ {\isasymor}\ {\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ rule{\isacharcolon}\ disjE\ {\isacharbrackleft}consumes\ {\isadigit{1}}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt\ this\ P{\isacharbrackright}\ t\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{2}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}c{\isadigit{2}}\ ctxt{\isacharprime}\ this\ P{\isacharbrackright}\ t\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ Stuck\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ inter{\isacharunderscore}guards{\isacharunderscore}exec{\isacharunderscore}noFault\ {\isacharbrackleft}OF\ c\ exec{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c\isactrlsub {\isadigit{1}}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt\ this\ P\ t{\isacharunderscore}notin{\isacharunderscore}F\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}postD{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isadigit{1}}\ ctxt\ P\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\isactrlsub {\isadigit{1}}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}termD{\isacharparenright}\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ c\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ inter{\isacharunderscore}guards{\isacharunderscore}terminates{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ SplitGuards{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ c{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}c\isactrlsub {\isadigit{1}}\ {\isasyminter}\isactrlsub g\ c\isactrlsub {\isadigit{2}}{\isacharparenright}\ {\isacharequal}\ Some\ c{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharunderscore}c{\isadigit{1}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\isactrlsub {\isadigit{1}}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharunderscore}c{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\isactrlsub {\isadigit{2}}\ UNIV{\isacharcomma}UNIV{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ SplitGuards{\isacharunderscore}sound\ {\isacharbrackleft}OF\ {\isacharunderscore}\ {\isacharunderscore}\ c{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharunderscore}c{\isadigit{1}}{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoare{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharunderscore}c{\isadigit{2}}{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ CombineStrip{\isacharunderscore}sound{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharunderscore}strip{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ {\isacharparenleft}strip{\isacharunderscore}guards\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}\ c{\isacharparenright}\ UNIV{\isacharcomma}UNIV{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ ctxt\ \isacommand{have}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ valid{\isacharunderscore}augment{\isacharunderscore}Faults\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}noFault{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ t{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Normal\ t{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ ctxt{\isacharprime}{\isacharprime}\ exec\ P{\isacharbrackright}\ Normal\ \isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Abrupt\ t{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ ctxt{\isacharprime}{\isacharprime}\ exec\ P{\isacharbrackright}\ Abrupt\ \isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Fault\ f{\isacharparenright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}f\ {\isasymin}\ F{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymnotin}\ {\isacharminus}F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec\ Fault\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}strip{\isacharunderscore}guards\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ exec{\isacharunderscore}to{\isacharunderscore}exec{\isacharunderscore}strip{\isacharunderscore}guards{\isacharunderscore}Fault{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ valid{\isacharunderscore}strip\ ctxt{\isacharprime}\ this\ P{\isacharbrackright}\ Fault\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ ctxt{\isacharprime}{\isacharprime}\ exec\ P{\isacharbrackright}\ Fault\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ Stuck\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ ctxt{\isacharprime}{\isacharprime}\ exec\ P{\isacharbrackright}\ Stuck\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ valid{\isacharunderscore}augment{\isacharunderscore}Faults\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid\ ctxt{\isacharprime}\ P\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}termD{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ CombineStrip{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharunderscore}strip{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ {\isacharparenleft}strip{\isacharunderscore}guards\ {\isacharparenleft}{\isacharminus}F{\isacharparenright}\ c{\isacharparenright}\ UNIV{\isacharcomma}UNIV{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ CombineStrip{\isacharunderscore}sound{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ \ {\isacharparenleft}iprover\ intro{\isacharcolon}\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ hoare{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharunderscore}strip{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ GuardsFlip{\isacharunderscore}sound{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ validFlip{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlbsub {\isacharslash}{\isacharminus}F\isactrlesub \ P\ c\ UNIV{\isacharcomma}UNIV{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ ctxt\ \isacommand{have}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ valid{\isacharunderscore}augment{\isacharunderscore}Faults\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ ctxt\ \isacommand{have}\isamarkupfalse%
\ ctxtFlip{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlbsub {\isacharslash}{\isacharminus}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ valid{\isacharunderscore}augment{\isacharunderscore}Faults\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}noFault{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ t{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Normal\ t{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ ctxt{\isacharprime}\ exec\ P{\isacharbrackright}\ Normal\ \isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Abrupt\ t{\isacharprime}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ ctxt{\isacharprime}\ exec\ P{\isacharbrackright}\ Abrupt\ \isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ {\isacharparenleft}Fault\ f{\isacharparenright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}f\ {\isasymin}\ F{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isasymnotin}\ {\isacharminus}F{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ cvalidD\ {\isacharbrackleft}OF\ validFlip\ ctxtFlip\ exec\ P{\isacharbrackright}\ Fault\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{with}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ ctxt{\isacharprime}\ exec\ P{\isacharbrackright}\ Fault\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ Stuck\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ ctxt{\isacharprime}\ exec\ P{\isacharbrackright}\ Stuck\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}\ {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ ctxt{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ valid{\isacharunderscore}augment{\isacharunderscore}Faults\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ valid\ ctxt{\isacharprime}\ P\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidt{\isacharunderscore}termD{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ GuardsFlip{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ derivFlip{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlbsub {\isacharslash}{\isacharminus}F\isactrlesub \ P\ c\ UNIV{\isacharcomma}UNIV{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ GuardsFlip{\isacharunderscore}sound{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ \ {\isacharparenleft}iprover\ intro{\isacharcolon}\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ hoare{\isacharunderscore}sound\ {\isacharbrackleft}OF\ derivFlip{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MarkGuardsI{\isacharunderscore}sound{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ valid{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ mark{\isacharunderscore}guards\ f\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}mark{\isacharunderscore}guards\ f\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}mark{\isacharunderscore}guards{\isacharunderscore}to{\isacharunderscore}exec\ {\isacharbrackleft}OF\ exec{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\ t{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ exec{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isacharprime}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ t{\isacharprime}{\isacharunderscore}noFault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ isFault\ t{\isacharprime}\ {\isasymlongrightarrow}\ t{\isacharprime}\ {\isacharequal}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}noFault{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}\ ctxt\ exec{\isacharunderscore}c\ P{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isacharprime}\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ t{\isacharprime}{\isacharunderscore}noFault\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid\ ctxt\ P{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}mark{\isacharunderscore}guards\ f\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isacharunderscore}to{\isacharunderscore}terminates{\isacharunderscore}mark{\isacharunderscore}guards{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MarkGuardsI{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ mark{\isacharunderscore}guards\ f\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ MarkGuardsI{\isacharunderscore}sound{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MarkGuardsD{\isacharunderscore}sound{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ valid{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ mark{\isacharunderscore}guards\ f\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}noFault{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}cases\ {\isachardoublequoteopen}isFault\ t{\isachardoublequoteclose}{\isacharparenright}\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ True\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ exec{\isacharunderscore}to{\isacharunderscore}exec{\isacharunderscore}mark{\isacharunderscore}guards{\isacharunderscore}Fault\ exec\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ f{\isacharprime}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}mark{\isacharunderscore}guards\ f\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ Fault\ f{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ elim{\isacharcolon}\ isFaultE{\isacharparenright}\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}\ ctxt\ this\ P{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\ \isacommand{{\isachardot}{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{case}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}to{\isacharunderscore}exec{\isacharunderscore}mark{\isacharunderscore}guards\ {\isacharbrackleft}OF\ exec\ False{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ f{\isacharprime}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}mark{\isacharunderscore}guards\ f\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}\ ctxt\ this\ P{\isacharbrackright}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid\ ctxt\ P{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}mark{\isacharunderscore}guards\ f\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isacharunderscore}mark{\isacharunderscore}guards{\isacharunderscore}to{\isacharunderscore}terminates{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MarkGuardsD{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ mark{\isacharunderscore}guards\ f\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ MarkGuardsD{\isacharunderscore}sound{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MergeGuardsI{\isacharunderscore}sound{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ valid{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ merge{\isacharunderscore}guards\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharunderscore}merge{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}merge{\isacharunderscore}guards\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}merge{\isacharunderscore}guards{\isacharunderscore}to{\isacharunderscore}exec\ {\isacharbrackleft}OF\ exec{\isacharunderscore}merge{\isacharbrackright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}\ ctxt\ exec\ P\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharbrackright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid\ ctxt\ P{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}merge{\isacharunderscore}guards\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isacharunderscore}to{\isacharunderscore}terminates{\isacharunderscore}merge{\isacharunderscore}guards{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MergeGuardsI{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ merge{\isacharunderscore}guards\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ MergeGuardsI{\isacharunderscore}sound{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MergeGuardsD{\isacharunderscore}sound{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ valid{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ merge{\isacharunderscore}guards\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}to{\isacharunderscore}exec{\isacharunderscore}merge{\isacharunderscore}guards\ {\isacharbrackleft}OF\ exec{\isacharbrackright}\ \isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ exec{\isacharunderscore}merge{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}merge{\isacharunderscore}guards\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}\ ctxt\ exec{\isacharunderscore}merge\ P\ t{\isacharunderscore}notin{\isacharunderscore}F{\isacharbrackright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid\ ctxt\ P{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}merge{\isacharunderscore}guards\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isacharunderscore}merge{\isacharunderscore}guards{\isacharunderscore}to{\isacharunderscore}terminates{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ MergeGuardsD{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ merge{\isacharunderscore}guards\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ MergeGuardsD{\isacharunderscore}sound{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ SubsetGuards{\isacharunderscore}sound{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ c{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}c\ {\isasymsubseteq}\isactrlsub g\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ valid{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ c{\isacharprime}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ exec{\isacharunderscore}to{\isacharunderscore}exec{\isacharunderscore}subseteq{\isacharunderscore}guards\ {\isacharbrackleft}OF\ c{\isacharunderscore}c{\isacharprime}\ exec{\isacharbrackright}\ \isacommand{obtain}\isamarkupfalse%
\ t{\isacharprime}\ \isakeyword{where}\isanewline
\ \ \ \ exec{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharprime}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isacharprime}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ t{\isacharprime}{\isacharunderscore}noFault{\isacharcolon}\ {\isachardoublequoteopen}{\isasymnot}\ isFault\ t{\isacharprime}\ {\isasymlongrightarrow}\ t{\isacharprime}\ {\isacharequal}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ t{\isacharunderscore}noFault{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ {\isacharbraceleft}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}\ ctxt\ exec{\isacharunderscore}c{\isacharprime}\ P{\isacharbrackright}\ t{\isacharprime}{\isacharunderscore}noFault\ t{\isacharunderscore}noFault\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid\ ctxt\ P{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ termi{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isacharprime}\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ ctxt\ {\isacharunderscore}\ P{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ noFault{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharprime}{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}Fault\ {\isacharbackquote}\ UNIV{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ final{\isacharunderscore}notin{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ termi{\isacharunderscore}c{\isacharprime}\ c{\isacharunderscore}c{\isacharprime}\ noFault{\isacharunderscore}c{\isacharprime}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isacharunderscore}fewer{\isacharunderscore}guards{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ SubsetGuards{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ c{\isacharunderscore}c{\isacharprime}{\isacharcolon}\ {\isachardoublequoteopen}c\ {\isasymsubseteq}\isactrlsub g\ c{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ c{\isacharprime}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}{\isacharbraceleft}{\isacharbraceright}\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ SubsetGuards{\isacharunderscore}sound\ {\isacharbrackleft}OF\ c{\isacharunderscore}c{\isacharprime}{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ NormalizeD{\isacharunderscore}sound{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ valid{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}normalize\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ exec{\isacharunderscore}norm{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}normalize\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isacharunderscore}to{\isacharunderscore}exec{\isacharunderscore}normalize{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ noFault{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}\ ctxt\ exec{\isacharunderscore}norm\ P\ noFault{\isacharbrackright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid\ ctxt\ P{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}normalize\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isacharunderscore}normalize{\isacharunderscore}to{\isacharunderscore}terminates{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ NormalizeD{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}normalize\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ NormalizeD{\isacharunderscore}sound{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ NormalizeI{\isacharunderscore}sound{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ valid{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}normalize\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}rule\ cvalidtI{\isacharparenright}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ t\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}normalize\ c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ exec{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}\ t{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ exec{\isacharunderscore}normalize{\isacharunderscore}to{\isacharunderscore}exec{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ noFault{\isacharcolon}\ {\isachardoublequoteopen}t\ {\isasymnotin}\ Fault\ {\isacharbackquote}\ F{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}postD\ {\isacharbrackleft}OF\ valid\ {\isacharbrackleft}rule{\isacharunderscore}format{\isacharbrackright}\ ctxt\ exec\ P\ noFault{\isacharbrackright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ Normal\ {\isacharbackquote}\ Q\ {\isasymunion}\ Abrupt\ {\isacharbackquote}\ A{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ s\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ctxt{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}{\isacharparenleft}P{\isacharcomma}\ p{\isacharcomma}\ Q{\isacharcomma}\ A{\isacharparenright}{\isasymin}{\isasymTheta}{\isachardot}\ {\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}Call\ p{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cvalidt{\isacharunderscore}termD\ {\isacharbrackleft}OF\ valid\ ctxt\ P{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isacommand{{\isachardot}}\isamarkupfalse%
\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}normalize\ c\ {\isasymdown}\ Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isacharunderscore}to{\isacharunderscore}terminates{\isacharunderscore}normalize{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ NormalizeI{\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ deriv{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ {\isacharparenleft}normalize\ c{\isacharparenright}\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ NormalizeI{\isacharunderscore}sound{\isacharparenright}\isanewline
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}iprover\ intro{\isacharcolon}\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharbrackright}{\isacharparenright}\isanewline
\isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsubsection{Restricting the Procedure Environment%
}
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ validt{\isacharunderscore}restrict{\isacharunderscore}to{\isacharunderscore}validt{\isacharcolon}\isanewline
\isakeyword{assumes}\ validt{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharbar}\isactrlbsub M\isactrlesub {\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ validt{\isacharunderscore}c\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ valid{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharbar}\isactrlbsub M\isactrlesub {\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ valid{\isacharunderscore}restrict{\isacharunderscore}to{\isacharunderscore}valid{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \isacommand{{\isacharbraceleft}}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ s\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ P{\isacharcolon}\ {\isachardoublequoteopen}s\ {\isasymin}\ P{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isasymturnstile}c{\isasymdown}Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ P\ validt{\isacharunderscore}c\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharbar}\isactrlbsub M\isactrlesub {\isasymturnstile}c{\isasymdown}Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ P\ valid{\isacharunderscore}c\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharbar}\isactrlbsub M\isactrlesub {\isasymturnstile}{\isasymlangle}c{\isacharcomma}Normal\ s{\isasymrangle}\ {\isasymRightarrow}{\isasymnotin}{\isacharbraceleft}Stuck{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ valid{\isacharunderscore}def\ \ final{\isacharunderscore}notin{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ terminates{\isacharunderscore}restrict{\isacharunderscore}to{\isacharunderscore}terminates{\isacharparenright}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \isacommand{{\isacharbraceright}}\isamarkupfalse%
\isanewline
\ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ validt{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ augment{\isacharunderscore}procs{\isacharcolon}\isanewline
\isakeyword{assumes}\ deriv{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharbar}\isactrlbsub M\isactrlesub {\isacharcomma}{\isacharbraceleft}{\isacharbraceright}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isacharbraceleft}{\isacharbraceright}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ validt{\isacharunderscore}restrict{\isacharunderscore}to{\isacharunderscore}validt{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}insert\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharunderscore}c{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isamarkupsubsubsection{Miscellaneous%
}
\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ augment{\isacharunderscore}Faults{\isacharcolon}\isanewline
\isakeyword{assumes}\ deriv{\isacharunderscore}c{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isacharbraceleft}{\isacharbraceright}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ F{\isacharcolon}\ {\isachardoublequoteopen}F\ {\isasymsubseteq}\ F{\isacharprime}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isacharbraceleft}{\isacharbraceright}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F{\isacharprime}\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ validt{\isacharunderscore}augment{\isacharunderscore}Faults\ {\isacharbrackleft}OF\ {\isacharunderscore}\ F{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}insert\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ deriv{\isacharunderscore}c{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ TerminationPartial{\isacharunderscore}sound{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}termination{\isachardoublequoteclose}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}s\ {\isasymin}\ P{\isachardot}\ {\isasymGamma}{\isasymturnstile}c{\isasymdown}Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ partial{\isacharunderscore}corr{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ {\isachardoublequoteopen}termination{\isachardoublequoteclose}\ partial{\isacharunderscore}corr\ \isanewline
\isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def\ validt{\isacharunderscore}def\ cvalid{\isacharunderscore}def{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ TerminationPartial{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ partial{\isacharunderscore}deriv{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}termination{\isachardoublequoteclose}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}s\ {\isasymin}\ P{\isachardot}\ {\isasymGamma}{\isasymturnstile}c{\isasymdown}Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ TerminationPartial{\isacharunderscore}sound\ {\isacharbrackleft}OF\ {\isachardoublequoteopen}termination{\isachardoublequoteclose}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoare{\isacharunderscore}sound\ {\isacharbrackleft}OF\ partial{\isacharunderscore}deriv{\isacharbrackright}{\isacharparenright}\isanewline
\ \ \isacommand{done}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ TerminationPartialStrip{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ partial{\isacharunderscore}deriv{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}termination{\isachardoublequoteclose}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}s\ {\isasymin}\ P{\isachardot}\ strip\ F{\isacharprime}\ {\isasymGamma}{\isasymturnstile}strip{\isacharunderscore}guards\ F{\isacharprime}\ c{\isasymdown}Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ {\isachardoublequoteopen}termination{\isachardoublequoteclose}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}s\ {\isasymin}\ P{\isachardot}\ {\isasymGamma}{\isasymturnstile}c{\isasymdown}Normal\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}auto\ intro{\isacharcolon}\ terminates{\isacharunderscore}strip{\isacharunderscore}guards{\isacharunderscore}to{\isacharunderscore}terminates\ \isanewline
\ \ \ \ \ \ terminates{\isacharunderscore}strip{\isacharunderscore}to{\isacharunderscore}terminates{\isacharparenright}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ partial{\isacharunderscore}deriv\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ TerminationPartial{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ SplitTotalPartial{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ termi{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharprime}{\isacharcomma}A{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ part{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ termi{\isacharbrackright}\ hoare{\isacharunderscore}sound\ {\isacharbrackleft}OF\ part{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def\ validt{\isacharunderscore}def\ cvalid{\isacharunderscore}def\ valid{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \ \isanewline
\isacommand{lemma}\isamarkupfalse%
\ SplitTotalPartial{\isacharprime}{\isacharcolon}\isanewline
\ \ \isakeyword{assumes}\ termi{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}UNIV\isactrlesub \ P\ c\ Q{\isacharprime}{\isacharcomma}A{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{assumes}\ part{\isacharcolon}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymturnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ hoaret{\isacharunderscore}sound\ {\isacharbrackleft}OF\ termi{\isacharbrackright}\ hoare{\isacharunderscore}sound\ {\isacharbrackleft}OF\ part{\isacharbrackright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymGamma}{\isacharcomma}{\isasymTheta}{\isasymTurnstile}\isactrlsub t\isactrlbsub {\isacharslash}F\isactrlesub \ P\ c\ Q{\isacharcomma}A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}fastforce\ simp\ add{\isacharcolon}\ cvalidt{\isacharunderscore}def\ validt{\isacharunderscore}def\ cvalid{\isacharunderscore}def\ valid{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ hoaret{\isacharunderscore}complete{\isacharprime}{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\ \isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "root"
%%% End:
